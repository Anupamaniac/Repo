2012-03-29 02:26:28,212           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 02:27:48,048           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 02:27:49,442        1394 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-03-29 02:27:49,553        1505 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-03-29 02:27:49,590        1542 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-03-29 02:27:49,590        1542 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-03-29 02:27:49,594        1546 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-03-29 02:27:49,596        1548 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-03-29 02:27:49,597        1549 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-03-29 02:27:49,598        1550 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-03-29 02:28:42,987       54939 [main] ERROR (JDBCExceptionReporter.java:101) - Cannot create PoolableConnectionFactory (Io exception: The Network Adapter could not establish the connection)
2012-03-29 02:28:44,253       56205 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 02:28:44,297       56249 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:81) - Started
2012-03-29 02:28:44,338       56290 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 02:28:44,338       56290 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:81) - Started
2012-03-29 02:28:44,340       56292 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 02:28:44,340       56292 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:81) - Started
2012-03-29 02:28:44,342       56294 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 02:28:44,343       56295 [taskParatureExecutorThread] INFO  (TaskExecutorThread.java:81) - Started
2012-03-29 02:28:44,345       56297 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 02:28:44,349       56301 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:81) - Started
2012-03-29 02:28:44,351       56303 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 02:28:44,353       56305 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:81) - Started
2012-03-29 02:28:44,652       56604 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-03-29 02:28:44,652       56604 [main] INFO  (SpringLauncher.java:29) - Application started
2012-03-29 02:28:50,606       62558 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 02:28:55,608       67560 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 02:29:00,610       72562 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 02:29:05,612       77564 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 02:29:10,676       82628 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 02:29:15,678       87630 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 02:29:20,680       92632 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 02:29:25,682       97634 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 02:29:30,684      102636 [rabbitMqListener] INFO  (RabbitMqListener.java:115) - RMQ alive
2012-03-29 15:29:59,197           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 15:30:01,094        1897 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-03-29 15:30:01,206        2009 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-03-29 15:30:01,255        2058 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-03-29 15:30:01,255        2058 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-03-29 15:30:01,258        2061 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-03-29 15:30:01,262        2065 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-03-29 15:30:01,263        2066 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-03-29 15:30:01,264        2067 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-03-29 15:33:28,777           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 15:33:31,380        2603 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-03-29 15:33:31,504        2727 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-03-29 15:33:31,545        2768 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-03-29 15:33:31,546        2769 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-03-29 15:33:31,549        2772 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-03-29 15:33:31,551        2774 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-03-29 15:33:31,553        2776 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-03-29 15:33:31,553        2776 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-03-29 15:34:11,101       42324 [main] ERROR (JDBCExceptionReporter.java:101) - Cannot create PoolableConnectionFactory (Io exception: The Network Adapter could not establish the connection)
2012-03-29 15:34:36,089       67312 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-03-29 15:34:36,414       67637 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 15:34:36,434       67657 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 15:34:36,478       67701 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 15:34:36,479       67702 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 15:34:36,480       67703 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 15:34:36,481       67704 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 15:34:36,482       67705 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 15:34:36,486       67709 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 15:34:36,486       67709 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 15:34:36,544       67767 [taskParatureExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 15:34:36,547       67770 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 15:34:36,545       67768 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 15:34:36,645       67868 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-03-29 15:34:36,651       67874 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-03-29 15:34:36,651       67874 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-03-29 15:34:36,651       67874 [main] INFO  (SpringLauncher.java:29) - Application started
2012-03-29 15:34:41,873       73096 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 15:34:41,874       73097 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 15:34:41,875       73098 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 15:34:41,879       73102 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 15:34:41,880       73103 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 15:34:41,889       73112 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 15:34:41,890       73113 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 15:34:41,890       73113 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 15:34:41,893       73116 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 15:34:41,894       73117 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 15:34:41,894       73117 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 15:34:41,908       73131 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:102) - log event EMAIL
2012-03-29 15:34:41,914       73137 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 15:34:42,268       73491 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:34:48,184       79407 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:34:48,201       79424 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 15:34:54,119       85342 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:00,000       91223 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 15:35:00,000       91223 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 15:35:00,066       91289 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:00,315       91538 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 15:35:00,619       91842 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 15:35:00,946       92169 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 15:35:01,275       92498 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 15:35:05,987       97210 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:11,910      103133 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:17,832      109055 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:23,898      115121 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:29,849      121072 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:35,878      127101 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:41,812      133035 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:48,063      139286 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 15:35:53,964      145187 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:04:59,396           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 16:05:00,724        1328 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-03-29 16:05:00,838        1442 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-03-29 16:05:00,843        1447 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-03-29 16:05:00,843        1447 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-03-29 16:05:00,847        1451 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-03-29 16:05:00,850        1454 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-03-29 16:05:00,852        1456 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-03-29 16:05:00,852        1456 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-03-29 16:06:25,525       86129 [main] ERROR (JDBCExceptionReporter.java:101) - Cannot create PoolableConnectionFactory (Io exception: The Network Adapter could not establish the connection)
2012-03-29 16:06:54,004      114608 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-03-29 16:06:54,288      114892 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:06:54,290      114894 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:06:54,292      114896 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:06:54,295      114899 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:06:54,296      114900 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:06:54,297      114901 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:06:54,298      114902 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:06:54,299      114903 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:06:54,300      114904 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:06:54,299      114903 [taskParatureExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:06:54,299      114903 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:06:54,305      114909 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:06:54,385      114989 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-03-29 16:06:54,386      114990 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-03-29 16:06:54,394      114998 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-03-29 16:06:54,394      114998 [main] INFO  (SpringLauncher.java:29) - Application started
2012-03-29 16:07:00,001      120605 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 16:07:00,001      120605 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 16:07:00,212      120816 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:00,413      121017 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 16:07:00,743      121347 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 16:07:01,148      121752 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 16:07:01,488      122092 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 16:07:14,644      135248 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:20,574      141178 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:26,479      147083 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:32,390      152994 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:38,305      158909 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:44,356      164960 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:50,265      170869 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:56,201      176805 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:07:59,999      180603 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 16:07:59,999      180603 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 16:08:00,301      180905 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 16:08:00,627      181231 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 16:08:00,957      181561 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 16:08:01,310      181914 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 16:08:01,310      181914 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-03-29 16:08:01,315      181919 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Wed Feb 29 16:08:01 IST 2012
2012-03-29 16:08:02,127      182731 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:03,180      183784 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-03-29 16:08:08,028      188632 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:10,097      190701 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:16,076      196680 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:70) - Received: {
  "header": {
    "hostname": "stgrun002",
    "schema_version": 1,
    "created_at": 1309357173,
    "message_type": "level_completion_message"
  },
  "customer_data": {
    "time_zone": "America/Santiago",
    "address_line_2": "",
    "last_viewed_locale": "ko-KR",
    "city": "",
    "institutional": false,
    "guid": "f3faefc4-2b10-4c1c-b35c-e3293fad6111",
    "state_province": "",
    "last_name": "l1-completed-l1",
    "postal_code": "",
    "country_iso": 4,
    "first_name": "eng-v4",
    "email": "eng-v4@l1-completed-l1.totale",
    "contact_phone_number": "5403332111",
    "support_language_iso": "ko-KR",
    "address_line_1": "",
    "contact_phone_country_code": "1"
  },
  "license_data": {
    "upgraded_at": 1303249942,
    "product_rights": [
      {
        "rs_language_code": "ENG",
        "family": "application",
        "content_ranges": [
          "1-4"
        ]
      },
      {
        "rs_language_code": "ENG",
        "family": "eschool",
        "content_ranges": [
          "1-4"
        ]
      },
      {
        "rs_language_code": "ENG",
        "family": "premium_community",
        "content_ranges": [
          "1-4"
        ]
      }
    ],
    "creation_account_guid": "5ce12bb5-8423-4456-a388-d73d272ae8fc",
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true
  },
  "message": {
    "level": "1",
    "iso_language_code": "en-US",
    "guid": "f3faefc4-2b10-4c1c-b35c-e3293fad6111",
    "course": "SK-ENG-L1-NA-PE-NA-NA-Y-3",
    "rs_language_code": "ENG",
    "session_start_time": 1330189200
  }
}

2012-03-29 16:08:16,089      196693 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:16,091      196695 [taskPrepareExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.customerParatureApi
2012-03-29 16:08:16,092      196696 [taskPrepareExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.customerParatureApi
2012-03-29 16:08:16,095      196699 [taskPrepareExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:08:16,096      196700 [taskPrepareExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:08:16,106      196710 [taskPrepareExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:08:16,106      196710 [taskPrepareExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.customerParatureApi
2012-03-29 16:08:16,144      196748 [taskPrepareExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET https://d6-sandbox.parature.com/api/v1/14006/14037/Customer?_output_=json&FID88726=f3faefc4-2b10-4c1c-b35c-e3293fad6111&_fields_=89045,88035,88726,88036,90568,90569,90607,88027,88028,88029,88030,89415,88034&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:08:16,230      196834 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:22,137      202741 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:22,144      202748 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:27,057      207661 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:27,057      207661 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:50) - Received: com.rosettastone.succor.model.bandit.Event@1b9658e

2012-03-29 16:08:27,058      207662 [taskRuleExecutorThread] INFO  (RulesInvoker.java:95) - Update drools rules.
2012-03-29 16:08:28,060      208664 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:33,964      214568 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:37,049      217653 [taskRuleExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:08:37,050      217654 [taskRuleExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:08:37,055      217659 [taskRuleExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:08:37,055      217659 [taskRuleExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:08:37,056      217660 [taskRuleExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:08:37,056      217660 [taskRuleExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:08:37,056      217660 [taskRuleExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:08:37,059      217663 [taskRuleExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:08:37,060      217664 [taskRuleExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:08:37,060      217664 [taskRuleExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:08:37,074      217678 [taskRuleExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket?_output_=json&Ticket_Customer_id_=547484&FID90363=20435&FID90920=20440&_fields_=90920&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:08:39,863      220467 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:41,900      222504 [taskRuleExecutorThread] DEBUG (EventServiceImpl.java:134) - create ticket PHONE
2012-03-29 16:08:43,411      224015 [taskRuleExecutorThread] DEBUG (EventServiceImpl.java:146) - Need to update super ticket true
2012-03-29 16:08:45,763      226367 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:48,248      228852 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:51,682      232286 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:52,739      233343 [taskSMSExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:52,739      233343 [taskSMSExecutorThread] DEBUG (SMSService.java:60) - sending sms
2012-03-29 16:08:53,683      234287 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:41) - phoneNumber= 918807530993
message= ?   ???????.?6???????????????????????
locale= ko_KR
2012-03-29 16:08:53,683      234287 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:42) - 
message length = 37
2012-03-29 16:08:53,683      234287 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:46) - korean message is greater than 35 characters
2012-03-29 16:08:53,683      234287 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:50) - added a space for korean message
2012-03-29 16:08:53,716      234320 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:54) - messsage sent is?   ???????.?6???????????????????????to918807530993
2012-03-29 16:08:53,716      234320 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:55) - messsage sent is korean
2012-03-29 16:08:54,370      234974 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:54,370      234974 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:08:54,370      234974 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:08:54,370      234974 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:08:54,370      234974 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:08:54,371      234975 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:08:54,372      234976 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:08:54,372      234976 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:08:54,372      234976 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:08:54,373      234977 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:08:54,373      234977 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:08:54,374      234978 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:102) - log event SMS
2012-03-29 16:08:54,374      234978 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:08:55,139      235743 [taskSMSExecutorThread] DEBUG (SMSSender.java:67) - Message has been sent with Clickatell,messageId:569defe25f0a0ffb1e3da6434a64a586
2012-03-29 16:08:55,443      236047 [taskSMSExecutorThread] DEBUG (SMSService.java:72) - sending sms done
2012-03-29 16:08:55,444      236048 [taskSMSExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:56,431      237035 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:227) - <Ticket>
  <Ticket_Customer>
    <Customer id="547484"/>
  </Ticket_Customer>
  <Custom_Field id="90363">
    <Option id="20435" selected="true"/>
  </Custom_Field>
  <Email_Notification>false</Email_Notification>
  <Hide_From_Customer>true</Hide_From_Customer>
  <Custom_Field id="90920">
    <Option id="20440" selected="true"/>
  </Custom_Field>
  <Custom_Field id="90361">English (American) Super Ticket</Custom_Field>
  <Custom_Field id="90365">
    <Option id="20436" selected="true"/>
  </Custom_Field>
</Ticket>
2012-03-29 16:08:56,433      237037 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_enforceRequiredFields_=false&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:08:58,118      238722 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:08:58,132      238736 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:227) - <Ticket>
  <Action>
    <Action id="1743">
      <Comment>This trigger was generated on 06/29/11 07:49 PM EST.
</Comment>
      <ShowToCust>false</ShowToCust>
      <ShowToAdditionalContact>true</ShowToAdditionalContact>
    </Action>
  </Action>
</Ticket>
2012-03-29 16:08:58,132      238736 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:08:59,474      240078 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:59,703      240307 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:08:59,998      240602 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 16:08:59,998      240602 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 16:09:00,154      240758 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-03-29 16:09:00,371      240975 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 16:09:00,410      241014 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-03-29 16:09:00,679      241283 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 16:09:00,722      241326 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:09:00,981      241585 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 16:09:01,287      241891 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 16:09:04,018      244622 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:07,925      248529 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:09:07,926      248530 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:09:07,926      248530 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:09:07,926      248530 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:09:07,926      248530 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:09:07,926      248530 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:09:07,927      248531 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:09:07,927      248531 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:09:07,927      248531 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:09:07,927      248531 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:09:07,927      248531 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:09:07,928      248532 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:102) - log event PHONE
2012-03-29 16:09:07,928      248532 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:09:09,919      250523 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:10,012      250616 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:227) - <Ticket>
  <Ticket_Customer>
    <Customer id="547484"/>
  </Ticket_Customer>
  <Custom_Field id="90363">
    <Option id="20435" selected="true"/>
  </Custom_Field>
  <Email_Notification>false</Email_Notification>
  <Hide_From_Customer>true</Hide_From_Customer>
  <Custom_Field id="90920">
    <Option id="20440" selected="true"/>
  </Custom_Field>
  <Custom_Field id="90361">English (American) Super Ticket</Custom_Field>
  <Custom_Field id="90365">
    <Option id="20436" selected="true"/>
  </Custom_Field>
</Ticket>
2012-03-29 16:09:10,013      250617 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_enforceRequiredFields_=false&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:09:12,827      253431 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:227) - <Ticket>
  <Action>
    <Action id="1394">
      <Comment>This trigger was generated on 06/29/11 07:49 PM EST.
</Comment>
      <ShowToCust>false</ShowToCust>
      <ShowToAdditionalContact>true</ShowToAdditionalContact>
    </Action>
  </Action>
</Ticket>
2012-03-29 16:09:12,828      253432 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:09:13,818      254422 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:09:15,853      256457 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:19,882      260486 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:09:19,883      260487 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:09:19,883      260487 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:09:19,883      260487 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:09:19,883      260487 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:09:19,884      260488 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:09:19,884      260488 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:09:19,884      260488 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:09:19,884      260488 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:09:19,885      260489 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:09:19,885      260489 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:09:19,885      260489 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:87) - Create new parature ticket
2012-03-29 16:09:20,798      261402 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:227) - <Ticket>
  <Ticket_Customer>
    <Customer id="547484"/>
  </Ticket_Customer>
  <Custom_Field id="90363">
    <Option id="17691" selected="true"/>
  </Custom_Field>
  <Email_Notification>true</Email_Notification>
  <Hide_From_Customer>false</Hide_From_Customer>
  <Custom_Field id="90375">
    <Option id="17782" selected="true"/>
  </Custom_Field>
  <Custom_Field id="90389">English (American) L1
06/29/11 07:49 PM</Custom_Field>
  <Custom_Field id="90361">Congrats on completing level 1 in totale.</Custom_Field>
  <Custom_Field id="90365">
    <Option id="17692" selected="true"/>
  </Custom_Field>
</Ticket>
2012-03-29 16:09:20,799      261403 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - POST https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/?_enforceRequiredFields_=false&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:09:21,773      262377 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:22,368      262972 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.csrParatureApi
2012-03-29 16:09:22,368      262972 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.csrParatureApi
2012-03-29 16:09:22,371      262975 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:09:22,371      262975 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.csrParatureApi
2012-03-29 16:09:22,379      262983 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:183) - Can not assign ticket to null CSR.
2012-03-29 16:09:22,679      263283 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:09:27,486      268090 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:09:27,486      268090 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:09:27,486      268090 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:09:27,486      268090 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:09:27,486      268090 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:09:27,487      268091 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:09:27,487      268091 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:09:27,487      268091 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:09:27,487      268091 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:09:27,488      268092 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:09:27,488      268092 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:09:27,488      268092 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:102) - log event EMAIL
2012-03-29 16:09:27,488      268092 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:09:27,674      268278 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:30,125      270729 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:227) - <Ticket>
  <Ticket_Customer>
    <Customer id="547484"/>
  </Ticket_Customer>
  <Custom_Field id="90363">
    <Option id="20435" selected="true"/>
  </Custom_Field>
  <Email_Notification>false</Email_Notification>
  <Hide_From_Customer>true</Hide_From_Customer>
  <Custom_Field id="90920">
    <Option id="20440" selected="true"/>
  </Custom_Field>
  <Custom_Field id="90361">English (American) Super Ticket</Custom_Field>
  <Custom_Field id="90365">
    <Option id="20436" selected="true"/>
  </Custom_Field>
</Ticket>
2012-03-29 16:09:30,125      270729 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_enforceRequiredFields_=false&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:09:31,982      272586 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:227) - <Ticket>
  <Action>
    <Action id="1395">
      <Comment>This trigger was generated on 06/29/11 07:49 PM EST.
testing</Comment>
      <ShowToCust>false</ShowToCust>
      <ShowToAdditionalContact>true</ShowToAdditionalContact>
    </Action>
  </Action>
</Ticket>
2012-03-29 16:09:31,982      272586 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:09:33,431      274035 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:09:33,594      274198 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:39,513      280117 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:45,449      286053 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:51,348      291952 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:57,247      297851 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:09:59,994      300598 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-03-29 16:10:00,304      300908 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-03-29 16:10:00,304      300908 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Wed Feb 29 16:10:00 IST 2012
2012-03-29 16:10:01,863      302467 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-03-29 16:10:01,864      302468 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 16:10:01,864      302468 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 16:10:02,168      302772 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 16:10:02,471      303075 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 16:10:03,148      303752 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:10:03,319      303923 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 16:10:03,625      304229 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 16:10:09,076      309680 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:10:14,976      315580 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:10:20,895      321499 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:10:26,824      327428 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:10:32,729      333333 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:15:34,406           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 16:15:35,644        1238 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-03-29 16:15:35,758        1352 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-03-29 16:15:35,764        1358 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-03-29 16:15:35,764        1358 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-03-29 16:15:35,767        1361 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-03-29 16:15:35,769        1363 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-03-29 16:15:35,771        1365 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-03-29 16:15:35,771        1365 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-03-29 16:15:52,591           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 16:16:09,912       17321 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-03-29 16:16:10,082       17491 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-03-29 16:16:10,091       17500 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-03-29 16:16:10,092       17501 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-03-29 16:16:10,097       17506 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-03-29 16:16:10,100       17509 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-03-29 16:16:10,103       17512 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-03-29 16:16:10,103       17512 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-03-29 16:16:25,505           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 16:16:46,220       20715 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-03-29 16:16:46,352       20847 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-03-29 16:16:46,357       20852 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-03-29 16:16:46,358       20853 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-03-29 16:16:46,361       20856 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-03-29 16:16:46,364       20859 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-03-29 16:16:46,365       20860 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-03-29 16:16:46,365       20860 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-03-29 16:19:34,834           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-03-29 16:19:36,071        1237 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-03-29 16:19:36,187        1353 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-03-29 16:19:36,192        1358 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-03-29 16:19:36,193        1359 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-03-29 16:19:36,196        1362 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-03-29 16:19:36,198        1364 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-03-29 16:19:36,200        1366 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-03-29 16:19:36,200        1366 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-03-29 16:20:13,150       38316 [main] ERROR (JDBCExceptionReporter.java:101) - Cannot create PoolableConnectionFactory (Io exception: The Network Adapter could not establish the connection)
2012-03-29 16:20:39,021       64187 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-03-29 16:20:39,294       64460 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:20:39,295       64461 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:20:39,297       64463 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:20:39,300       64466 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:20:39,301       64467 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:20:39,302       64468 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:20:39,303       64469 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:20:39,304       64470 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:20:39,304       64470 [taskParatureExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:20:39,305       64471 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:20:39,307       64473 [main] INFO  (TaskExecutorThread.java:47) - init
2012-03-29 16:20:39,308       64474 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-03-29 16:20:39,388       64554 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-03-29 16:20:39,389       64555 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-03-29 16:20:39,396       64562 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-03-29 16:20:39,396       64562 [main] INFO  (SpringLauncher.java:29) - Application started
2012-03-29 16:20:45,747       70913 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:20:51,697       76863 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:20:57,610       82776 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:00,000       85166 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 16:21:00,000       85166 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 16:21:00,374       85540 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 16:21:00,714       85880 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 16:21:01,133       86299 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 16:21:02,084       87250 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 16:21:03,647       88813 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:09,549       94715 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:15,454      100620 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:21,353      106519 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:27,264      112430 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:33,190      118356 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:35,208      120374 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:36,162      121328 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:70) - Received: {
  "header": {
    "hostname": "stgrun002",
    "schema_version": 1,
    "created_at": 1309357173,
    "message_type": "level_completion_message"
  },
  "customer_data": {
    "time_zone": "America/Santiago",
    "address_line_2": "",
    "last_viewed_locale": "ko-KR",
    "city": "",
    "institutional": false,
    "guid": "f3faefc4-2b10-4c1c-b35c-e3293fad6111",
    "state_province": "",
    "last_name": "l1-completed-l1",
    "postal_code": "",
    "country_iso": 4,
    "first_name": "eng-v4",
    "email": "eng-v4@l1-completed-l1.totale",
    "contact_phone_number": "5403332111",
    "support_language_iso": "ko-KR",
    "address_line_1": "",
    "contact_phone_country_code": "1"
  },
  "license_data": {
    "upgraded_at": 1303249942,
    "product_rights": [
      {
        "rs_language_code": "ENG",
        "family": "application",
        "content_ranges": [
          "1-4"
        ]
      },
      {
        "rs_language_code": "ENG",
        "family": "eschool",
        "content_ranges": [
          "1-4"
        ]
      },
      {
        "rs_language_code": "ENG",
        "family": "premium_community",
        "content_ranges": [
          "1-4"
        ]
      }
    ],
    "creation_account_guid": "5ce12bb5-8423-4456-a388-d73d272ae8fc",
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true
  },
  "message": {
    "level": "1",
    "iso_language_code": "en-US",
    "guid": "f3faefc4-2b10-4c1c-b35c-e3293fad6111",
    "course": "SK-ENG-L1-NA-PE-NA-NA-Y-3",
    "rs_language_code": "ENG",
    "session_start_time": 1330189200
  }
}

2012-03-29 16:21:36,171      121337 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:21:36,172      121338 [taskPrepareExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.customerParatureApi
2012-03-29 16:21:36,173      121339 [taskPrepareExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.customerParatureApi
2012-03-29 16:21:36,176      121342 [taskPrepareExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:21:36,176      121342 [taskPrepareExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:21:36,186      121352 [taskPrepareExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:21:36,187      121353 [taskPrepareExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.customerParatureApi
2012-03-29 16:21:36,199      121365 [taskPrepareExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:21:36,202      121368 [taskPrepareExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Customer?_output_=json&FID88726=f3faefc4-2b10-4c1c-b35c-e3293fad6111&_fields_=89045,88035,88726,88036,90568,90569,90607,88027,88028,88029,88030,89415,88034&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:21:40,486      125652 [taskPrepareExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++))))))))){
  "?xml": {
    "@version": "1.0",
    "@encoding": "utf-8"
  },
  "Entities": {
    "@total": "1",
    "@results": "1",
    "@page": "1",
    "@page-size": "25",
    "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Customer?_output_=json&FID88726=f3faefc4-2b10-4c1c-b35c-e3293fad6111&_fields_=89045,88035,88726,88036,90568,90569,90607,88027,88028,88029,88030,89415,88034",
    "Customer": [
      {
        "@id": "547484",
        "@uid": "14006/14037/Customer/547484",
        "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Customer/547484",
        "@service-desk-uri": "https://d6-sandbox.parature.com/ics/customer/custDetail.asp?customerNum=547484",
        "Customer_Role": {
          "@display-name": "Customer Role",
          "@required": "false",
          "@editable": "true",
          "@data-type": "entity",
          "CustomerRole": {
            "@id": "2",
            "@uid": "14006/14037/Customer/role/2",
            "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Customer/role/2",
            "Name": {
              "@display-name": "Name",
              "#text": "Customer"
            }
          }
        },
        "Date_Created": {
          "@display-name": "Date Created",
          "@required": "false",
          "@editable": "false",
          "@data-type": "date",
          "#text": "2010-09-09T21:27:52.203Z"
        },
        "Date_Updated": {
          "@display-name": "Date Updated",
          "@required": "false",
          "@editable": "false",
          "@data-type": "date",
          "#text": "2012-03-22T09:53:09.083Z"
        },
        "Date_Visited": {
          "@display-name": "Date Visited",
          "@required": "false",
          "@editable": "false",
          "@data-type": "date",
          "#text": "2011-05-18T00:45:29.200Z"
        },
        "Email": {
          "@display-name": "???",
          "@required": "true",
          "@editable": "true",
          "@data-type": "string",
          "#text": "eng-v4@l1-completed-l1.totale"
        },
        "First_Name": {
          "@display-name": "??",
          "@required": "true",
          "@editable": "true",
          "@data-type": "string",
          "#text": "??"
        },
        "Last_Name": {
          "@display-name": "?",
          "@required": "true",
          "@editable": "true",
          "@data-type": "string",
          "#text": "?"
        },
        "Sla": {
          "@display-name": "Service Level Agreement",
          "@required": "true",
          "@editable": "true",
          "@data-type": "entity",
          "Sla": {
            "@id": "42",
            "@uid": "14006/14037/Sla/42",
            "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Sla/42",
            "Name": {
              "@display-name": "Name",
              "#text": "Learner"
            }
          }
        },
        "Status": {
          "@display-name": "??",
          "@required": "true",
          "@editable": "true",
          "@data-type": "entity",
          "Status": {
            "@id": "2",
            "@uid": "14006/14037/Customer/status/2",
            "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Customer/status/2",
            "Name": {
              "@display-name": "Name",
              "#text": "REGISTERED"
            }
          }
        },
        "Custom_Field": [
          {
            "@id": "90568",
            "@display-name": "Community First Name",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string",
            "#text": "Dean"
          },
          {
            "@id": "90569",
            "@display-name": "Community Last Name",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string",
            "#text": "Pelton"
          },
          {
            "@id": "88027",
            "@display-name": "Address Line 1",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string"
          },
          {
            "@id": "88028",
            "@display-name": "Address Line 2",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string"
          },
          {
            "@id": "88029",
            "@display-name": "City",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string"
          },
          {
            "@id": "88030",
            "@display-name": "State/Province",
            "@required": "false",
            "@editable": "true",
            "@dependent": "true",
            "@data-type": "option",
            "@multi-value": "false",
            "Option": [
              {
                "@id": "237",
                "Value": "Alabama"
              },
              {
                "@id": "238",
                "Value": "Alaska"
              },
              {
                "@id": "239",
                "Value": "Alberta"
              },
              {
                "@id": "240",
                "Value": "American Samoa"
              },
              {
                "@id": "241",
                "Value": "Arizona"
              },
              {
                "@id": "242",
                "Value": "Arkansas"
              },
              {
                "@id": "243",
                "Value": "British Columbia"
              },
              {
                "@id": "244",
                "Value": "California"
              },
              {
                "@id": "245",
                "Value": "Colorado"
              },
              {
                "@id": "246",
                "Value": "Connecticut"
              },
              {
                "@id": "247",
                "Value": "Delaware"
              },
              {
                "@id": "248",
                "Value": "District of Columbia"
              },
              {
                "@id": "249",
                "Value": "Florida"
              },
              {
                "@id": "250",
                "Value": "Georgia"
              },
              {
                "@id": "251",
                "Value": "Hawaii"
              },
              {
                "@id": "252",
                "Value": "Idaho"
              },
              {
                "@id": "253",
                "Value": "Illinois"
              },
              {
                "@id": "254",
                "Value": "Indiana"
              },
              {
                "@id": "255",
                "Value": "Iowa"
              },
              {
                "@id": "256",
                "Value": "Kansas"
              },
              {
                "@id": "257",
                "Value": "Kentucky"
              },
              {
                "@id": "258",
                "Value": "Louisiana"
              },
              {
                "@id": "259",
                "Value": "Maine"
              },
              {
                "@id": "260",
                "Value": "Manitoba"
              },
              {
                "@id": "261",
                "Value": "Maryland"
              },
              {
                "@id": "262",
                "Value": "Massachusetts"
              },
              {
                "@id": "263",
                "Value": "Michigan"
              },
              {
                "@id": "264",
                "Value": "Minnesota"
              },
              {
                "@id": "265",
                "Value": "Mississippi"
              },
              {
                "@id": "266",
                "Value": "Missouri"
              },
              {
                "@id": "267",
                "Value": "Montana"
              },
              {
                "@id": "268",
                "Value": "Nebraska"
              },
              {
                "@id": "269",
                "Value": "Nevada"
              },
              {
                "@id": "270",
                "Value": "New Brunswick"
              },
              {
                "@id": "271",
                "Value": "New Hampshire"
              },
              {
                "@id": "272",
                "Value": "New Jersey"
              },
              {
                "@id": "273",
                "Value": "New Mexico"
              },
              {
                "@id": "274",
                "Value": "New York"
              },
              {
                "@id": "275",
                "Value": "Newfoundland"
              },
              {
                "@id": "276",
                "Value": "North Carolina"
              },
              {
                "@id": "277",
                "Value": "North Dakota"
              },
              {
                "@id": "278",
                "Value": "Northwest Territories"
              },
              {
                "@id": "279",
                "Value": "Nova Scotia"
              },
              {
                "@id": "280",
                "Value": "Nunavut"
              },
              {
                "@id": "281",
                "Value": "Ohio"
              },
              {
                "@id": "282",
                "Value": "Oklahoma"
              },
              {
                "@id": "283",
                "Value": "Ontario"
              },
              {
                "@id": "284",
                "Value": "Oregon"
              },
              {
                "@id": "285",
                "Value": "Pennsylvania"
              },
              {
                "@id": "286",
                "Value": "Prince Edward Island"
              },
              {
                "@id": "287",
                "Value": "Quebec"
              },
              {
                "@id": "288",
                "Value": "Rhode Island"
              },
              {
                "@id": "289",
                "Value": "Sasketchewan"
              },
              {
                "@id": "290",
                "Value": "South Carolina"
              },
              {
                "@id": "291",
                "Value": "South Dakota"
              },
              {
                "@id": "292",
                "Value": "Tennessee"
              },
              {
                "@id": "293",
                "Value": "Texas"
              },
              {
                "@id": "294",
                "Value": "Utah"
              },
              {
                "@id": "295",
                "Value": "Vermont"
              },
              {
                "@id": "296",
                "Value": "Virginia"
              },
              {
                "@id": "297",
                "Value": "Washington"
              },
              {
                "@id": "298",
                "Value": "West Virginia"
              },
              {
                "@id": "299",
                "Value": "Wisconsin"
              },
              {
                "@id": "300",
                "Value": "Wyoming"
              },
              {
                "@id": "301",
                "Value": "Yukon"
              }
            ]
          },
          {
            "@id": "89415",
            "@display-name": "State / Province",
            "@required": "false",
            "@editable": "true",
            "@dependent": "true",
            "@data-type": "string"
          },
          {
            "@id": "88034",
            "@display-name": "Country",
            "@required": "false",
            "@editable": "true",
            "@data-type": "option",
            "@multi-value": "false",
            "Option": [
              {
                "@id": "15",
                "Value": "Afghanistan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "16",
                "Value": "Albania",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "17",
                "Value": "Algeria",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "18",
                "Value": "American Samoa",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "19",
                "Value": "Andorra",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "20",
                "Value": "Angola",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "21",
                "Value": "Anguilla",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "22",
                "Value": "Antarctica",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "23",
                "Value": "Antigua and Barbuda",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "24",
                "Value": "Argentina",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "25",
                "Value": "Armenia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "26",
                "Value": "Aruba",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "27",
                "Value": "Australia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "28",
                "Value": "Austria",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "29",
                "Value": "Azerbaijan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "30",
                "Value": "Bahamas",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "31",
                "Value": "Bahrain",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "32",
                "Value": "Bangladesh",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "33",
                "Value": "Barbados",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "34",
                "Value": "Belarus",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "35",
                "Value": "Belgium",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "36",
                "Value": "Belize",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "37",
                "Value": "Benin",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "38",
                "Value": "Bermuda",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "39",
                "Value": "Bhutan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "40",
                "Value": "Bolivia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "41",
                "Value": "Bosnia and Herzegovina",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "42",
                "Value": "Botswana",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "43",
                "Value": "Brazil",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "44",
                "Value": "British Virgin Islands",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "45",
                "Value": "Brunei Darussalam",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "46",
                "Value": "Bulgaria",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "47",
                "Value": "Burkina Faso",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "48",
                "Value": "Burma",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "49",
                "Value": "Burundi",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "50",
                "Value": "Cambodia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "51",
                "Value": "Cameroon",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "52",
                "Value": "Canada",
                "Enables": "/Customer/Custom_Field[@id = 88030]"
              },
              {
                "@id": "53",
                "Value": "Cape Verde",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "54",
                "Value": "Central African Republic",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "55",
                "Value": "Chad",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "56",
                "Value": "Chile",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "57",
                "Value": "China",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "58",
                "Value": "Colombia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "59",
                "Value": "Comoros",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "60",
                "Value": "Congo",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "61",
                "Value": "Congo (Zaire)",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "62",
                "Value": "Cook Islands",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "63",
                "Value": "Costa Rica",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "64",
                "Value": "Cte d'Ivoire",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "65",
                "Value": "Croatia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "66",
                "Value": "Cuba",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "67",
                "Value": "Cyprus",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "68",
                "Value": "Czech Republic",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "69",
                "Value": "Denmark",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "70",
                "Value": "Djibouti",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "71",
                "Value": "Dominica",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "72",
                "Value": "Dominican Republic",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "73",
                "Value": "Ecuador",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "74",
                "Value": "Egypt",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "75",
                "Value": "El Salvador",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "76",
                "Value": "Equatorial Guinea",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "77",
                "Value": "Eritrea",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "78",
                "Value": "Estonia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "79",
                "Value": "Ethiopia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "80",
                "Value": "Falkland Islands (Malvinas)",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "81",
                "Value": "Micronesia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "82",
                "Value": "Fiji",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "83",
                "Value": "Finland",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "84",
                "Value": "France",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "85",
                "Value": "French Guiana",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "86",
                "Value": "French Polynesia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "87",
                "Value": "Gabon",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "88",
                "Value": "Gaza Strip and West Bank",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "89",
                "Value": "Georgia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "90",
                "Value": "Germany",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "91",
                "Value": "Ghana",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "92",
                "Value": "Gibraltar",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "93",
                "Value": "Greece",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "94",
                "Value": "Greenland",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "95",
                "Value": "Grenada",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "96",
                "Value": "Guadeloupe",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "97",
                "Value": "Guam",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "98",
                "Value": "Guatemala",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "99",
                "Value": "Guinea",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "100",
                "Value": "Guinea-Bissau",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "101",
                "Value": "Guyana",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "102",
                "Value": "Haiti",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "103",
                "Value": "Honduras",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "104",
                "Value": "Hong Kong",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "105",
                "Value": "Hungary",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "106",
                "Value": "Iceland",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "107",
                "Value": "India",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "108",
                "Value": "Indonesia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "109",
                "Value": "Iran",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "110",
                "Value": "Iraq",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "111",
                "Value": "Ireland",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "112",
                "Value": "Israel",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "113",
                "Value": "Italy",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "114",
                "Value": "Jamaica",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "115",
                "Value": "Japan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "116",
                "Value": "Jordan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "117",
                "Value": "Kazakhstan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "118",
                "Value": "Kenya",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "119",
                "Value": "Kiribati",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "120",
                "Value": "Kuwait",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "121",
                "Value": "Kyrgyzstan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "122",
                "Value": "Laos",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "123",
                "Value": "Latvia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "124",
                "Value": "Lebanon",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "125",
                "Value": "Lesotho",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "126",
                "Value": "Liberia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "127",
                "Value": "Libya",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "128",
                "Value": "Liechtenstein",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "129",
                "Value": "Lithuania",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "130",
                "Value": "Luxembourg",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "131",
                "Value": "Macao",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "132",
                "Value": "Macedonia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "133",
                "Value": "Madagascar",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "134",
                "Value": "Malawi",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "135",
                "Value": "Malaysia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "136",
                "Value": "Maldives",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "137",
                "Value": "Mali",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "138",
                "Value": "Malta",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "139",
                "Value": "Marshall Islands",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "140",
                "Value": "Martinique",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "141",
                "Value": "Mauritania",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "142",
                "Value": "Mauritius",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "143",
                "Value": "Mayotte",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "144",
                "Value": "Mexico",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "145",
                "Value": "Moldova",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "146",
                "Value": "Monaco",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "147",
                "Value": "Mongolia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "148",
                "Value": "Montserrat",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "149",
                "Value": "Morocco",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "150",
                "Value": "Mozambique",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "151",
                "Value": "Namibia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "152",
                "Value": "Nauru",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "153",
                "Value": "Nepal",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "154",
                "Value": "Netherlands",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "155",
                "Value": "Netherlands Antilles",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "156",
                "Value": "New Caledonia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "157",
                "Value": "New Zealand",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "158",
                "Value": "Nicaragua",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "159",
                "Value": "Niger",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "160",
                "Value": "Nigeria",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "161",
                "Value": "North Korea",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "162",
                "Value": "Northern Mariana Islands",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "163",
                "Value": "Norway",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "164",
                "Value": "Oman",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "165",
                "Value": "Pakistan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "166",
                "Value": "Palau",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "167",
                "Value": "Panama",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "168",
                "Value": "Papua New Guinea",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "169",
                "Value": "Paraguay",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "170",
                "Value": "Peru",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "171",
                "Value": "Philippines",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "172",
                "Value": "Pitcairn Islands",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "173",
                "Value": "Poland",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "174",
                "Value": "Portugal",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "175",
                "Value": "Puerto Rico",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "176",
                "Value": "Qatar",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "177",
                "Value": "Runion",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "178",
                "Value": "Romania",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "179",
                "Value": "Russia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "180",
                "Value": "Rwanda",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "181",
                "Value": "Saint Kitts and Nevis",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "182",
                "Value": "Saint Lucia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "183",
                "Value": "Saint Pierre and Miquelon",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "184",
                "Value": "Saint Vincent and the Grenadines",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "185",
                "Value": "Samoa",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "186",
                "Value": "San Marino",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "187",
                "Value": "Sao Tome and Principe",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "188",
                "Value": "Saudi Arabia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "189",
                "Value": "Senegal",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "190",
                "Value": "Montenegro",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "191",
                "Value": "Seychelles",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "192",
                "Value": "Sierra Leone",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "193",
                "Value": "Singapore",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "194",
                "Value": "Slovakia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "195",
                "Value": "Slovenia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "196",
                "Value": "Solomon Islands",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "197",
                "Value": "Somalia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "198",
                "Value": "South Africa",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "199",
                "@selected": "true",
                "Value": "South Korea",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "200",
                "Value": "Spain",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "201",
                "Value": "Sri Lanka",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "202",
                "Value": "Sudan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "203",
                "Value": "Suriname",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "204",
                "Value": "Swaziland",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "205",
                "Value": "Sweden",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "206",
                "Value": "Switzerland",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "207",
                "Value": "Syria",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "208",
                "Value": "Taiwan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "209",
                "Value": "Tajikistan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "210",
                "Value": "Tanzania",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "211",
                "Value": "Thailand",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "212",
                "Value": "Gambia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "213",
                "Value": "Holy See",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "214",
                "Value": "Togo",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "215",
                "Value": "Tonga",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "216",
                "Value": "Trinidad and Tobago",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "217",
                "Value": "Tunisia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "218",
                "Value": "Turkey",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "219",
                "Value": "Turkmenistan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "220",
                "Value": "Turks and Caicos Islands",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "221",
                "Value": "Tuvalu",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "222",
                "Value": "Uganda",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "223",
                "Value": "Ukraine",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "224",
                "Value": "United Arab Emirates",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "225",
                "Value": "United Kingdom",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "226",
                "Value": "United States",
                "Enables": "/Customer/Custom_Field[@id = 88030]"
              },
              {
                "@id": "227",
                "Value": "Virgin Islands, U.S.",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "228",
                "Value": "Uruguay",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "229",
                "Value": "Uzbekistan",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "230",
                "Value": "Vanuatu",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "231",
                "Value": "Venezuela",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "232",
                "Value": "Viet Nam",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "233",
                "Value": "Western Sahara",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "234",
                "Value": "Yemen",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "235",
                "Value": "Zambia",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "236",
                "Value": "Zimbabwe",
                "Enables": "/Customer/Custom_Field[@id = 89415]"
              },
              {
                "@id": "16299",
                "Value": "Cayman Islands"
              },
              {
                "@id": "16300",
                "Value": "Christmas Island"
              },
              {
                "@id": "16301",
                "Value": "DR Congo"
              },
              {
                "@id": "16302",
                "Value": "Faeroe Islands"
              },
              {
                "@id": "16303",
                "Value": "French Southern Territories"
              },
              {
                "@id": "16304",
                "Value": "Guernsey"
              },
              {
                "@id": "16305",
                "Value": "Heard Island and McDonald Islands"
              },
              {
                "@id": "16306",
                "Value": "Isle of Man"
              },
              {
                "@id": "16307",
                "Value": "Jersey"
              },
              {
                "@id": "16308",
                "Value": "Myanmar"
              },
              {
                "@id": "16309",
                "Value": "Niue"
              },
              {
                "@id": "16310",
                "Value": "Norfolk Island"
              },
              {
                "@id": "16311",
                "Value": "Palestine"
              },
              {
                "@id": "16312",
                "Value": "Pitcairn"
              },
              {
                "@id": "16313",
                "Value": "Republic of Congo"
              },
              {
                "@id": "16314",
                "Value": "Saint Helena"
              },
              {
                "@id": "16315",
                "Value": "Saint-Barthlemy"
              },
              {
                "@id": "16316",
                "Value": "Saint-Martin (French part)"
              },
              {
                "@id": "16317",
                "Value": "Serbia"
              },
              {
                "@id": "16318",
                "Value": "South Georgia and the South Sandwich Islands"
              },
              {
                "@id": "16319",
                "Value": "Svalbard and Jan Mayen Islands"
              },
              {
                "@id": "16320",
                "Value": "Timor-Leste"
              },
              {
                "@id": "16321",
                "Value": "Tokelau"
              },
              {
                "@id": "16322",
                "Value": "Wallis and Futuna Islands"
              },
              {
                "@id": "16323",
                "Value": "Channel Islands"
              },
              {
                "@id": "16324",
                "Value": "Keeling Islands"
              },
              {
                "@id": "16325",
                "Value": "land Islands"
              }
            ]
          },
          {
            "@id": "90607",
            "@display-name": "Dedicated Agent",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string"
          },
          {
            "@id": "88035",
            "@display-name": "Phone",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string",
            "#text": "15403332111"
          },
          {
            "@id": "88036",
            "@display-name": "Mobile",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string",
            "#text": "918807530993"
          },
          {
            "@id": "89045",
            "@display-name": "Method of Contact",
            "@required": "false",
            "@editable": "true",
            "@data-type": "option",
            "@multi-value": "true",
            "Option": [
              {
                "@id": "6806",
                "Value": "Phone"
              },
              {
                "@id": "6807",
                "Value": "Email"
              },
              {
                "@id": "6809",
                "Value": "Do Not Contact"
              },
              {
                "@id": "10438",
                "Value": "Mail"
              },
              {
                "@id": "21096",
                "Value": "Text Message"
              },
              {
                "@id": "21434",
                "Value": "Chat"
              },
              {
                "@id": "21435",
                "Value": "Social Media"
              }
            ]
          },
          {
            "@id": "88726",
            "@display-name": "Licenses GUID",
            "@required": "false",
            "@editable": "true",
            "@data-type": "string",
            "#text": "f3faefc4-2b10-4c1c-b35c-e3293fad6111"
          }
        ]
      }
    ]
  }
}
2012-03-29 16:21:41,143      126309 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:42,148      127314 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:21:47,185      132351 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:51,321      136487 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:21:51,322      136488 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:50) - Received: com.rosettastone.succor.model.bandit.Event@19576c3

2012-03-29 16:21:51,322      136488 [taskRuleExecutorThread] INFO  (RulesInvoker.java:95) - Update drools rules.
2012-03-29 16:21:53,156      138322 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:59,056      144222 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:21:59,999      145165 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-03-29 16:22:00,001      145167 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Wed Feb 29 16:21:59 IST 2012
2012-03-29 16:22:01,691      146857 [taskRuleExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:22:01,691      146857 [taskRuleExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:22:01,696      146862 [taskRuleExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:22:01,697      146863 [taskRuleExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:22:01,697      146863 [taskRuleExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:22:01,697      146863 [taskRuleExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:22:01,697      146863 [taskRuleExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:22:01,700      146866 [taskRuleExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:22:01,701      146867 [taskRuleExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:22:01,702      146868 [taskRuleExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:22:01,715      146881 [taskRuleExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:01,715      146881 [taskRuleExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket?_output_=json&Ticket_Customer_id_=547484&FID90363=20435&FID90920=20440&_fields_=90920&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:01,847      147013 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-03-29 16:22:01,848      147014 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 16:22:01,848      147014 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 16:22:02,152      147318 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 16:22:02,458      147624 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 16:22:02,765      147931 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 16:22:03,035      148201 [taskRuleExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++))))))))){
  "?xml": {
    "@version": "1.0",
    "@encoding": "utf-8"
  },
  "Entities": {
    "@total": "1",
    "@results": "1",
    "@page": "1",
    "@page-size": "25",
    "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket?_output_=json&Ticket_Customer_id_=547484&FID90363=20435&FID90920=20440&_fields_=90920",
    "Ticket": [
      {
        "@id": "2508620",
        "@uid": "14006/14037/Ticket/2508620",
        "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620",
        "@service-desk-uri": "https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620",
        "Assigned_To": {
          "@display-name": "??",
          "@required": "false",
          "@editable": "false",
          "@data-type": "entity",
          "Csr": {
            "@id": "929",
            "@uid": "14006/14037/Csr/929",
            "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Csr/929",
            "Full_Name": {
              "@display-name": "Full Name",
              "#text": "Success API"
            }
          }
        },
        "Cc_Csr": {
          "@display-name": "CSR CC List",
          "@required": "false",
          "@editable": "true",
          "@data-type": "string"
        },
        "Cc_Customer": {
          "@display-name": "Customer CC List",
          "@required": "false",
          "@editable": "true",
          "@data-type": "string"
        },
        "Date_Created": {
          "@display-name": "?? ??",
          "@required": "false",
          "@editable": "false",
          "@data-type": "date",
          "#text": "2012-03-01T15:01:01.410Z"
        },
        "Date_Updated": {
          "@display-name": "????? ??",
          "@required": "false",
          "@editable": "false",
          "@data-type": "date",
          "#text": "2012-03-29T10:39:25.657Z"
        },
        "Department": {
          "@display-name": "Deptartment",
          "@required": "false",
          "@editable": "false",
          "@data-type": "entity",
          "Department": {
            "@id": "14037",
            "@uid": "14006/14037/Department/14037",
            "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Department/14037",
            "Name": {
              "@display-name": "Name",
              "#text": "Rosetta Stone Success (???)"
            }
          }
        },
        "Email_Notification": {
          "@display-name": "Email Notification",
          "@required": "false",
          "@editable": "true",
          "@data-type": "boolean",
          "#text": "false"
        },
        "Email_Notification_Additional_Contact": {
          "@display-name": "Email Notification For Additional Contact",
          "@required": "false",
          "@editable": "true",
          "@data-type": "boolean",
          "#text": "false"
        },
        "Entered_By": {
          "@display-name": "Entered By",
          "@required": "false",
          "@editable": "false",
          "@data-type": "entity",
          "Csr": {
            "@id": "929",
            "@uid": "14006/14037/Csr/929",
            "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Csr/929",
            "Full_Name": {
              "@display-name": "Full Name",
              "#text": "Success API"
            }
          }
        },
        "Hide_From_Customer": {
          "@display-name": "?????? ???",
          "@required": "false",
          "@editable": "true",
          "@data-type": "boolean",
          "#text": "true"
        },
        "Ticket_Customer": {
          "@display-name": "Customer",
          "@required": "true",
          "@editable": "true",
          "@data-type": "entity",
          "Customer": {
            "@id": "547484",
            "@uid": "14006/14037/Customer/547484",
            "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Customer/547484",
            "First_Name": {
              "@display-name": "??",
              "#text": "??"
            }
          }
        },
        "Ticket_Number": {
          "@display-name": "Ticket #",
          "@required": "false",
          "@editable": "false",
          "@data-type": "string",
          "#text": "14006-2508620"
        },
        "Ticket_Status": {
          "@display-name": "??",
          "@required": "false",
          "@editable": "false",
          "@data-type": "entity",
          "Status": {
            "@id": "228",
            "@uid": "14006/14037/Ticket/status/228",
            "@href": "https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/status/228",
            "Name": {
              "@display-name": "Name",
              "#text": "???"
            }
          }
        },
        "Ticket_Attachments": null,
        "Custom_Field": [
          {
            "@id": "90920",
            "@display-name": "Language ",
            "@required": "false",
            "@editable": "true",
            "@dependent": "true",
            "@data-type": "option",
            "@multi-value": "false",
            "Option": [
              {
                "@id": "20437",
                "Value": "Arabic"
              },
              {
                "@id": "20438",
                "Value": "Chinese (Mandarin)"
              },
              {
                "@id": "20439",
                "Value": "Dutch"
              },
              {
                "@id": "20440",
                "@selected": "true",
                "Value": "English (American)"
              },
              {
                "@id": "20441",
                "Value": "English (British)"
              },
              {
                "@id": "20442",
                "Value": "Filipino (Tagalog)"
              },
              {
                "@id": "20443",
                "Value": "French"
              },
              {
                "@id": "20444",
                "Value": "German"
              },
              {
                "@id": "20445",
                "Value": "Greek"
              },
              {
                "@id": "20446",
                "Value": "Hebrew"
              },
              {
                "@id": "20447",
                "Value": "Hindi"
              },
              {
                "@id": "20448",
                "Value": "Irish"
              },
              {
                "@id": "20449",
                "Value": "Italian"
              },
              {
                "@id": "20450",
                "Value": "Japanese"
              },
              {
                "@id": "20451",
                "Value": "Korean"
              },
              {
                "@id": "20452",
                "Value": "Persian (Farsi)"
              },
              {
                "@id": "20453",
                "Value": "Polish"
              },
              {
                "@id": "20454",
                "Value": "Portuguese (Brazil)"
              },
              {
                "@id": "20455",
                "Value": "Russian"
              },
              {
                "@id": "20456",
                "Value": "Spanish (Latin America)"
              },
              {
                "@id": "20457",
                "Value": "Spanish (Spain)"
              },
              {
                "@id": "20458",
                "Value": "Swedish"
              },
              {
                "@id": "20459",
                "Value": "Turkish"
              },
              {
                "@id": "20460",
                "Value": "Vietnamese"
              }
            ]
          }
        ]
      }
    ]
  }
}
2012-03-29 16:22:03,040      148206 [taskRuleExecutorThread] DEBUG (EventServiceImpl.java:134) - create ticket PHONE
2012-03-29 16:22:03,068      148234 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 16:22:04,958      150124 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:04,971      150137 [taskRuleExecutorThread] DEBUG (EventServiceImpl.java:146) - Need to update super ticket true
2012-03-29 16:22:10,298      155464 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:10,913      156079 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:14,964      160130 [taskSMSExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:14,965      160131 [taskSMSExecutorThread] DEBUG (SMSService.java:60) - sending sms
2012-03-29 16:22:15,470      160636 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:41) - phoneNumber= 918807530993
message= ?   ???????.?6???????????????????????
locale= ko_KR
2012-03-29 16:22:15,471      160637 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:42) - 
message length = 37
2012-03-29 16:22:15,471      160637 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:46) - korean message is greater than 35 characters
2012-03-29 16:22:15,471      160637 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:50) - added a space for korean message
2012-03-29 16:22:15,473      160639 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:54) - messsage sent is?   ???????.?6???????????????????????to918807530993
2012-03-29 16:22:15,473      160639 [taskSMSExecutorThread] DEBUG (ClickatellPlatform.java:55) - messsage sent is korean
2012-03-29 16:22:16,065      161231 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:16,065      161231 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:22:16,065      161231 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:22:16,065      161231 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:22:16,065      161231 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:22:16,066      161232 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:22:16,066      161232 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:22:16,066      161232 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:22:16,066      161232 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:22:16,067      161233 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:22:16,067      161233 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:22:16,067      161233 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:102) - log event SMS
2012-03-29 16:22:16,067      161233 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:16,068      161234 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:16,237      161403 [taskSMSExecutorThread] DEBUG (SMSSender.java:67) - Message has been sent with Clickatell,messageId:95aa3d56f92e8c98b55da78e0db1a75b
2012-03-29 16:22:16,538      161704 [taskSMSExecutorThread] DEBUG (SMSService.java:72) - sending sms done
2012-03-29 16:22:16,538      161704 [taskSMSExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:16,813      161979 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:17,819      162985 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620"><Assigned_To display-name="??" required="false" editable="false" data-type="entity"><Csr id="929" uid="14006/14037/Csr/929" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Csr/929"><Full_Name display-name="Full Name">Success API</Full_Name></Csr></Assigned_To><Cc_Csr display-name="CSR CC List" required="false" editable="true" data-type="string"></Cc_Csr><Cc_Customer display-name="Customer CC List" required="false" editable="true" data-type="string"></Cc_Customer><Date_Created display-name="?? ??" required="false" editable="false" data-type="date">2012-03-01T15:01:01.410Z</Date_Created><Date_Updated display-name="????? ??" required="false" editable="false" data-type="date">2012-03-29T10:39:25.657Z</Date_Updated><Department display-name="Deptartment" required="false" editable="false" data-type="entity"><Department id="14037" uid="14006/14037/Department/14037" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Department/14037"><Name display-name="Name">Rosetta Stone Success (???)</Name></Department></Department><Email_Notification display-name="Email Notification" required="false" editable="true" data-type="boolean">false</Email_Notification><Email_Notification_Additional_Contact display-name="Email Notification For Additional Contact" required="false" editable="true" data-type="boolean">false</Email_Notification_Additional_Contact><Entered_By display-name="Entered By" required="false" editable="false" data-type="entity"><Csr id="929" uid="14006/14037/Csr/929" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Csr/929"><Full_Name display-name="Full Name">Success API</Full_Name></Csr></Entered_By><Hide_From_Customer display-name="?????? ???" required="false" editable="true" data-type="boolean">true</Hide_From_Customer><Ticket_Customer display-name="Customer" required="true" editable="true" data-type="entity"><Customer id="547484" uid="14006/14037/Customer/547484" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Customer/547484"><First_Name display-name="??">??</First_Name></Customer></Ticket_Customer><Ticket_Number display-name="Ticket #" required="false" editable="false" data-type="string">14006-2508620</Ticket_Number><Ticket_Status display-name="??" required="false" editable="false" data-type="entity"><Status id="228" uid="14006/14037/Ticket/status/228" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/status/228"><Name display-name="Name">???</Name></Status></Ticket_Status><Custom_Field id="90780" display-name="Sniffed System Info" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90373" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17771"><Value>?? ??? ??</Value></Option><Option id="17772"><Value>?? ??</Value></Option><Option id="17773"><Value>??? ??</Value></Option><Option id="17774"><Value>???? ?? </Value></Option><Option id="17775"><Value>??</Value></Option></Custom_Field><Custom_Field id="90369" display-name="??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17762"><Value>Janga</Value></Option><Option id="17763"><Value>Danti</Value></Option><Option id="17764"><Value>Gambo</Value></Option><Option id="17765"><Value>Mengo</Value></Option><Option id="17766"><Value>Nimba</Value></Option><Option id="17767"><Value>Tingo</Value></Option><Option id="17768"><Value>Conta</Value></Option><Option id="17769"><Value>Tanti</Value></Option><Option id="17770"><Value>Stories</Value></Option></Custom_Field><Custom_Field id="90388" display-name="Call Tag Other" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90387" display-name="Call Tag Reason" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17906"><Value>Call Center Misquote</Value></Option><Option id="17907"><Value>Call Center Data Entry Error</Value></Option><Option id="17908"><Value>Courier Error</Value></Option><Option id="17909"><Value>Packing Error</Value></Option><Option id="17910"><Value>Kiosk Error</Value></Option><Option id="17911"><Value>Duplicate Order</Value></Option><Option id="17912"><Value>Fraud</Value></Option><Option id="17913"><Value>Unresolved Technical Issue</Value></Option><Option id="17914"><Value>Other</Value><Enables>/Ticket/Custom_Field[@id = 90388]</Enables></Option></Custom_Field><Custom_Field id="90386" display-name="Call Tag?" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17904"><Value>Yes</Value><Enables>/Ticket/Custom_Field[@id = 90387]</Enables></Option><Option id="17905"><Value>No</Value></Option></Custom_Field><Custom_Field id="90371" display-name="??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90375" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17776"><Value>????? ?</Value></Option><Option id="17777"><Value>??? ???? - DO NOT USE</Value></Option><Option id="17778"><Value>??? ???? - DO NOT USE</Value></Option><Option id="17782"><Value>TOTALe ?? 1 ?? ??</Value></Option><Option id="17783"><Value>TOTALe ?? 2 ?? ??</Value></Option><Option id="17784"><Value>TOTALe ?? 3 ?? ??</Value></Option><Option id="17785"><Value>??? ???? ?? ??</Value></Option><Option id="17786"><Value>??? ???? ?? ??</Value></Option><Option id="17787"><Value>???? ?? ??</Value></Option><Option id="17789"><Value>? ??? ??</Value></Option><Option id="17790"><Value>???? ?? - 30?</Value></Option><Option id="17791"><Value>?? ?? ??</Value></Option><Option id="17792"><Value>??? ?? ??</Value></Option><Option id="17795"><Value>TOTALe ?? 4 ?? ??</Value></Option><Option id="17796"><Value>TOTALe ?? 5 ?? ??</Value></Option><Option id="17797"><Value>??? ?? ???</Value></Option><Option id="18459"><Value>L1.U1.L1 ?? ??</Value></Option><Option id="18460"><Value>S3 ??? ??</Value></Option><Option id="18461"><Value>???? ?? - 15?</Value></Option><Option id="18550"><Value>Pilot Welcome Email</Value></Option><Option id="18752"><Value>???? ??? ????</Value></Option><Option id="18753"><Value>?? ?? - ?? ???</Value></Option><Option id="18754"><Value>?? ?? - ?? ?? ?</Value></Option><Option id="18755"><Value>?? ?? - ?? ??</Value></Option><Option id="18756"><Value>????? ??</Value></Option><Option id="18757"><Value>??? ???? ??</Value></Option><Option id="18758"><Value>S5 ??? ??</Value></Option><Option id="18759"><Value>?? ????</Value></Option><Option id="18760"><Value>??? ??? ??</Value></Option><Option id="21441"><Value>Subscription Renewal</Value></Option><Option id="21442"><Value>Log back in Encouragement - 10 days</Value></Option><Option id="21443"><Value>Studio satisfaction</Value></Option><Option id="23447"><Value>Initial Profile Setup</Value></Option></Custom_Field><Custom_Field id="90370" display-name="??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90362" display-name="??? ??? ??? ????." required="true" editable="true" data-type="string"></Custom_Field><Custom_Field id="90396" display-name="?? ??? / ?? ?? ??" required="false" editable="true" data-type="boolean" /><Custom_Field id="90382" display-name="?? ID" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17832"><Value>1117</Value></Option><Option id="17833"><Value>1722</Value></Option><Option id="17834"><Value>2122</Value></Option><Option id="17835"><Value>2123</Value></Option><Option id="17836"><Value>2125</Value></Option><Option id="17837"><Value>3116</Value></Option><Option id="17838"><Value>4111</Value></Option><Option id="17839"><Value>4112</Value></Option><Option id="17840"><Value>5118</Value></Option><Option id="17841"><Value>8112</Value></Option><Option id="17842"><Value>8118</Value></Option><Option id="17843"><Value>8812</Value></Option><Option id="17844"><Value>8813</Value></Option><Option id="17845"><Value>9114</Value></Option><Option id="17846"><Value>9119</Value></Option><Option id="17847"><Value>9123</Value></Option><Option id="17848"><Value>Other</Value><Enables>/Ticket/Custom_Field[@id = 90383]</Enables></Option></Custom_Field><Custom_Field id="90381" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90357" display-name="??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17678"><Value>? ?? ??? ?? ???? ???? ????.</Value></Option><Option id="17679"><Value>????? ?? ??? ?? ???? ???? ????.</Value></Option><Option id="17680"><Value>? ?? ????? ?? ???? ???? ????.</Value><Enables>/Ticket/Custom_Field[@id = 90358]</Enables></Option></Custom_Field><Custom_Field id="90374" display-name="??? ???? ??? ?? ???" required="false" editable="true" data-type="boolean" /><Custom_Field id="90395" display-name="?? / ??? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90392" display-name="??/??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17917"><Value>??</Value></Option><Option id="17918"><Value>?? ??</Value></Option><Option id="17919"><Value>??/?? ??/??</Value></Option><Option id="17920"><Value>???</Value></Option><Option id="17921"><Value>???? ???</Value></Option><Option id="17922"><Value>???/??</Value><Enables>/Ticket/Custom_Field[@id = 90394]</Enables></Option><Option id="17923"><Value>??? ?? ???</Value></Option><Option id="17924"><Value>??</Value></Option><Option id="17925"><Value>????? ??? ?? ???</Value></Option><Option id="17926"><Value>??</Value></Option><Option id="17927"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90393]</Enables></Option><Option id="17928"><Value>?? ???</Value></Option><Option id="17929"><Value>Success ???</Value></Option><Option id="17930"><Value>?? ??/??</Value></Option><Option id="17931"><Value>?? ????? ?? ?????</Value></Option><Option id="17932"><Value>?? (???? ??? ????.)</Value><Enables>/Ticket/Custom_Field[@id = 90395]</Enables></Option></Custom_Field><Custom_Field id="91028" display-name="??? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91026" display-name="??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21417"><Value>Kronus</Value></Option><Option id="21418"><Value>Earbuds</Value></Option><Option id="21419"><Value>Built In</Value></Option><Option id="21420"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91028]</Enables></Option></Custom_Field><Custom_Field id="90353" display-name="??? ???????" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17662"><Value>????? ?? ??? ??? ????.</Value></Option><Option id="17663"><Value>????? ??? ?? ??? ????.</Value><Enables>/Ticket/Custom_Field[@id = 90354]</Enables></Option></Custom_Field><Custom_Field id="90356" display-name="?? ??? ?? ??? ????." required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17670" dependent="true"><Value>???? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17701]</Enables></Option><Option id="17671" dependent="true"><Value>???? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17701 or @id = 17702]</Enables></Option><Option id="17672" dependent="true"><Value>??? ??</Value></Option><Option id="17673" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17702]</Enables></Option><Option id="17674" dependent="true"><Value>??? ???</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17703]</Enables></Option><Option id="17675" dependent="true"><Value>?????? ??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90357]</Enables></Option><Option id="17676" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17677" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17704 or @id = 17705]</Enables></Option></Custom_Field><Custom_Field id="90390" display-name="? ??? ????? ??? ?????." required="false" editable="true" dependent="true" data-type="boolean" /><Custom_Field id="90389" display-name="?? ?? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90391" display-name="??? ??????" required="false" editable="true" data-type="option" multi-value="false"><Option id="17915"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90392]</Enables></Option><Option id="17916"><Value>???</Value><Enables>/Ticket/Custom_Field[@id = 90392]</Enables></Option></Custom_Field><Custom_Field id="90368" display-name="?? ???" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17710" dependent="true"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables></Option><Option id="17711" dependent="true"><Value>???? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17712" dependent="true"><Value>"????" ??? ??? ? ??</Value></Option><Option id="17713" dependent="true"><Value>?? ???? ?? ? ??</Value></Option><Option id="17714" dependent="true"><Value>???? ? ?? ??</Value></Option><Option id="17715" dependent="true"><Value>?? ??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90369]</Enables></Option><Option id="17716" dependent="true"><Value>???? ???</Value></Option><Option id="17717" dependent="true"><Value>??? ??</Value></Option><Option id="17718" dependent="true"><Value>???????</Value></Option><Option id="17719" dependent="true"><Value>?? ??</Value></Option><Option id="17720" dependent="true"><Value>??</Value></Option><Option id="17721" dependent="true"><Value>??? ??</Value></Option><Option id="17722" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17723" dependent="true"><Value>???? ?? ??</Value></Option><Option id="17724" dependent="true"><Value>????/?? ??</Value></Option><Option id="17725" dependent="true"><Value>?? ??</Value></Option><Option id="17726" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17727" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17728" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17729" dependent="true"><Value>?? ??/??? ??</Value></Option><Option id="17730" dependent="true"><Value>??? ???? ??</Value></Option><Option id="17731" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17732" dependent="true"><Value>? ???? ??</Value></Option><Option id="17733" dependent="true"><Value>???? ?? ??</Value></Option><Option id="17734" dependent="true"><Value>?? (???? ??? ????.)</Value></Option><Option id="17735" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17736" dependent="true"><Value>???? ?? ? ??</Value></Option><Option id="17737" dependent="true"><Value>TOTALe ??? ??</Value></Option><Option id="17738" dependent="true"><Value>???? ? ? ?? ??</Value></Option><Option id="17739" dependent="true"><Value>????? ???? ?? ??</Value></Option><Option id="17740" dependent="true"><Value>??? ?? ??? ??</Value></Option><Option id="17741" dependent="true"><Value>?? ?? ?? ??</Value></Option><Option id="17742" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17743" dependent="true"><Value>???? ??</Value></Option><Option id="17744" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17745" dependent="true"><Value>?? ???</Value></Option><Option id="17746" dependent="true"><Value>?? ??</Value></Option><Option id="17747" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17748" dependent="true"><Value>?? ??</Value></Option><Option id="17749" dependent="true"><Value>?? ??</Value></Option><Option id="17750" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17751" dependent="true"><Value>?? ??</Value></Option><Option id="17752" dependent="true"><Value>?? ??</Value></Option><Option id="17753" dependent="true"><Value>?? ??</Value></Option><Option id="17754" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17755" dependent="true"><Value>?? ????</Value></Option><Option id="17756" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17757" dependent="true"><Value>??? ??</Value></Option><Option id="17758" dependent="true"><Value>??? ??</Value></Option><Option id="17759" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90379]</Enables><Enables>/Ticket/Custom_Field[@id = 90381]</Enables><Enables>/Ticket/Custom_Field[@id = 90385]</Enables></Option><Option id="17760" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90379]</Enables><Enables>/Ticket/Custom_Field[@id = 90385]</Enables></Option><Option id="17761" dependent="true"><Value>?? ??/???</Value></Option></Custom_Field><Custom_Field id="90366" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17701" dependent="true"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90367]</Enables><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17710 or @id = 17711 or @id = 17712 or @id = 17713 or @id = 17714 or @id = 17715 or @id = 17716 or @id = 17717 or @id = 17718 or @id = 17719 or @id = 17720 or @id = 17721 or @id = 17722 or @id = 17723 or @id = 17724 or @id = 17725 or @id = 17726 or @id = 17727 or @id = 17728 or @id = 17729 or @id = 17730 or @id = 17731 or @id = 17732 or @id = 17733 or @id = 17734]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17702" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17735 or @id = 17736 or @id = 17737 or @id = 17738 or @id = 17739 or @id = 17740 or @id = 17741]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17703" dependent="true"><Value>??? </Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17742 or @id = 17743]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17704" dependent="true"><Value>?? / ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17744 or @id = 17745 or @id = 17746 or @id = 17747 or @id = 17748 or @id = 17749 or @id = 17750 or @id = 17751 or @id = 17752 or @id = 17753 or @id = 17754 or @id = 17755 or @id = 17756]</Enables><Enables>/Ticket/Custom_Field[@id = 90380]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17705" dependent="true"><Value>?? / ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17757 or @id = 17758 or @id = 17759 or @id = 17760 or @id = 17761]</Enables><Enables>/Ticket/Custom_Field[@id = 90386]</Enables></Option></Custom_Field><Custom_Field id="90920" display-name="Language " required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="20437"><Value>Arabic</Value></Option><Option id="20438"><Value>Chinese (Mandarin)</Value></Option><Option id="20439"><Value>Dutch</Value></Option><Option id="20440" selected="true"><Value>English (American)</Value></Option><Option id="20441"><Value>English (British)</Value></Option><Option id="20442"><Value>Filipino (Tagalog)</Value></Option><Option id="20443"><Value>French</Value></Option><Option id="20444"><Value>German</Value></Option><Option id="20445"><Value>Greek</Value></Option><Option id="20446"><Value>Hebrew</Value></Option><Option id="20447"><Value>Hindi</Value></Option><Option id="20448"><Value>Irish</Value></Option><Option id="20449"><Value>Italian</Value></Option><Option id="20450"><Value>Japanese</Value></Option><Option id="20451"><Value>Korean</Value></Option><Option id="20452"><Value>Persian (Farsi)</Value></Option><Option id="20453"><Value>Polish</Value></Option><Option id="20454"><Value>Portuguese (Brazil)</Value></Option><Option id="20455"><Value>Russian</Value></Option><Option id="20456"><Value>Spanish (Latin America)</Value></Option><Option id="20457"><Value>Spanish (Spain)</Value></Option><Option id="20458"><Value>Swedish</Value></Option><Option id="20459"><Value>Turkish</Value></Option><Option id="20460"><Value>Vietnamese</Value></Option></Custom_Field><Custom_Field id="90394" display-name="???/??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17939"><Value>??</Value></Option><Option id="17940"><Value>??</Value></Option><Option id="17941"><Value>????</Value></Option><Option id="17942"><Value>??</Value></Option></Custom_Field><Custom_Field id="90376" display-name="?? ?" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17804"><Value>1?</Value></Option><Option id="17805"><Value>2?</Value></Option><Option id="17806"><Value>3?</Value></Option><Option id="17807"><Value>4?</Value></Option><Option id="17808"><Value>5?</Value></Option><Option id="17809"><Value>6?</Value></Option><Option id="17810"><Value>7?</Value></Option><Option id="17811"><Value>8?</Value></Option><Option id="17812"><Value>9?</Value></Option><Option id="17813"><Value>10?</Value></Option><Option id="17814"><Value>11?</Value></Option><Option id="17815"><Value>12?</Value></Option></Custom_Field><Custom_Field id="89867" display-name="" required="" editable="" data-type=""></Custom_Field><Custom_Field id="91054" display-name="??? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21490"><Value>TOTALe ????</Value></Option><Option id="21491"><Value>ReFLEX ????</Value></Option></Custom_Field><Custom_Field id="91055" display-name="???? ??? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21492"><Value>???? ??? ?</Value></Option><Option id="21493"><Value>?? ??? ?? ?? ???? ???? ??? ??</Value></Option><Option id="21496"><Value>?? ???</Value></Option><Option id="21497"><Value>?? ???</Value><Enables>/Ticket/Custom_Field[@id = 91057]</Enables></Option><Option id="21501"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91056]</Enables></Option><Option id="21622"><Value>???? ???</Value></Option><Option id="21623"><Value>"?? (attend)" ??? ??? ??</Value></Option><Option id="21624"><Value>??? ?? ???? ??</Value></Option><Option id="21626"><Value>?? ??? ??</Value></Option></Custom_Field><Custom_Field id="91056" display-name="?? ??? ???" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91057" display-name="???? ??? ?? ID" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90380" display-name="?? ?? " required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90365" display-name="?? ??" required="true" editable="true" data-type="option" multi-value="false"><Option id="17692"><Value>??</Value></Option><Option id="17693"><Value>??</Value></Option><Option id="17694"><Value>???</Value></Option><Option id="17695"><Value>????</Value></Option><Option id="17696"><Value>???</Value></Option><Option id="17697"><Value>??</Value></Option><Option id="17698" dependent="true"><Value>Phone call to Tom</Value></Option><Option id="17699" dependent="true"><Value>??</Value></Option><Option id="17700" dependent="true"><Value>Mail to Tom</Value></Option><Option id="18572"><Value>SMS</Value></Option><Option id="20436" selected="true"><Value>Success Correspondence</Value></Option><Option id="21425"><Value>Facebook Wall</Value></Option><Option id="21426"><Value>Facebook Support</Value></Option></Custom_Field><Custom_Field id="90383" display-name="?? ?? ID" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91018" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90360" display-name="???" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90393" display-name="??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17933"><Value>??? ??</Value></Option><Option id="17934"><Value>??? ??</Value></Option><Option id="17935"><Value>????</Value></Option><Option id="17936"><Value>????? ???</Value></Option><Option id="17937"><Value>??/??</Value></Option><Option id="17938"><Value>???? ??</Value></Option></Custom_Field><Custom_Field id="90367" display-name="?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17706"><Value>??? ????</Value></Option><Option id="17707"><Value>??? ??</Value></Option><Option id="17708"><Value>??? ??</Value></Option><Option id="17709"><Value>??? ????</Value></Option><Option id="18565"><Value>TOTALe ??? ????</Value></Option><Option id="21518"><Value>TOTALe Companion HD</Value></Option></Custom_Field><Custom_Field id="90355" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91029" display-name="??" required="false" editable="true" dependent="true" data-type="boolean" /><Custom_Field id="90397" display-name="?? ??" required="false" editable="true" data-type="option" multi-value="false"><Option id="17943"><Value>?? ?? ???</Value></Option><Option id="17944"><Value>?? ?? / ?? ??? ???</Value></Option><Option id="17945"><Value>??? ????? ???</Value></Option><Option id="17946"><Value>?? ??? ???</Value></Option><Option id="17947"><Value>?? ????/????? ???</Value></Option><Option id="17948"><Value>??? ?? ???</Value></Option><Option id="17949"><Value>?? ???</Value></Option><Option id="17950"><Value>CST ???? ??</Value></Option><Option id="17951"><Value>???? ??</Value></Option><Option id="17952"><Value>??? ???? ?? - ??? ??</Value></Option><Option id="17953"><Value>??? ???? ?? - ???</Value></Option><Option id="17954"><Value>????? ??</Value></Option><Option id="17955"><Value>?? ??</Value></Option><Option id="17956"><Value>??</Value></Option><Option id="17957"><Value>?? ???</Value></Option><Option id="17958"><Value>??? ???</Value></Option><Option id="17959"><Value>??? ?? ???</Value></Option><Option id="17960"><Value>??? ?? ??</Value></Option><Option id="17961"><Value>???? Peer(????)?? ?? ?? ???</Value></Option><Option id="17962"><Value>? ID ???</Value></Option><Option id="17963"><Value>?? ???</Value></Option><Option id="17964"><Value>?? ???</Value></Option><Option id="17965"><Value>??/?? ?? ???/?????</Value></Option><Option id="17966"><Value>?? ????</Value></Option><Option id="17967"><Value>?? ???? ?? (??)</Value></Option><Option id="17968"><Value>?? ???? ?? (??)</Value></Option><Option id="17969"><Value>?? ?? (??? ??)</Value></Option><Option id="17970"><Value>?? ?? (??? ??)</Value></Option><Option id="17971"><Value>?? ??/????</Value></Option><Option id="17972"><Value>?? ????</Value></Option><Option id="17973"><Value>?? ?? ???</Value></Option><Option id="17974"><Value>?? ?????</Value></Option><Option id="17975"><Value>???? ??/??</Value></Option><Option id="17976"><Value>TOTALe ???? ???</Value></Option><Option id="17977"><Value>?? ?? ???/??</Value></Option><Option id="17978"><Value>??(????/?????)? ???</Value></Option><Option id="17979"><Value>???? (????)</Value></Option><Option id="17980"><Value>????</Value></Option><Option id="17981"><Value>??? ??</Value></Option><Option id="17982"><Value>?? ???</Value></Option><Option id="17983"><Value>?? ???</Value></Option><Option id="17984"><Value>?? ?? ???</Value></Option><Option id="17985"><Value>??</Value></Option><Option id="17986"><Value>?? ???</Value></Option><Option id="17987"><Value>??? ??</Value></Option><Option id="17988"><Value>??? ?? ???/???</Value></Option><Option id="17989"><Value>?? ??? ???</Value></Option><Option id="17990"><Value>V4 ?????</Value></Option><Option id="17991"><Value>??? ?? ?</Value></Option></Custom_Field><Custom_Field id="90385" display-name="??/?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17889"><Value>??? ?? ??</Value></Option><Option id="17890"><Value>?? ??</Value></Option><Option id="17891"><Value>EULA / ??</Value></Option><Option id="17892"><Value>B2B ??</Value></Option><Option id="17893"><Value>World ? ??? ??, ??? ?? ? ??? ??</Value></Option><Option id="17894"><Value>? ?? ???? ?? / ??</Value></Option><Option id="17895"><Value>?? / ???</Value></Option><Option id="17896"><Value>???? ?? ??</Value></Option><Option id="17897"><Value>??? ?? ??</Value></Option><Option id="17898"><Value>??? ??</Value></Option><Option id="17899"><Value>?? ?? / ?? ???</Value></Option><Option id="17900"><Value>?????/?????? ??</Value></Option><Option id="17901"><Value>??? ?? - ?? ??</Value></Option><Option id="17902"><Value>??? ?? - ?? ??</Value></Option><Option id="17903"><Value>??? ?? - ?? ??</Value></Option></Custom_Field><Custom_Field id="90379" display-name="RMA ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90384" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17849"><Value>?? ?????? ??</Value></Option><Option id="17850"><Value>??????/?? ??? ??</Value></Option><Option id="17851"><Value>?? ?? ??</Value></Option><Option id="17852"><Value>??? ??</Value></Option><Option id="17853"><Value>RS ?? ??? ??</Value></Option><Option id="17854"><Value>RS ?? ?? ??</Value></Option><Option id="17855"><Value>?? ??</Value></Option><Option id="17856"><Value>??? ??</Value></Option><Option id="17857"><Value>?? ?? (??? ??)</Value></Option><Option id="17858"><Value>??? ??</Value></Option><Option id="17859"><Value>??? ??? ?? ??</Value></Option><Option id="17860"><Value>?? ???</Value></Option><Option id="17861"><Value>DLL ?? ??</Value></Option><Option id="17862"><Value>????? ???? ?? ??</Value></Option><Option id="17863"><Value>???? (??? ??, USB, CD, ??)</Value></Option><Option id="17864"><Value>??? ?? / ??? ??</Value></Option><Option id="17865"><Value>?? ?? / ???</Value></Option><Option id="17866"><Value>???? ?? ??</Value></Option><Option id="17867"><Value>??? ?? ??</Value></Option><Option id="17868"><Value>??? ?? ??</Value></Option><Option id="17869"><Value>??? ?? ??</Value></Option><Option id="17870"><Value>??? ?? ??</Value></Option><Option id="17871"><Value>?? ???</Value></Option><Option id="17872"><Value>??? ??? ?? ??</Value></Option><Option id="17873"><Value>??</Value></Option><Option id="17874"><Value>?? ?? ??</Value></Option><Option id="17875"><Value>??? ?? ??</Value></Option><Option id="17876"><Value>???? ??</Value></Option><Option id="17877"><Value>???? ?? ??</Value></Option><Option id="17878"><Value>?? ??</Value></Option><Option id="17879"><Value>?? ????????</Value></Option><Option id="17880"><Value>???? ???? ??</Value></Option><Option id="17881"><Value>?? ???</Value></Option><Option id="17882"><Value>??? ??</Value></Option><Option id="17883"><Value>??? ????? ?? ??</Value></Option><Option id="17884"><Value>???? ?? (QA)</Value></Option><Option id="17885"><Value>??? ??? ??</Value></Option><Option id="17886"><Value>?? ?? ?? ??</Value></Option><Option id="17887"><Value>??? ??</Value></Option><Option id="17888"><Value>?? (???? ??? ????.)</Value></Option><Option id="21433"><Value>World ???? ?? ? ??</Value></Option></Custom_Field><Custom_Field id="91034" display-name="?? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90372" display-name="?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91033" display-name="?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90361" display-name="??" required="true" editable="true" data-type="string">English (American) Super Ticket</Custom_Field><Custom_Field id="90378" display-name="??? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90363" display-name="?? ??" required="true" editable="true" data-type="option" multi-value="false"><Option id="17683"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90353]</Enables></Option><Option id="17684"><Value>??(??)</Value><Enables>/Ticket/Custom_Field[@id = 90370]</Enables><Enables>/Ticket/Custom_Field[@id = 90371]</Enables><Enables>/Ticket/Custom_Field[@id = 90372]</Enables></Option><Option id="17685"><Value>??(??)</Value><Enables>/Ticket/Custom_Field[@id = 90370]</Enables><Enables>/Ticket/Custom_Field[@id = 90371]</Enables><Enables>/Ticket/Custom_Field[@id = 90372]</Enables></Option><Option id="17686"><Value>RWorld</Value></Option><Option id="17687"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90373]</Enables></Option><Option id="17688"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90398]</Enables><Enables>/Ticket/Custom_Field[@id = 90399]</Enables></Option><Option id="17689"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 91054]</Enables><Enables>/Ticket/Custom_Field[@id = 91055]</Enables><Enables>/Ticket/Custom_Field[@id = 91078]</Enables></Option><Option id="17690"><Value>CRT</Value><Enables>/Ticket/Custom_Field[@id = 90365]/Option[@id = 17698 or @id = 17699 or @id = 17700]</Enables></Option><Option id="17691"><Value>CST ????</Value><Enables>/Ticket/Custom_Field[@id = 90375]</Enables><Enables>/Ticket/Custom_Field[@id = 90390]</Enables></Option><Option id="20435" selected="true"><Value>Success Correspondence</Value><Enables>/Ticket/Custom_Field[@id = 90920]</Enables></Option></Custom_Field><Custom_Field id="90399" display-name="?? ????" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90398" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17992"><Value>??? ??</Value></Option><Option id="17993"><Value>???? ?? ??</Value></Option><Option id="17994"><Value>??? ??</Value></Option><Option id="17995"><Value>?? ?? ??</Value></Option><Option id="17996"><Value>??? ???</Value></Option><Option id="17997"><Value>?????? ??? ??</Value></Option><Option id="17998"><Value>?? ?? ??</Value></Option><Option id="17999"><Value>?? ?? ??</Value></Option><Option id="18457"><Value>?? ??</Value></Option></Custom_Field><Custom_Field id="90359" display-name="URL" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90358" display-name="???? ???" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17681"><Value>??? ??</Value></Option><Option id="17682"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90359]</Enables></Option></Custom_Field><Custom_Field id="90354" display-name="?? ??? ??? ???????" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17664"><Value>TOTALe</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17671 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17676 or @id = 17677]</Enables></Option><Option id="17665"><Value>?? 3</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17666"><Value>?? 2</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17667"><Value>??? ?? 3</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17668"><Value>??? ?? 2</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17669"><Value>? ? ??</Value><Enables>/Ticket/Custom_Field[@id = 90355]</Enables><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17671 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17676 or @id = 17677]</Enables></Option><Option id="21368"><Value>ReFLEX</Value><Enables>/Ticket/Custom_Field[@id = 91015]</Enables><Enables>/Ticket/Custom_Field[@id = 91029]</Enables><Enables>/Ticket/Custom_Field[@id = 91030]</Enables><Enables>/Ticket/Custom_Field[@id = 91033]</Enables></Option></Custom_Field><Custom_Field id="91030" display-name="??/??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90377" display-name="?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17816"><Value>1995</Value></Option><Option id="17817"><Value>1996</Value></Option><Option id="17818"><Value>1997</Value></Option><Option id="17819"><Value>1998</Value></Option><Option id="17820"><Value>1999</Value></Option><Option id="17821"><Value>2000</Value></Option><Option id="17822"><Value>2001</Value></Option><Option id="17823"><Value>2002</Value></Option><Option id="17824"><Value>2003</Value></Option><Option id="17825"><Value>2004</Value></Option><Option id="17826"><Value>2005</Value></Option><Option id="17827"><Value>2006</Value></Option><Option id="17828"><Value>2007</Value></Option><Option id="17829"><Value>2008</Value></Option><Option id="17830"><Value>2009</Value></Option><Option id="17831"><Value>2010</Value></Option><Option id="18598"><Value>2011</Value></Option><Option id="28266"><Value>2012</Value></Option></Custom_Field><Custom_Field id="91019" display-name="??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91017" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21378"><Value>???</Value></Option><Option id="21379"><Value>??? ?? ??</Value></Option><Option id="21380"><Value>??? ??</Value></Option><Option id="21381"><Value>????</Value></Option><Option id="21382"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91019]</Enables></Option><Option id="21383"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91018]</Enables></Option><Option id="21414"><Value>??</Value></Option><Option id="21415"><Value>???</Value></Option><Option id="21416"><Value>???</Value><Enables>/Ticket/Custom_Field[@id = 91026]</Enables></Option></Custom_Field><Custom_Field id="91078" display-name="????" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91020" display-name="?? ID" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91015" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21369"><Value>??? ???? ????.</Value><Enables>/Ticket/Custom_Field[@id = 91017]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="21370"><Value>???????? ????? ????.</Value></Option></Custom_Field><Ticket_Attachments /><Actions><Action id="1394" uid="14006/14037/Ticket/action/1394" name="Completion of Level 1 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1394" /><Action id="1395" uid="14006/14037/Ticket/action/1395" name="Completion of Level 1 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1395" /><Action id="1396" uid="14006/14037/Ticket/action/1396" name="Completion of Level 2 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1396" /><Action id="1397" uid="14006/14037/Ticket/action/1397" name="Completion of Level 2 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1397" /><Action id="1398" uid="14006/14037/Ticket/action/1398" name="Completion of Level 3 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1398" /><Action id="1399" uid="14006/14037/Ticket/action/1399" name="Completion of Level 3 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1399" /><Action id="1400" uid="14006/14037/Ticket/action/1400" name="Completion of Level 4 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1400" /><Action id="1401" uid="14006/14037/Ticket/action/1401" name="Completion of Level 4 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1401" /><Action id="1402" uid="14006/14037/Ticket/action/1402" name="Completion of Level 5 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1402" /><Action id="1403" uid="14006/14037/Ticket/action/1403" name="Completion of Level 1, 2, 3 - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1403" /><Action id="1404" uid="14006/14037/Ticket/action/1404" name="Completion of Level 1, 2, 3, 4, 5 - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1404" /><Action id="1405" uid="14006/14037/Ticket/action/1405" name="Ready for first studio session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1405" /><Action id="1406" uid="14006/14037/Ticket/action/1406" name="Ready for first studio session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1406" /><Action id="1407" uid="14006/14037/Ticket/action/1407" name="Not logged back after first 30 days - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1407" /><Action id="1408" uid="14006/14037/Ticket/action/1408" name="Not logged back after first 30 days - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1408" /><Action id="1409" uid="14006/14037/Ticket/action/1409" name="Not logged back in for 30 days (except first 30 days) - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1409" /><Action id="1410" uid="14006/14037/Ticket/action/1410" name="Completed first Studio Session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1410" /><Action id="1411" uid="14006/14037/Ticket/action/1411" name="Session Cancellation - Coach No-show - A Learner Attended- Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1411" /><Action id="1412" uid="14006/14037/Ticket/action/1412" name="Session Cancellation - Coach No-show - A Learner Attended- Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1412" /><Action id="1413" uid="14006/14037/Ticket/action/1413" name="Session Cancellation -prior to session-Learner signed up-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1413" /><Action id="1414" uid="14006/14037/Ticket/action/1414" name="Session Cancellation -prior to session-Learner signed up-Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1414" /><Action id="1415" uid="14006/14037/Ticket/action/1415" name="Session Cancellation -during Session-Learner attended-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1415" /><Action id="1416" uid="14006/14037/Ticket/action/1416" name="Session Cancellation -during Session-Learner attended-Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1416" /><Action id="1417" uid="14006/14037/Ticket/action/1417" name="Completion of Level 5 -- Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1417" /><Action id="1742" uid="14006/14037/Ticket/action/1742" name="Completion of Level 1  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1742" /><Action id="1743" uid="14006/14037/Ticket/action/1743" name="Completion of Level 1 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1743" /><Action id="1744" uid="14006/14037/Ticket/action/1744" name="Completion of Level 2  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1744" /><Action id="1745" uid="14006/14037/Ticket/action/1745" name="Completion of Level 2 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1745" /><Action id="1746" uid="14006/14037/Ticket/action/1746" name="Completion of Level 3  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1746" /><Action id="1747" uid="14006/14037/Ticket/action/1747" name="Completion of Level 3 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1747" /><Action id="1748" uid="14006/14037/Ticket/action/1748" name="Completion of Level 4  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1748" /><Action id="1749" uid="14006/14037/Ticket/action/1749" name="Completion of Level 4 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1749" /><Action id="1750" uid="14006/14037/Ticket/action/1750" name="Completion of Level 5  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1750" /><Action id="1751" uid="14006/14037/Ticket/action/1751" name="Completion of Level 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1751" /><Action id="1752" uid="14006/14037/Ticket/action/1752" name="Completion of Levels 1, 2, and 3 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1752" /><Action id="1753" uid="14006/14037/Ticket/action/1753" name="Completion of Levels 1, 2, and 3 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1753" /><Action id="1754" uid="14006/14037/Ticket/action/1754" name="Completion of Levels 1, 2, and 3 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1754" /><Action id="1755" uid="14006/14037/Ticket/action/1755" name="Completion of Levels 1, 2, 3, 4, and 5 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1755" /><Action id="1756" uid="14006/14037/Ticket/action/1756" name="Completion of Levels 1, 2, 3, 4, and 5 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1756" /><Action id="1757" uid="14006/14037/Ticket/action/1757" name="Completion of Levels 1, 2, 3, 4, and 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1757" /><Action id="1758" uid="14006/14037/Ticket/action/1758" name="Ready for first Studio Session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1758" /><Action id="1759" uid="14006/14037/Ticket/action/1759" name="Ready for first Studio Session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1759" /><Action id="1760" uid="14006/14037/Ticket/action/1760" name="Not logged back in after first 30 days - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1760" /><Action id="1761" uid="14006/14037/Ticket/action/1761" name="Not logged back in after first 30 days - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1761" /><Action id="1762" uid="14006/14037/Ticket/action/1762" name="Not logged back in for 30 days (except first 30 days) - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1762" /><Action id="1763" uid="14006/14037/Ticket/action/1763" name="Not logged back in for 30 days (except first 30 days) - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1763" /><Action id="1764" uid="14006/14037/Ticket/action/1764" name="Not logged back in for 30 days (except first 30 days) - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1764" /><Action id="1765" uid="14006/14037/Ticket/action/1765" name="Completed first Studio Session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1765" /><Action id="1766" uid="14006/14037/Ticket/action/1766" name="Completed first Studio Session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1766" /><Action id="1767" uid="14006/14037/Ticket/action/1767" name="Completed first Studio Session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1767" /><Action id="1768" uid="14006/14037/Ticket/action/1768" name="Session Reminder - 1 day/24 hours before session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1768" /><Action id="1769" uid="14006/14037/Ticket/action/1769" name="Session Reminder - 1 day/24 hours before session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1769" /><Action id="1770" uid="14006/14037/Ticket/action/1770" name="Session Reminder - 1 day/24 hours before session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1770" /><Action id="1771" uid="14006/14037/Ticket/action/1771" name="Session Reminder - 1 day/24 hours before session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1771" /><Action id="1773" uid="14006/14037/Ticket/action/1773" name="Session Cancellation - Coach No-show - A Learner Attended - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1773" /><Action id="1774" uid="14006/14037/Ticket/action/1774" name="Session Cancellation - Coach Cancels - no learners show - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1774" /><Action id="1775" uid="14006/14037/Ticket/action/1775" name="Session Cancellation - Coach Cancels - no learners show - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1775" /><Action id="1777" uid="14006/14037/Ticket/action/1777" name="Session Cancellation - Coach Cancels - no learners show -  SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1777" /><Action id="1780" uid="14006/14037/Ticket/action/1780" name="Session Cancellation -prior to session-Learner signed up-Phone " href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1780" /><Action id="1782" uid="14006/14037/Ticket/action/1782" name="Session Cancellation -prior to session-Learner signed up-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1782" /><Action id="1783" uid="14006/14037/Ticket/action/1783" name="Session Cancellation -prior to session-Learner signed up-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1783" /><Action id="1784" uid="14006/14037/Ticket/action/1784" name="Session Cancellation -prior to session-Learner signed up-SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1784" /><Action id="1785" uid="14006/14037/Ticket/action/1785" name="Session Cancellation -during Session-Learner attended-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1785" /><Action id="1786" uid="14006/14037/Ticket/action/1786" name="Session Cancellation -during Session-Learner attended-SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1786" /><Action id="1787" uid="14006/14037/Ticket/action/1787" name="Learner No Show-1 plus learner not attending not cancelledPhone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1787" /><Action id="1788" uid="14006/14037/Ticket/action/1788" name="Learner No Show-1 plus learner not attending not cancelledEmail" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1788" /><Action id="1790" uid="14006/14037/Ticket/action/1790" name="Learner No Show-1 plus learner not attending not cancelledSMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1790" /><Action id="1791" uid="14006/14037/Ticket/action/1791" name="Start their subscription / Claim Online Rights - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1791" /><Action id="1792" uid="14006/14037/Ticket/action/1792" name="Start their subscription / Claim Online Rights - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1792" /><Action id="1793" uid="14006/14037/Ticket/action/1793" name="Start their subscription / Claim Online Rights - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1793" /><Action id="1794" uid="14006/14037/Ticket/action/1794" name="Start their subscription / Claim Online Rights - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1794" /><Action id="1795" uid="14006/14037/Ticket/action/1795" name="Completed their first 3 Core Lessons - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1795" /><Action id="1796" uid="14006/14037/Ticket/action/1796" name="Completed their first 3 Core Lessons - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1796" /><Action id="1797" uid="14006/14037/Ticket/action/1797" name="Completed their first 3 Core Lessons - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1797" /><Action id="1798" uid="14006/14037/Ticket/action/1798" name="Completed their first 3 Core Lessons - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1798" /><Action id="1799" uid="14006/14037/Ticket/action/1799" name="Pre-renewal outreach - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1799" /><Action id="1800" uid="14006/14037/Ticket/action/1800" name="Pre-renewal outreach - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1800" /><Action id="1801" uid="14006/14037/Ticket/action/1801" name="Pre-renewal outreach - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1801" /><Action id="1802" uid="14006/14037/Ticket/action/1802" name="Pre-renewal outreach - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1802" /><Action id="1803" uid="14006/14037/Ticket/action/1803" name="Discovery outreach - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1803" /><Action id="1804" uid="14006/14037/Ticket/action/1804" name="Discovery outreach - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1804" /><Action id="1806" uid="14006/14037/Ticket/action/1806" name="Discovery outreach - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1806" /><Action id="1807" uid="14006/14037/Ticket/action/1807" name="Discovery outreach - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1807" /><Action id="1808" uid="14006/14037/Ticket/action/1808" name="Poor experience follow-up - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1808" /><Action id="1809" uid="14006/14037/Ticket/action/1809" name="Poor experience follow-up - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1809" /><Action id="1810" uid="14006/14037/Ticket/action/1810" name="Poor experience follow-up - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1810" /><Action id="1811" uid="14006/14037/Ticket/action/1811" name="Poor experience follow-up - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1811" /><Action id="1812" uid="14006/14037/Ticket/action/1812" name="Did not enjoy session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1812" /><Action id="1813" uid="14006/14037/Ticket/action/1813" name="Did not enjoy session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1813" /><Action id="1814" uid="14006/14037/Ticket/action/1814" name="Did not enjoy session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1814" /><Action id="1815" uid="14006/14037/Ticket/action/1815" name="Did not enjoy session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1815" /><Action id="1816" uid="14006/14037/Ticket/action/1816" name="Studio reminder 6 hours - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1816" /><Action id="1817" uid="14006/14037/Ticket/action/1817" name="Studio reminder 6 hours - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1817" /><Action id="1818" uid="14006/14037/Ticket/action/1818" name="Studio reminder 6 hours - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1818" /><Action id="1819" uid="14006/14037/Ticket/action/1819" name="Studio reminder 6 hours - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1819" /><Action id="1820" uid="14006/14037/Ticket/action/1820" name="Log back in encouragement - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1820" /><Action id="1821" uid="14006/14037/Ticket/action/1821" name="Log back in encouragement - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1821" /><Action id="1822" uid="14006/14037/Ticket/action/1822" name="Log back in encouragement - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1822" /><Action id="1823" uid="14006/14037/Ticket/action/1823" name="Log back in encouragement - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1823" /><Action id="1824" uid="14006/14037/Ticket/action/1824" name="Completion of Levels 1, 2, 3, 4, and 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1824" /><Action id="1826" uid="14006/14037/Ticket/action/1826" name="Session Cancellation - Coach No-show - A Learner Attended-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1826" /><Action id="1827" uid="14006/14037/Ticket/action/1827" name="Session Cancellation - Coach Cancels - no learners show - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1827" /><Action id="1828" uid="14006/14037/Ticket/action/1828" name="Learner NoShow-1 plus learner not attending not cancelledPostal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1828" /><Action id="2136" uid="14006/14037/Ticket/action/2136" name="Subscription Renewal Trigger - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2136" /><Action id="2137" uid="14006/14037/Ticket/action/2137" name="Subscription Renewal Trigger - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2137" /><Action id="2138" uid="14006/14037/Ticket/action/2138" name="Subscription Renewal Trigger - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2138" /><Action id="2139" uid="14006/14037/Ticket/action/2139" name="Subscription Renewal Trigger - Inst" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2139" /><Action id="2140" uid="14006/14037/Ticket/action/2140" name="Subscription Renewal Trigger - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2140" /><Action id="3070" uid="14006/14037/Ticket/action/3070" name="Initial profile setup - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3070" /><Action id="3071" uid="14006/14037/Ticket/action/3071" name="Initial profile setup - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3071" /><Action id="3072" uid="14006/14037/Ticket/action/3072" name="Initial profile setup - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3072" /><Action id="3073" uid="14006/14037/Ticket/action/3073" name="Initial profile setup - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3073" /></Actions></Ticket>
2012-03-29 16:22:18,995      164161 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:229) - <Ticket>
  <Ticket_Customer>
    <Customer id="547484"/>
  </Ticket_Customer>
  <Custom_Field id="90363">
    <Option id="20435" selected="true"/>
  </Custom_Field>
  <Email_Notification>false</Email_Notification>
  <Hide_From_Customer>true</Hide_From_Customer>
  <Custom_Field id="90920">
    <Option id="20440" selected="true"/>
  </Custom_Field>
  <Custom_Field id="90361">English (American) Super Ticket</Custom_Field>
  <Custom_Field id="90365">
    <Option id="20436" selected="true"/>
  </Custom_Field>
</Ticket>
2012-03-29 16:22:18,996      164162 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:18,997      164163 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_enforceRequiredFields_=false&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:19,336      164502 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:21,529      166695 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620" />
2012-03-29 16:22:21,833      166999 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:229) - <Ticket>
  <Action>
    <Action id="1743">
      <Comment>This trigger was generated on 06/29/11 07:49 PM EST.
</Comment>
      <ShowToCust>false</ShowToCust>
      <ShowToAdditionalContact>true</ShowToAdditionalContact>
    </Action>
  </Action>
</Ticket>
2012-03-29 16:22:21,833      166999 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:21,833      166999 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:22,818      167984 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:22,861      168027 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-03-29 16:22:22,972      168138 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-03-29 16:22:23,391      168557 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:24,328      169494 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620" />
2012-03-29 16:22:24,636      169802 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:28,814      173980 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:31,319      176485 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:31,319      176485 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:22:31,319      176485 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:22:31,319      176485 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:22:31,320      176486 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:22:31,320      176486 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:22:31,320      176486 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:22:31,320      176486 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:22:31,320      176486 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:22:31,321      176487 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:22:31,321      176487 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:22:31,321      176487 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:102) - log event EMAIL
2012-03-29 16:22:31,321      176487 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:31,321      176487 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:33,695      178861 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620"><Assigned_To display-name="??" required="false" editable="false" data-type="entity"><Csr id="929" uid="14006/14037/Csr/929" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Csr/929"><Full_Name display-name="Full Name">Success API</Full_Name></Csr></Assigned_To><Cc_Csr display-name="CSR CC List" required="false" editable="true" data-type="string"></Cc_Csr><Cc_Customer display-name="Customer CC List" required="false" editable="true" data-type="string"></Cc_Customer><Date_Created display-name="?? ??" required="false" editable="false" data-type="date">2012-03-01T15:01:01.410Z</Date_Created><Date_Updated display-name="????? ??" required="false" editable="false" data-type="date">2012-03-29T10:52:16.127Z</Date_Updated><Department display-name="Deptartment" required="false" editable="false" data-type="entity"><Department id="14037" uid="14006/14037/Department/14037" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Department/14037"><Name display-name="Name">Rosetta Stone Success (???)</Name></Department></Department><Email_Notification display-name="Email Notification" required="false" editable="true" data-type="boolean">false</Email_Notification><Email_Notification_Additional_Contact display-name="Email Notification For Additional Contact" required="false" editable="true" data-type="boolean">false</Email_Notification_Additional_Contact><Entered_By display-name="Entered By" required="false" editable="false" data-type="entity"><Csr id="929" uid="14006/14037/Csr/929" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Csr/929"><Full_Name display-name="Full Name">Success API</Full_Name></Csr></Entered_By><Hide_From_Customer display-name="?????? ???" required="false" editable="true" data-type="boolean">true</Hide_From_Customer><Ticket_Customer display-name="Customer" required="true" editable="true" data-type="entity"><Customer id="547484" uid="14006/14037/Customer/547484" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Customer/547484"><First_Name display-name="??">??</First_Name></Customer></Ticket_Customer><Ticket_Number display-name="Ticket #" required="false" editable="false" data-type="string">14006-2508620</Ticket_Number><Ticket_Status display-name="??" required="false" editable="false" data-type="entity"><Status id="228" uid="14006/14037/Ticket/status/228" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/status/228"><Name display-name="Name">???</Name></Status></Ticket_Status><Custom_Field id="90780" display-name="Sniffed System Info" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90373" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17771"><Value>?? ??? ??</Value></Option><Option id="17772"><Value>?? ??</Value></Option><Option id="17773"><Value>??? ??</Value></Option><Option id="17774"><Value>???? ?? </Value></Option><Option id="17775"><Value>??</Value></Option></Custom_Field><Custom_Field id="90369" display-name="??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17762"><Value>Janga</Value></Option><Option id="17763"><Value>Danti</Value></Option><Option id="17764"><Value>Gambo</Value></Option><Option id="17765"><Value>Mengo</Value></Option><Option id="17766"><Value>Nimba</Value></Option><Option id="17767"><Value>Tingo</Value></Option><Option id="17768"><Value>Conta</Value></Option><Option id="17769"><Value>Tanti</Value></Option><Option id="17770"><Value>Stories</Value></Option></Custom_Field><Custom_Field id="90388" display-name="Call Tag Other" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90387" display-name="Call Tag Reason" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17906"><Value>Call Center Misquote</Value></Option><Option id="17907"><Value>Call Center Data Entry Error</Value></Option><Option id="17908"><Value>Courier Error</Value></Option><Option id="17909"><Value>Packing Error</Value></Option><Option id="17910"><Value>Kiosk Error</Value></Option><Option id="17911"><Value>Duplicate Order</Value></Option><Option id="17912"><Value>Fraud</Value></Option><Option id="17913"><Value>Unresolved Technical Issue</Value></Option><Option id="17914"><Value>Other</Value><Enables>/Ticket/Custom_Field[@id = 90388]</Enables></Option></Custom_Field><Custom_Field id="90386" display-name="Call Tag?" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17904"><Value>Yes</Value><Enables>/Ticket/Custom_Field[@id = 90387]</Enables></Option><Option id="17905"><Value>No</Value></Option></Custom_Field><Custom_Field id="90371" display-name="??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90375" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17776"><Value>????? ?</Value></Option><Option id="17777"><Value>??? ???? - DO NOT USE</Value></Option><Option id="17778"><Value>??? ???? - DO NOT USE</Value></Option><Option id="17782"><Value>TOTALe ?? 1 ?? ??</Value></Option><Option id="17783"><Value>TOTALe ?? 2 ?? ??</Value></Option><Option id="17784"><Value>TOTALe ?? 3 ?? ??</Value></Option><Option id="17785"><Value>??? ???? ?? ??</Value></Option><Option id="17786"><Value>??? ???? ?? ??</Value></Option><Option id="17787"><Value>???? ?? ??</Value></Option><Option id="17789"><Value>? ??? ??</Value></Option><Option id="17790"><Value>???? ?? - 30?</Value></Option><Option id="17791"><Value>?? ?? ??</Value></Option><Option id="17792"><Value>??? ?? ??</Value></Option><Option id="17795"><Value>TOTALe ?? 4 ?? ??</Value></Option><Option id="17796"><Value>TOTALe ?? 5 ?? ??</Value></Option><Option id="17797"><Value>??? ?? ???</Value></Option><Option id="18459"><Value>L1.U1.L1 ?? ??</Value></Option><Option id="18460"><Value>S3 ??? ??</Value></Option><Option id="18461"><Value>???? ?? - 15?</Value></Option><Option id="18550"><Value>Pilot Welcome Email</Value></Option><Option id="18752"><Value>???? ??? ????</Value></Option><Option id="18753"><Value>?? ?? - ?? ???</Value></Option><Option id="18754"><Value>?? ?? - ?? ?? ?</Value></Option><Option id="18755"><Value>?? ?? - ?? ??</Value></Option><Option id="18756"><Value>????? ??</Value></Option><Option id="18757"><Value>??? ???? ??</Value></Option><Option id="18758"><Value>S5 ??? ??</Value></Option><Option id="18759"><Value>?? ????</Value></Option><Option id="18760"><Value>??? ??? ??</Value></Option><Option id="21441"><Value>Subscription Renewal</Value></Option><Option id="21442"><Value>Log back in Encouragement - 10 days</Value></Option><Option id="21443"><Value>Studio satisfaction</Value></Option><Option id="23447"><Value>Initial Profile Setup</Value></Option></Custom_Field><Custom_Field id="90370" display-name="??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90362" display-name="??? ??? ??? ????." required="true" editable="true" data-type="string"></Custom_Field><Custom_Field id="90396" display-name="?? ??? / ?? ?? ??" required="false" editable="true" data-type="boolean" /><Custom_Field id="90382" display-name="?? ID" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17832"><Value>1117</Value></Option><Option id="17833"><Value>1722</Value></Option><Option id="17834"><Value>2122</Value></Option><Option id="17835"><Value>2123</Value></Option><Option id="17836"><Value>2125</Value></Option><Option id="17837"><Value>3116</Value></Option><Option id="17838"><Value>4111</Value></Option><Option id="17839"><Value>4112</Value></Option><Option id="17840"><Value>5118</Value></Option><Option id="17841"><Value>8112</Value></Option><Option id="17842"><Value>8118</Value></Option><Option id="17843"><Value>8812</Value></Option><Option id="17844"><Value>8813</Value></Option><Option id="17845"><Value>9114</Value></Option><Option id="17846"><Value>9119</Value></Option><Option id="17847"><Value>9123</Value></Option><Option id="17848"><Value>Other</Value><Enables>/Ticket/Custom_Field[@id = 90383]</Enables></Option></Custom_Field><Custom_Field id="90381" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90357" display-name="??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17678"><Value>? ?? ??? ?? ???? ???? ????.</Value></Option><Option id="17679"><Value>????? ?? ??? ?? ???? ???? ????.</Value></Option><Option id="17680"><Value>? ?? ????? ?? ???? ???? ????.</Value><Enables>/Ticket/Custom_Field[@id = 90358]</Enables></Option></Custom_Field><Custom_Field id="90374" display-name="??? ???? ??? ?? ???" required="false" editable="true" data-type="boolean" /><Custom_Field id="90395" display-name="?? / ??? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90392" display-name="??/??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17917"><Value>??</Value></Option><Option id="17918"><Value>?? ??</Value></Option><Option id="17919"><Value>??/?? ??/??</Value></Option><Option id="17920"><Value>???</Value></Option><Option id="17921"><Value>???? ???</Value></Option><Option id="17922"><Value>???/??</Value><Enables>/Ticket/Custom_Field[@id = 90394]</Enables></Option><Option id="17923"><Value>??? ?? ???</Value></Option><Option id="17924"><Value>??</Value></Option><Option id="17925"><Value>????? ??? ?? ???</Value></Option><Option id="17926"><Value>??</Value></Option><Option id="17927"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90393]</Enables></Option><Option id="17928"><Value>?? ???</Value></Option><Option id="17929"><Value>Success ???</Value></Option><Option id="17930"><Value>?? ??/??</Value></Option><Option id="17931"><Value>?? ????? ?? ?????</Value></Option><Option id="17932"><Value>?? (???? ??? ????.)</Value><Enables>/Ticket/Custom_Field[@id = 90395]</Enables></Option></Custom_Field><Custom_Field id="91028" display-name="??? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91026" display-name="??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21417"><Value>Kronus</Value></Option><Option id="21418"><Value>Earbuds</Value></Option><Option id="21419"><Value>Built In</Value></Option><Option id="21420"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91028]</Enables></Option></Custom_Field><Custom_Field id="90353" display-name="??? ???????" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17662"><Value>????? ?? ??? ??? ????.</Value></Option><Option id="17663"><Value>????? ??? ?? ??? ????.</Value><Enables>/Ticket/Custom_Field[@id = 90354]</Enables></Option></Custom_Field><Custom_Field id="90356" display-name="?? ??? ?? ??? ????." required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17670" dependent="true"><Value>???? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17701]</Enables></Option><Option id="17671" dependent="true"><Value>???? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17701 or @id = 17702]</Enables></Option><Option id="17672" dependent="true"><Value>??? ??</Value></Option><Option id="17673" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17702]</Enables></Option><Option id="17674" dependent="true"><Value>??? ???</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17703]</Enables></Option><Option id="17675" dependent="true"><Value>?????? ??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90357]</Enables></Option><Option id="17676" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17677" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17704 or @id = 17705]</Enables></Option></Custom_Field><Custom_Field id="90390" display-name="? ??? ????? ??? ?????." required="false" editable="true" dependent="true" data-type="boolean" /><Custom_Field id="90389" display-name="?? ?? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90391" display-name="??? ??????" required="false" editable="true" data-type="option" multi-value="false"><Option id="17915"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90392]</Enables></Option><Option id="17916"><Value>???</Value><Enables>/Ticket/Custom_Field[@id = 90392]</Enables></Option></Custom_Field><Custom_Field id="90368" display-name="?? ???" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17710" dependent="true"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables></Option><Option id="17711" dependent="true"><Value>???? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17712" dependent="true"><Value>"????" ??? ??? ? ??</Value></Option><Option id="17713" dependent="true"><Value>?? ???? ?? ? ??</Value></Option><Option id="17714" dependent="true"><Value>???? ? ?? ??</Value></Option><Option id="17715" dependent="true"><Value>?? ??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90369]</Enables></Option><Option id="17716" dependent="true"><Value>???? ???</Value></Option><Option id="17717" dependent="true"><Value>??? ??</Value></Option><Option id="17718" dependent="true"><Value>???????</Value></Option><Option id="17719" dependent="true"><Value>?? ??</Value></Option><Option id="17720" dependent="true"><Value>??</Value></Option><Option id="17721" dependent="true"><Value>??? ??</Value></Option><Option id="17722" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17723" dependent="true"><Value>???? ?? ??</Value></Option><Option id="17724" dependent="true"><Value>????/?? ??</Value></Option><Option id="17725" dependent="true"><Value>?? ??</Value></Option><Option id="17726" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17727" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17728" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17729" dependent="true"><Value>?? ??/??? ??</Value></Option><Option id="17730" dependent="true"><Value>??? ???? ??</Value></Option><Option id="17731" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17732" dependent="true"><Value>? ???? ??</Value></Option><Option id="17733" dependent="true"><Value>???? ?? ??</Value></Option><Option id="17734" dependent="true"><Value>?? (???? ??? ????.)</Value></Option><Option id="17735" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17736" dependent="true"><Value>???? ?? ? ??</Value></Option><Option id="17737" dependent="true"><Value>TOTALe ??? ??</Value></Option><Option id="17738" dependent="true"><Value>???? ? ? ?? ??</Value></Option><Option id="17739" dependent="true"><Value>????? ???? ?? ??</Value></Option><Option id="17740" dependent="true"><Value>??? ?? ??? ??</Value></Option><Option id="17741" dependent="true"><Value>?? ?? ?? ??</Value></Option><Option id="17742" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17743" dependent="true"><Value>???? ??</Value></Option><Option id="17744" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17745" dependent="true"><Value>?? ???</Value></Option><Option id="17746" dependent="true"><Value>?? ??</Value></Option><Option id="17747" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17748" dependent="true"><Value>?? ??</Value></Option><Option id="17749" dependent="true"><Value>?? ??</Value></Option><Option id="17750" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17751" dependent="true"><Value>?? ??</Value></Option><Option id="17752" dependent="true"><Value>?? ??</Value></Option><Option id="17753" dependent="true"><Value>?? ??</Value></Option><Option id="17754" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17755" dependent="true"><Value>?? ????</Value></Option><Option id="17756" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17757" dependent="true"><Value>??? ??</Value></Option><Option id="17758" dependent="true"><Value>??? ??</Value></Option><Option id="17759" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90379]</Enables><Enables>/Ticket/Custom_Field[@id = 90381]</Enables><Enables>/Ticket/Custom_Field[@id = 90385]</Enables></Option><Option id="17760" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90379]</Enables><Enables>/Ticket/Custom_Field[@id = 90385]</Enables></Option><Option id="17761" dependent="true"><Value>?? ??/???</Value></Option></Custom_Field><Custom_Field id="90366" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17701" dependent="true"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90367]</Enables><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17710 or @id = 17711 or @id = 17712 or @id = 17713 or @id = 17714 or @id = 17715 or @id = 17716 or @id = 17717 or @id = 17718 or @id = 17719 or @id = 17720 or @id = 17721 or @id = 17722 or @id = 17723 or @id = 17724 or @id = 17725 or @id = 17726 or @id = 17727 or @id = 17728 or @id = 17729 or @id = 17730 or @id = 17731 or @id = 17732 or @id = 17733 or @id = 17734]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17702" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17735 or @id = 17736 or @id = 17737 or @id = 17738 or @id = 17739 or @id = 17740 or @id = 17741]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17703" dependent="true"><Value>??? </Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17742 or @id = 17743]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17704" dependent="true"><Value>?? / ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17744 or @id = 17745 or @id = 17746 or @id = 17747 or @id = 17748 or @id = 17749 or @id = 17750 or @id = 17751 or @id = 17752 or @id = 17753 or @id = 17754 or @id = 17755 or @id = 17756]</Enables><Enables>/Ticket/Custom_Field[@id = 90380]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17705" dependent="true"><Value>?? / ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17757 or @id = 17758 or @id = 17759 or @id = 17760 or @id = 17761]</Enables><Enables>/Ticket/Custom_Field[@id = 90386]</Enables></Option></Custom_Field><Custom_Field id="90920" display-name="Language " required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="20437"><Value>Arabic</Value></Option><Option id="20438"><Value>Chinese (Mandarin)</Value></Option><Option id="20439"><Value>Dutch</Value></Option><Option id="20440" selected="true"><Value>English (American)</Value></Option><Option id="20441"><Value>English (British)</Value></Option><Option id="20442"><Value>Filipino (Tagalog)</Value></Option><Option id="20443"><Value>French</Value></Option><Option id="20444"><Value>German</Value></Option><Option id="20445"><Value>Greek</Value></Option><Option id="20446"><Value>Hebrew</Value></Option><Option id="20447"><Value>Hindi</Value></Option><Option id="20448"><Value>Irish</Value></Option><Option id="20449"><Value>Italian</Value></Option><Option id="20450"><Value>Japanese</Value></Option><Option id="20451"><Value>Korean</Value></Option><Option id="20452"><Value>Persian (Farsi)</Value></Option><Option id="20453"><Value>Polish</Value></Option><Option id="20454"><Value>Portuguese (Brazil)</Value></Option><Option id="20455"><Value>Russian</Value></Option><Option id="20456"><Value>Spanish (Latin America)</Value></Option><Option id="20457"><Value>Spanish (Spain)</Value></Option><Option id="20458"><Value>Swedish</Value></Option><Option id="20459"><Value>Turkish</Value></Option><Option id="20460"><Value>Vietnamese</Value></Option></Custom_Field><Custom_Field id="90394" display-name="???/??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17939"><Value>??</Value></Option><Option id="17940"><Value>??</Value></Option><Option id="17941"><Value>????</Value></Option><Option id="17942"><Value>??</Value></Option></Custom_Field><Custom_Field id="90376" display-name="?? ?" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17804"><Value>1?</Value></Option><Option id="17805"><Value>2?</Value></Option><Option id="17806"><Value>3?</Value></Option><Option id="17807"><Value>4?</Value></Option><Option id="17808"><Value>5?</Value></Option><Option id="17809"><Value>6?</Value></Option><Option id="17810"><Value>7?</Value></Option><Option id="17811"><Value>8?</Value></Option><Option id="17812"><Value>9?</Value></Option><Option id="17813"><Value>10?</Value></Option><Option id="17814"><Value>11?</Value></Option><Option id="17815"><Value>12?</Value></Option></Custom_Field><Custom_Field id="89867" display-name="" required="" editable="" data-type=""></Custom_Field><Custom_Field id="91054" display-name="??? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21490"><Value>TOTALe ????</Value></Option><Option id="21491"><Value>ReFLEX ????</Value></Option></Custom_Field><Custom_Field id="91055" display-name="???? ??? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21492"><Value>???? ??? ?</Value></Option><Option id="21493"><Value>?? ??? ?? ?? ???? ???? ??? ??</Value></Option><Option id="21496"><Value>?? ???</Value></Option><Option id="21497"><Value>?? ???</Value><Enables>/Ticket/Custom_Field[@id = 91057]</Enables></Option><Option id="21501"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91056]</Enables></Option><Option id="21622"><Value>???? ???</Value></Option><Option id="21623"><Value>"?? (attend)" ??? ??? ??</Value></Option><Option id="21624"><Value>??? ?? ???? ??</Value></Option><Option id="21626"><Value>?? ??? ??</Value></Option></Custom_Field><Custom_Field id="91056" display-name="?? ??? ???" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91057" display-name="???? ??? ?? ID" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90380" display-name="?? ?? " required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90365" display-name="?? ??" required="true" editable="true" data-type="option" multi-value="false"><Option id="17692"><Value>??</Value></Option><Option id="17693"><Value>??</Value></Option><Option id="17694"><Value>???</Value></Option><Option id="17695"><Value>????</Value></Option><Option id="17696"><Value>???</Value></Option><Option id="17697"><Value>??</Value></Option><Option id="17698" dependent="true"><Value>Phone call to Tom</Value></Option><Option id="17699" dependent="true"><Value>??</Value></Option><Option id="17700" dependent="true"><Value>Mail to Tom</Value></Option><Option id="18572"><Value>SMS</Value></Option><Option id="20436" selected="true"><Value>Success Correspondence</Value></Option><Option id="21425"><Value>Facebook Wall</Value></Option><Option id="21426"><Value>Facebook Support</Value></Option></Custom_Field><Custom_Field id="90383" display-name="?? ?? ID" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91018" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90360" display-name="???" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90393" display-name="??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17933"><Value>??? ??</Value></Option><Option id="17934"><Value>??? ??</Value></Option><Option id="17935"><Value>????</Value></Option><Option id="17936"><Value>????? ???</Value></Option><Option id="17937"><Value>??/??</Value></Option><Option id="17938"><Value>???? ??</Value></Option></Custom_Field><Custom_Field id="90367" display-name="?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17706"><Value>??? ????</Value></Option><Option id="17707"><Value>??? ??</Value></Option><Option id="17708"><Value>??? ??</Value></Option><Option id="17709"><Value>??? ????</Value></Option><Option id="18565"><Value>TOTALe ??? ????</Value></Option><Option id="21518"><Value>TOTALe Companion HD</Value></Option></Custom_Field><Custom_Field id="90355" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91029" display-name="??" required="false" editable="true" dependent="true" data-type="boolean" /><Custom_Field id="90397" display-name="?? ??" required="false" editable="true" data-type="option" multi-value="false"><Option id="17943"><Value>?? ?? ???</Value></Option><Option id="17944"><Value>?? ?? / ?? ??? ???</Value></Option><Option id="17945"><Value>??? ????? ???</Value></Option><Option id="17946"><Value>?? ??? ???</Value></Option><Option id="17947"><Value>?? ????/????? ???</Value></Option><Option id="17948"><Value>??? ?? ???</Value></Option><Option id="17949"><Value>?? ???</Value></Option><Option id="17950"><Value>CST ???? ??</Value></Option><Option id="17951"><Value>???? ??</Value></Option><Option id="17952"><Value>??? ???? ?? - ??? ??</Value></Option><Option id="17953"><Value>??? ???? ?? - ???</Value></Option><Option id="17954"><Value>????? ??</Value></Option><Option id="17955"><Value>?? ??</Value></Option><Option id="17956"><Value>??</Value></Option><Option id="17957"><Value>?? ???</Value></Option><Option id="17958"><Value>??? ???</Value></Option><Option id="17959"><Value>??? ?? ???</Value></Option><Option id="17960"><Value>??? ?? ??</Value></Option><Option id="17961"><Value>???? Peer(????)?? ?? ?? ???</Value></Option><Option id="17962"><Value>? ID ???</Value></Option><Option id="17963"><Value>?? ???</Value></Option><Option id="17964"><Value>?? ???</Value></Option><Option id="17965"><Value>??/?? ?? ???/?????</Value></Option><Option id="17966"><Value>?? ????</Value></Option><Option id="17967"><Value>?? ???? ?? (??)</Value></Option><Option id="17968"><Value>?? ???? ?? (??)</Value></Option><Option id="17969"><Value>?? ?? (??? ??)</Value></Option><Option id="17970"><Value>?? ?? (??? ??)</Value></Option><Option id="17971"><Value>?? ??/????</Value></Option><Option id="17972"><Value>?? ????</Value></Option><Option id="17973"><Value>?? ?? ???</Value></Option><Option id="17974"><Value>?? ?????</Value></Option><Option id="17975"><Value>???? ??/??</Value></Option><Option id="17976"><Value>TOTALe ???? ???</Value></Option><Option id="17977"><Value>?? ?? ???/??</Value></Option><Option id="17978"><Value>??(????/?????)? ???</Value></Option><Option id="17979"><Value>???? (????)</Value></Option><Option id="17980"><Value>????</Value></Option><Option id="17981"><Value>??? ??</Value></Option><Option id="17982"><Value>?? ???</Value></Option><Option id="17983"><Value>?? ???</Value></Option><Option id="17984"><Value>?? ?? ???</Value></Option><Option id="17985"><Value>??</Value></Option><Option id="17986"><Value>?? ???</Value></Option><Option id="17987"><Value>??? ??</Value></Option><Option id="17988"><Value>??? ?? ???/???</Value></Option><Option id="17989"><Value>?? ??? ???</Value></Option><Option id="17990"><Value>V4 ?????</Value></Option><Option id="17991"><Value>??? ?? ?</Value></Option></Custom_Field><Custom_Field id="90385" display-name="??/?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17889"><Value>??? ?? ??</Value></Option><Option id="17890"><Value>?? ??</Value></Option><Option id="17891"><Value>EULA / ??</Value></Option><Option id="17892"><Value>B2B ??</Value></Option><Option id="17893"><Value>World ? ??? ??, ??? ?? ? ??? ??</Value></Option><Option id="17894"><Value>? ?? ???? ?? / ??</Value></Option><Option id="17895"><Value>?? / ???</Value></Option><Option id="17896"><Value>???? ?? ??</Value></Option><Option id="17897"><Value>??? ?? ??</Value></Option><Option id="17898"><Value>??? ??</Value></Option><Option id="17899"><Value>?? ?? / ?? ???</Value></Option><Option id="17900"><Value>?????/?????? ??</Value></Option><Option id="17901"><Value>??? ?? - ?? ??</Value></Option><Option id="17902"><Value>??? ?? - ?? ??</Value></Option><Option id="17903"><Value>??? ?? - ?? ??</Value></Option></Custom_Field><Custom_Field id="90379" display-name="RMA ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90384" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17849"><Value>?? ?????? ??</Value></Option><Option id="17850"><Value>??????/?? ??? ??</Value></Option><Option id="17851"><Value>?? ?? ??</Value></Option><Option id="17852"><Value>??? ??</Value></Option><Option id="17853"><Value>RS ?? ??? ??</Value></Option><Option id="17854"><Value>RS ?? ?? ??</Value></Option><Option id="17855"><Value>?? ??</Value></Option><Option id="17856"><Value>??? ??</Value></Option><Option id="17857"><Value>?? ?? (??? ??)</Value></Option><Option id="17858"><Value>??? ??</Value></Option><Option id="17859"><Value>??? ??? ?? ??</Value></Option><Option id="17860"><Value>?? ???</Value></Option><Option id="17861"><Value>DLL ?? ??</Value></Option><Option id="17862"><Value>????? ???? ?? ??</Value></Option><Option id="17863"><Value>???? (??? ??, USB, CD, ??)</Value></Option><Option id="17864"><Value>??? ?? / ??? ??</Value></Option><Option id="17865"><Value>?? ?? / ???</Value></Option><Option id="17866"><Value>???? ?? ??</Value></Option><Option id="17867"><Value>??? ?? ??</Value></Option><Option id="17868"><Value>??? ?? ??</Value></Option><Option id="17869"><Value>??? ?? ??</Value></Option><Option id="17870"><Value>??? ?? ??</Value></Option><Option id="17871"><Value>?? ???</Value></Option><Option id="17872"><Value>??? ??? ?? ??</Value></Option><Option id="17873"><Value>??</Value></Option><Option id="17874"><Value>?? ?? ??</Value></Option><Option id="17875"><Value>??? ?? ??</Value></Option><Option id="17876"><Value>???? ??</Value></Option><Option id="17877"><Value>???? ?? ??</Value></Option><Option id="17878"><Value>?? ??</Value></Option><Option id="17879"><Value>?? ????????</Value></Option><Option id="17880"><Value>???? ???? ??</Value></Option><Option id="17881"><Value>?? ???</Value></Option><Option id="17882"><Value>??? ??</Value></Option><Option id="17883"><Value>??? ????? ?? ??</Value></Option><Option id="17884"><Value>???? ?? (QA)</Value></Option><Option id="17885"><Value>??? ??? ??</Value></Option><Option id="17886"><Value>?? ?? ?? ??</Value></Option><Option id="17887"><Value>??? ??</Value></Option><Option id="17888"><Value>?? (???? ??? ????.)</Value></Option><Option id="21433"><Value>World ???? ?? ? ??</Value></Option></Custom_Field><Custom_Field id="91034" display-name="?? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90372" display-name="?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91033" display-name="?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90361" display-name="??" required="true" editable="true" data-type="string">English (American) Super Ticket</Custom_Field><Custom_Field id="90378" display-name="??? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90363" display-name="?? ??" required="true" editable="true" data-type="option" multi-value="false"><Option id="17683"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90353]</Enables></Option><Option id="17684"><Value>??(??)</Value><Enables>/Ticket/Custom_Field[@id = 90370]</Enables><Enables>/Ticket/Custom_Field[@id = 90371]</Enables><Enables>/Ticket/Custom_Field[@id = 90372]</Enables></Option><Option id="17685"><Value>??(??)</Value><Enables>/Ticket/Custom_Field[@id = 90370]</Enables><Enables>/Ticket/Custom_Field[@id = 90371]</Enables><Enables>/Ticket/Custom_Field[@id = 90372]</Enables></Option><Option id="17686"><Value>RWorld</Value></Option><Option id="17687"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90373]</Enables></Option><Option id="17688"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90398]</Enables><Enables>/Ticket/Custom_Field[@id = 90399]</Enables></Option><Option id="17689"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 91054]</Enables><Enables>/Ticket/Custom_Field[@id = 91055]</Enables><Enables>/Ticket/Custom_Field[@id = 91078]</Enables></Option><Option id="17690"><Value>CRT</Value><Enables>/Ticket/Custom_Field[@id = 90365]/Option[@id = 17698 or @id = 17699 or @id = 17700]</Enables></Option><Option id="17691"><Value>CST ????</Value><Enables>/Ticket/Custom_Field[@id = 90375]</Enables><Enables>/Ticket/Custom_Field[@id = 90390]</Enables></Option><Option id="20435" selected="true"><Value>Success Correspondence</Value><Enables>/Ticket/Custom_Field[@id = 90920]</Enables></Option></Custom_Field><Custom_Field id="90399" display-name="?? ????" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90398" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17992"><Value>??? ??</Value></Option><Option id="17993"><Value>???? ?? ??</Value></Option><Option id="17994"><Value>??? ??</Value></Option><Option id="17995"><Value>?? ?? ??</Value></Option><Option id="17996"><Value>??? ???</Value></Option><Option id="17997"><Value>?????? ??? ??</Value></Option><Option id="17998"><Value>?? ?? ??</Value></Option><Option id="17999"><Value>?? ?? ??</Value></Option><Option id="18457"><Value>?? ??</Value></Option></Custom_Field><Custom_Field id="90359" display-name="URL" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90358" display-name="???? ???" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17681"><Value>??? ??</Value></Option><Option id="17682"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90359]</Enables></Option></Custom_Field><Custom_Field id="90354" display-name="?? ??? ??? ???????" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17664"><Value>TOTALe</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17671 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17676 or @id = 17677]</Enables></Option><Option id="17665"><Value>?? 3</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17666"><Value>?? 2</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17667"><Value>??? ?? 3</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17668"><Value>??? ?? 2</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17669"><Value>? ? ??</Value><Enables>/Ticket/Custom_Field[@id = 90355]</Enables><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17671 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17676 or @id = 17677]</Enables></Option><Option id="21368"><Value>ReFLEX</Value><Enables>/Ticket/Custom_Field[@id = 91015]</Enables><Enables>/Ticket/Custom_Field[@id = 91029]</Enables><Enables>/Ticket/Custom_Field[@id = 91030]</Enables><Enables>/Ticket/Custom_Field[@id = 91033]</Enables></Option></Custom_Field><Custom_Field id="91030" display-name="??/??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90377" display-name="?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17816"><Value>1995</Value></Option><Option id="17817"><Value>1996</Value></Option><Option id="17818"><Value>1997</Value></Option><Option id="17819"><Value>1998</Value></Option><Option id="17820"><Value>1999</Value></Option><Option id="17821"><Value>2000</Value></Option><Option id="17822"><Value>2001</Value></Option><Option id="17823"><Value>2002</Value></Option><Option id="17824"><Value>2003</Value></Option><Option id="17825"><Value>2004</Value></Option><Option id="17826"><Value>2005</Value></Option><Option id="17827"><Value>2006</Value></Option><Option id="17828"><Value>2007</Value></Option><Option id="17829"><Value>2008</Value></Option><Option id="17830"><Value>2009</Value></Option><Option id="17831"><Value>2010</Value></Option><Option id="18598"><Value>2011</Value></Option><Option id="28266"><Value>2012</Value></Option></Custom_Field><Custom_Field id="91019" display-name="??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91017" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21378"><Value>???</Value></Option><Option id="21379"><Value>??? ?? ??</Value></Option><Option id="21380"><Value>??? ??</Value></Option><Option id="21381"><Value>????</Value></Option><Option id="21382"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91019]</Enables></Option><Option id="21383"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91018]</Enables></Option><Option id="21414"><Value>??</Value></Option><Option id="21415"><Value>???</Value></Option><Option id="21416"><Value>???</Value><Enables>/Ticket/Custom_Field[@id = 91026]</Enables></Option></Custom_Field><Custom_Field id="91078" display-name="????" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91020" display-name="?? ID" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91015" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21369"><Value>??? ???? ????.</Value><Enables>/Ticket/Custom_Field[@id = 91017]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="21370"><Value>???????? ????? ????.</Value></Option></Custom_Field><Ticket_Attachments /><Actions><Action id="1394" uid="14006/14037/Ticket/action/1394" name="Completion of Level 1 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1394" /><Action id="1395" uid="14006/14037/Ticket/action/1395" name="Completion of Level 1 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1395" /><Action id="1396" uid="14006/14037/Ticket/action/1396" name="Completion of Level 2 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1396" /><Action id="1397" uid="14006/14037/Ticket/action/1397" name="Completion of Level 2 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1397" /><Action id="1398" uid="14006/14037/Ticket/action/1398" name="Completion of Level 3 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1398" /><Action id="1399" uid="14006/14037/Ticket/action/1399" name="Completion of Level 3 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1399" /><Action id="1400" uid="14006/14037/Ticket/action/1400" name="Completion of Level 4 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1400" /><Action id="1401" uid="14006/14037/Ticket/action/1401" name="Completion of Level 4 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1401" /><Action id="1402" uid="14006/14037/Ticket/action/1402" name="Completion of Level 5 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1402" /><Action id="1403" uid="14006/14037/Ticket/action/1403" name="Completion of Level 1, 2, 3 - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1403" /><Action id="1404" uid="14006/14037/Ticket/action/1404" name="Completion of Level 1, 2, 3, 4, 5 - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1404" /><Action id="1405" uid="14006/14037/Ticket/action/1405" name="Ready for first studio session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1405" /><Action id="1406" uid="14006/14037/Ticket/action/1406" name="Ready for first studio session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1406" /><Action id="1407" uid="14006/14037/Ticket/action/1407" name="Not logged back after first 30 days - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1407" /><Action id="1408" uid="14006/14037/Ticket/action/1408" name="Not logged back after first 30 days - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1408" /><Action id="1409" uid="14006/14037/Ticket/action/1409" name="Not logged back in for 30 days (except first 30 days) - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1409" /><Action id="1410" uid="14006/14037/Ticket/action/1410" name="Completed first Studio Session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1410" /><Action id="1411" uid="14006/14037/Ticket/action/1411" name="Session Cancellation - Coach No-show - A Learner Attended- Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1411" /><Action id="1412" uid="14006/14037/Ticket/action/1412" name="Session Cancellation - Coach No-show - A Learner Attended- Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1412" /><Action id="1413" uid="14006/14037/Ticket/action/1413" name="Session Cancellation -prior to session-Learner signed up-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1413" /><Action id="1414" uid="14006/14037/Ticket/action/1414" name="Session Cancellation -prior to session-Learner signed up-Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1414" /><Action id="1415" uid="14006/14037/Ticket/action/1415" name="Session Cancellation -during Session-Learner attended-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1415" /><Action id="1416" uid="14006/14037/Ticket/action/1416" name="Session Cancellation -during Session-Learner attended-Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1416" /><Action id="1417" uid="14006/14037/Ticket/action/1417" name="Completion of Level 5 -- Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1417" /><Action id="1742" uid="14006/14037/Ticket/action/1742" name="Completion of Level 1  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1742" /><Action id="1743" uid="14006/14037/Ticket/action/1743" name="Completion of Level 1 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1743" /><Action id="1744" uid="14006/14037/Ticket/action/1744" name="Completion of Level 2  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1744" /><Action id="1745" uid="14006/14037/Ticket/action/1745" name="Completion of Level 2 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1745" /><Action id="1746" uid="14006/14037/Ticket/action/1746" name="Completion of Level 3  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1746" /><Action id="1747" uid="14006/14037/Ticket/action/1747" name="Completion of Level 3 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1747" /><Action id="1748" uid="14006/14037/Ticket/action/1748" name="Completion of Level 4  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1748" /><Action id="1749" uid="14006/14037/Ticket/action/1749" name="Completion of Level 4 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1749" /><Action id="1750" uid="14006/14037/Ticket/action/1750" name="Completion of Level 5  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1750" /><Action id="1751" uid="14006/14037/Ticket/action/1751" name="Completion of Level 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1751" /><Action id="1752" uid="14006/14037/Ticket/action/1752" name="Completion of Levels 1, 2, and 3 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1752" /><Action id="1753" uid="14006/14037/Ticket/action/1753" name="Completion of Levels 1, 2, and 3 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1753" /><Action id="1754" uid="14006/14037/Ticket/action/1754" name="Completion of Levels 1, 2, and 3 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1754" /><Action id="1755" uid="14006/14037/Ticket/action/1755" name="Completion of Levels 1, 2, 3, 4, and 5 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1755" /><Action id="1756" uid="14006/14037/Ticket/action/1756" name="Completion of Levels 1, 2, 3, 4, and 5 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1756" /><Action id="1757" uid="14006/14037/Ticket/action/1757" name="Completion of Levels 1, 2, 3, 4, and 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1757" /><Action id="1758" uid="14006/14037/Ticket/action/1758" name="Ready for first Studio Session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1758" /><Action id="1759" uid="14006/14037/Ticket/action/1759" name="Ready for first Studio Session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1759" /><Action id="1760" uid="14006/14037/Ticket/action/1760" name="Not logged back in after first 30 days - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1760" /><Action id="1761" uid="14006/14037/Ticket/action/1761" name="Not logged back in after first 30 days - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1761" /><Action id="1762" uid="14006/14037/Ticket/action/1762" name="Not logged back in for 30 days (except first 30 days) - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1762" /><Action id="1763" uid="14006/14037/Ticket/action/1763" name="Not logged back in for 30 days (except first 30 days) - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1763" /><Action id="1764" uid="14006/14037/Ticket/action/1764" name="Not logged back in for 30 days (except first 30 days) - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1764" /><Action id="1765" uid="14006/14037/Ticket/action/1765" name="Completed first Studio Session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1765" /><Action id="1766" uid="14006/14037/Ticket/action/1766" name="Completed first Studio Session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1766" /><Action id="1767" uid="14006/14037/Ticket/action/1767" name="Completed first Studio Session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1767" /><Action id="1768" uid="14006/14037/Ticket/action/1768" name="Session Reminder - 1 day/24 hours before session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1768" /><Action id="1769" uid="14006/14037/Ticket/action/1769" name="Session Reminder - 1 day/24 hours before session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1769" /><Action id="1770" uid="14006/14037/Ticket/action/1770" name="Session Reminder - 1 day/24 hours before session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1770" /><Action id="1771" uid="14006/14037/Ticket/action/1771" name="Session Reminder - 1 day/24 hours before session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1771" /><Action id="1773" uid="14006/14037/Ticket/action/1773" name="Session Cancellation - Coach No-show - A Learner Attended - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1773" /><Action id="1774" uid="14006/14037/Ticket/action/1774" name="Session Cancellation - Coach Cancels - no learners show - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1774" /><Action id="1775" uid="14006/14037/Ticket/action/1775" name="Session Cancellation - Coach Cancels - no learners show - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1775" /><Action id="1777" uid="14006/14037/Ticket/action/1777" name="Session Cancellation - Coach Cancels - no learners show -  SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1777" /><Action id="1780" uid="14006/14037/Ticket/action/1780" name="Session Cancellation -prior to session-Learner signed up-Phone " href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1780" /><Action id="1782" uid="14006/14037/Ticket/action/1782" name="Session Cancellation -prior to session-Learner signed up-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1782" /><Action id="1783" uid="14006/14037/Ticket/action/1783" name="Session Cancellation -prior to session-Learner signed up-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1783" /><Action id="1784" uid="14006/14037/Ticket/action/1784" name="Session Cancellation -prior to session-Learner signed up-SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1784" /><Action id="1785" uid="14006/14037/Ticket/action/1785" name="Session Cancellation -during Session-Learner attended-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1785" /><Action id="1786" uid="14006/14037/Ticket/action/1786" name="Session Cancellation -during Session-Learner attended-SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1786" /><Action id="1787" uid="14006/14037/Ticket/action/1787" name="Learner No Show-1 plus learner not attending not cancelledPhone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1787" /><Action id="1788" uid="14006/14037/Ticket/action/1788" name="Learner No Show-1 plus learner not attending not cancelledEmail" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1788" /><Action id="1790" uid="14006/14037/Ticket/action/1790" name="Learner No Show-1 plus learner not attending not cancelledSMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1790" /><Action id="1791" uid="14006/14037/Ticket/action/1791" name="Start their subscription / Claim Online Rights - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1791" /><Action id="1792" uid="14006/14037/Ticket/action/1792" name="Start their subscription / Claim Online Rights - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1792" /><Action id="1793" uid="14006/14037/Ticket/action/1793" name="Start their subscription / Claim Online Rights - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1793" /><Action id="1794" uid="14006/14037/Ticket/action/1794" name="Start their subscription / Claim Online Rights - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1794" /><Action id="1795" uid="14006/14037/Ticket/action/1795" name="Completed their first 3 Core Lessons - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1795" /><Action id="1796" uid="14006/14037/Ticket/action/1796" name="Completed their first 3 Core Lessons - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1796" /><Action id="1797" uid="14006/14037/Ticket/action/1797" name="Completed their first 3 Core Lessons - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1797" /><Action id="1798" uid="14006/14037/Ticket/action/1798" name="Completed their first 3 Core Lessons - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1798" /><Action id="1799" uid="14006/14037/Ticket/action/1799" name="Pre-renewal outreach - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1799" /><Action id="1800" uid="14006/14037/Ticket/action/1800" name="Pre-renewal outreach - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1800" /><Action id="1801" uid="14006/14037/Ticket/action/1801" name="Pre-renewal outreach - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1801" /><Action id="1802" uid="14006/14037/Ticket/action/1802" name="Pre-renewal outreach - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1802" /><Action id="1803" uid="14006/14037/Ticket/action/1803" name="Discovery outreach - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1803" /><Action id="1804" uid="14006/14037/Ticket/action/1804" name="Discovery outreach - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1804" /><Action id="1806" uid="14006/14037/Ticket/action/1806" name="Discovery outreach - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1806" /><Action id="1807" uid="14006/14037/Ticket/action/1807" name="Discovery outreach - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1807" /><Action id="1808" uid="14006/14037/Ticket/action/1808" name="Poor experience follow-up - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1808" /><Action id="1809" uid="14006/14037/Ticket/action/1809" name="Poor experience follow-up - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1809" /><Action id="1810" uid="14006/14037/Ticket/action/1810" name="Poor experience follow-up - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1810" /><Action id="1811" uid="14006/14037/Ticket/action/1811" name="Poor experience follow-up - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1811" /><Action id="1812" uid="14006/14037/Ticket/action/1812" name="Did not enjoy session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1812" /><Action id="1813" uid="14006/14037/Ticket/action/1813" name="Did not enjoy session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1813" /><Action id="1814" uid="14006/14037/Ticket/action/1814" name="Did not enjoy session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1814" /><Action id="1815" uid="14006/14037/Ticket/action/1815" name="Did not enjoy session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1815" /><Action id="1816" uid="14006/14037/Ticket/action/1816" name="Studio reminder 6 hours - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1816" /><Action id="1817" uid="14006/14037/Ticket/action/1817" name="Studio reminder 6 hours - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1817" /><Action id="1818" uid="14006/14037/Ticket/action/1818" name="Studio reminder 6 hours - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1818" /><Action id="1819" uid="14006/14037/Ticket/action/1819" name="Studio reminder 6 hours - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1819" /><Action id="1820" uid="14006/14037/Ticket/action/1820" name="Log back in encouragement - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1820" /><Action id="1821" uid="14006/14037/Ticket/action/1821" name="Log back in encouragement - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1821" /><Action id="1822" uid="14006/14037/Ticket/action/1822" name="Log back in encouragement - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1822" /><Action id="1823" uid="14006/14037/Ticket/action/1823" name="Log back in encouragement - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1823" /><Action id="1824" uid="14006/14037/Ticket/action/1824" name="Completion of Levels 1, 2, 3, 4, and 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1824" /><Action id="1826" uid="14006/14037/Ticket/action/1826" name="Session Cancellation - Coach No-show - A Learner Attended-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1826" /><Action id="1827" uid="14006/14037/Ticket/action/1827" name="Session Cancellation - Coach Cancels - no learners show - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1827" /><Action id="1828" uid="14006/14037/Ticket/action/1828" name="Learner NoShow-1 plus learner not attending not cancelledPostal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1828" /><Action id="2136" uid="14006/14037/Ticket/action/2136" name="Subscription Renewal Trigger - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2136" /><Action id="2137" uid="14006/14037/Ticket/action/2137" name="Subscription Renewal Trigger - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2137" /><Action id="2138" uid="14006/14037/Ticket/action/2138" name="Subscription Renewal Trigger - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2138" /><Action id="2139" uid="14006/14037/Ticket/action/2139" name="Subscription Renewal Trigger - Inst" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2139" /><Action id="2140" uid="14006/14037/Ticket/action/2140" name="Subscription Renewal Trigger - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2140" /><Action id="3070" uid="14006/14037/Ticket/action/3070" name="Initial profile setup - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3070" /><Action id="3071" uid="14006/14037/Ticket/action/3071" name="Initial profile setup - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3071" /><Action id="3072" uid="14006/14037/Ticket/action/3072" name="Initial profile setup - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3072" /><Action id="3073" uid="14006/14037/Ticket/action/3073" name="Initial profile setup - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3073" /></Actions></Ticket>
2012-03-29 16:22:34,308      179474 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:229) - <Ticket>
  <Ticket_Customer>
    <Customer id="547484"/>
  </Ticket_Customer>
  <Custom_Field id="90363">
    <Option id="20435" selected="true"/>
  </Custom_Field>
  <Email_Notification>false</Email_Notification>
  <Hide_From_Customer>true</Hide_From_Customer>
  <Custom_Field id="90920">
    <Option id="20440" selected="true"/>
  </Custom_Field>
  <Custom_Field id="90361">English (American) Super Ticket</Custom_Field>
  <Custom_Field id="90365">
    <Option id="20436" selected="true"/>
  </Custom_Field>
</Ticket>
2012-03-29 16:22:34,309      179475 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:34,309      179475 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_enforceRequiredFields_=false&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:34,718      179884 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:35,554      180720 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620" />
2012-03-29 16:22:36,719      181885 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:229) - <Ticket>
  <Action>
    <Action id="1395">
      <Comment>This trigger was generated on 06/29/11 07:49 PM EST.
testing</Comment>
      <ShowToCust>false</ShowToCust>
      <ShowToAdditionalContact>true</ShowToAdditionalContact>
    </Action>
  </Action>
</Ticket>
2012-03-29 16:22:36,720      181886 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:36,720      181886 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:38,583      183749 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620" />
2012-03-29 16:22:38,883      184049 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:40,621      185787 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:45,490      190656 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:45,490      190656 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:22:45,490      190656 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:22:45,491      190657 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:22:45,491      190657 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:22:45,491      190657 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:22:45,491      190657 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:22:45,491      190657 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:22:45,492      190658 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:22:45,492      190658 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:22:45,492      190658 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:22:45,492      190658 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:102) - log event PHONE
2012-03-29 16:22:45,492      190658 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:45,492      190658 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - GET&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:46,540      191706 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:47,705      192871 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620"><Assigned_To display-name="??" required="false" editable="false" data-type="entity"><Csr id="929" uid="14006/14037/Csr/929" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Csr/929"><Full_Name display-name="Full Name">Success API</Full_Name></Csr></Assigned_To><Cc_Csr display-name="CSR CC List" required="false" editable="true" data-type="string"></Cc_Csr><Cc_Customer display-name="Customer CC List" required="false" editable="true" data-type="string"></Cc_Customer><Date_Created display-name="?? ??" required="false" editable="false" data-type="date">2012-03-01T15:01:01.410Z</Date_Created><Date_Updated display-name="????? ??" required="false" editable="false" data-type="date">2012-03-29T10:52:30.390Z</Date_Updated><Department display-name="Deptartment" required="false" editable="false" data-type="entity"><Department id="14037" uid="14006/14037/Department/14037" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Department/14037"><Name display-name="Name">Rosetta Stone Success (???)</Name></Department></Department><Email_Notification display-name="Email Notification" required="false" editable="true" data-type="boolean">false</Email_Notification><Email_Notification_Additional_Contact display-name="Email Notification For Additional Contact" required="false" editable="true" data-type="boolean">false</Email_Notification_Additional_Contact><Entered_By display-name="Entered By" required="false" editable="false" data-type="entity"><Csr id="929" uid="14006/14037/Csr/929" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Csr/929"><Full_Name display-name="Full Name">Success API</Full_Name></Csr></Entered_By><Hide_From_Customer display-name="?????? ???" required="false" editable="true" data-type="boolean">true</Hide_From_Customer><Ticket_Customer display-name="Customer" required="true" editable="true" data-type="entity"><Customer id="547484" uid="14006/14037/Customer/547484" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Customer/547484"><First_Name display-name="??">??</First_Name></Customer></Ticket_Customer><Ticket_Number display-name="Ticket #" required="false" editable="false" data-type="string">14006-2508620</Ticket_Number><Ticket_Status display-name="??" required="false" editable="false" data-type="entity"><Status id="228" uid="14006/14037/Ticket/status/228" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/status/228"><Name display-name="Name">???</Name></Status></Ticket_Status><Custom_Field id="90780" display-name="Sniffed System Info" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90373" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17771"><Value>?? ??? ??</Value></Option><Option id="17772"><Value>?? ??</Value></Option><Option id="17773"><Value>??? ??</Value></Option><Option id="17774"><Value>???? ?? </Value></Option><Option id="17775"><Value>??</Value></Option></Custom_Field><Custom_Field id="90369" display-name="??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17762"><Value>Janga</Value></Option><Option id="17763"><Value>Danti</Value></Option><Option id="17764"><Value>Gambo</Value></Option><Option id="17765"><Value>Mengo</Value></Option><Option id="17766"><Value>Nimba</Value></Option><Option id="17767"><Value>Tingo</Value></Option><Option id="17768"><Value>Conta</Value></Option><Option id="17769"><Value>Tanti</Value></Option><Option id="17770"><Value>Stories</Value></Option></Custom_Field><Custom_Field id="90388" display-name="Call Tag Other" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90387" display-name="Call Tag Reason" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17906"><Value>Call Center Misquote</Value></Option><Option id="17907"><Value>Call Center Data Entry Error</Value></Option><Option id="17908"><Value>Courier Error</Value></Option><Option id="17909"><Value>Packing Error</Value></Option><Option id="17910"><Value>Kiosk Error</Value></Option><Option id="17911"><Value>Duplicate Order</Value></Option><Option id="17912"><Value>Fraud</Value></Option><Option id="17913"><Value>Unresolved Technical Issue</Value></Option><Option id="17914"><Value>Other</Value><Enables>/Ticket/Custom_Field[@id = 90388]</Enables></Option></Custom_Field><Custom_Field id="90386" display-name="Call Tag?" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17904"><Value>Yes</Value><Enables>/Ticket/Custom_Field[@id = 90387]</Enables></Option><Option id="17905"><Value>No</Value></Option></Custom_Field><Custom_Field id="90371" display-name="??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90375" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17776"><Value>????? ?</Value></Option><Option id="17777"><Value>??? ???? - DO NOT USE</Value></Option><Option id="17778"><Value>??? ???? - DO NOT USE</Value></Option><Option id="17782"><Value>TOTALe ?? 1 ?? ??</Value></Option><Option id="17783"><Value>TOTALe ?? 2 ?? ??</Value></Option><Option id="17784"><Value>TOTALe ?? 3 ?? ??</Value></Option><Option id="17785"><Value>??? ???? ?? ??</Value></Option><Option id="17786"><Value>??? ???? ?? ??</Value></Option><Option id="17787"><Value>???? ?? ??</Value></Option><Option id="17789"><Value>? ??? ??</Value></Option><Option id="17790"><Value>???? ?? - 30?</Value></Option><Option id="17791"><Value>?? ?? ??</Value></Option><Option id="17792"><Value>??? ?? ??</Value></Option><Option id="17795"><Value>TOTALe ?? 4 ?? ??</Value></Option><Option id="17796"><Value>TOTALe ?? 5 ?? ??</Value></Option><Option id="17797"><Value>??? ?? ???</Value></Option><Option id="18459"><Value>L1.U1.L1 ?? ??</Value></Option><Option id="18460"><Value>S3 ??? ??</Value></Option><Option id="18461"><Value>???? ?? - 15?</Value></Option><Option id="18550"><Value>Pilot Welcome Email</Value></Option><Option id="18752"><Value>???? ??? ????</Value></Option><Option id="18753"><Value>?? ?? - ?? ???</Value></Option><Option id="18754"><Value>?? ?? - ?? ?? ?</Value></Option><Option id="18755"><Value>?? ?? - ?? ??</Value></Option><Option id="18756"><Value>????? ??</Value></Option><Option id="18757"><Value>??? ???? ??</Value></Option><Option id="18758"><Value>S5 ??? ??</Value></Option><Option id="18759"><Value>?? ????</Value></Option><Option id="18760"><Value>??? ??? ??</Value></Option><Option id="21441"><Value>Subscription Renewal</Value></Option><Option id="21442"><Value>Log back in Encouragement - 10 days</Value></Option><Option id="21443"><Value>Studio satisfaction</Value></Option><Option id="23447"><Value>Initial Profile Setup</Value></Option></Custom_Field><Custom_Field id="90370" display-name="??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90362" display-name="??? ??? ??? ????." required="true" editable="true" data-type="string"></Custom_Field><Custom_Field id="90396" display-name="?? ??? / ?? ?? ??" required="false" editable="true" data-type="boolean" /><Custom_Field id="90382" display-name="?? ID" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17832"><Value>1117</Value></Option><Option id="17833"><Value>1722</Value></Option><Option id="17834"><Value>2122</Value></Option><Option id="17835"><Value>2123</Value></Option><Option id="17836"><Value>2125</Value></Option><Option id="17837"><Value>3116</Value></Option><Option id="17838"><Value>4111</Value></Option><Option id="17839"><Value>4112</Value></Option><Option id="17840"><Value>5118</Value></Option><Option id="17841"><Value>8112</Value></Option><Option id="17842"><Value>8118</Value></Option><Option id="17843"><Value>8812</Value></Option><Option id="17844"><Value>8813</Value></Option><Option id="17845"><Value>9114</Value></Option><Option id="17846"><Value>9119</Value></Option><Option id="17847"><Value>9123</Value></Option><Option id="17848"><Value>Other</Value><Enables>/Ticket/Custom_Field[@id = 90383]</Enables></Option></Custom_Field><Custom_Field id="90381" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90357" display-name="??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17678"><Value>? ?? ??? ?? ???? ???? ????.</Value></Option><Option id="17679"><Value>????? ?? ??? ?? ???? ???? ????.</Value></Option><Option id="17680"><Value>? ?? ????? ?? ???? ???? ????.</Value><Enables>/Ticket/Custom_Field[@id = 90358]</Enables></Option></Custom_Field><Custom_Field id="90374" display-name="??? ???? ??? ?? ???" required="false" editable="true" data-type="boolean" /><Custom_Field id="90395" display-name="?? / ??? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90392" display-name="??/??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17917"><Value>??</Value></Option><Option id="17918"><Value>?? ??</Value></Option><Option id="17919"><Value>??/?? ??/??</Value></Option><Option id="17920"><Value>???</Value></Option><Option id="17921"><Value>???? ???</Value></Option><Option id="17922"><Value>???/??</Value><Enables>/Ticket/Custom_Field[@id = 90394]</Enables></Option><Option id="17923"><Value>??? ?? ???</Value></Option><Option id="17924"><Value>??</Value></Option><Option id="17925"><Value>????? ??? ?? ???</Value></Option><Option id="17926"><Value>??</Value></Option><Option id="17927"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90393]</Enables></Option><Option id="17928"><Value>?? ???</Value></Option><Option id="17929"><Value>Success ???</Value></Option><Option id="17930"><Value>?? ??/??</Value></Option><Option id="17931"><Value>?? ????? ?? ?????</Value></Option><Option id="17932"><Value>?? (???? ??? ????.)</Value><Enables>/Ticket/Custom_Field[@id = 90395]</Enables></Option></Custom_Field><Custom_Field id="91028" display-name="??? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91026" display-name="??? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21417"><Value>Kronus</Value></Option><Option id="21418"><Value>Earbuds</Value></Option><Option id="21419"><Value>Built In</Value></Option><Option id="21420"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91028]</Enables></Option></Custom_Field><Custom_Field id="90353" display-name="??? ???????" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17662"><Value>????? ?? ??? ??? ????.</Value></Option><Option id="17663"><Value>????? ??? ?? ??? ????.</Value><Enables>/Ticket/Custom_Field[@id = 90354]</Enables></Option></Custom_Field><Custom_Field id="90356" display-name="?? ??? ?? ??? ????." required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17670" dependent="true"><Value>???? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17701]</Enables></Option><Option id="17671" dependent="true"><Value>???? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17701 or @id = 17702]</Enables></Option><Option id="17672" dependent="true"><Value>??? ??</Value></Option><Option id="17673" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17702]</Enables></Option><Option id="17674" dependent="true"><Value>??? ???</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17703]</Enables></Option><Option id="17675" dependent="true"><Value>?????? ??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90357]</Enables></Option><Option id="17676" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17677" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90366]/Option[@id = 17704 or @id = 17705]</Enables></Option></Custom_Field><Custom_Field id="90390" display-name="? ??? ????? ??? ?????." required="false" editable="true" dependent="true" data-type="boolean" /><Custom_Field id="90389" display-name="?? ?? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90391" display-name="??? ??????" required="false" editable="true" data-type="option" multi-value="false"><Option id="17915"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90392]</Enables></Option><Option id="17916"><Value>???</Value><Enables>/Ticket/Custom_Field[@id = 90392]</Enables></Option></Custom_Field><Custom_Field id="90368" display-name="?? ???" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17710" dependent="true"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables></Option><Option id="17711" dependent="true"><Value>???? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17712" dependent="true"><Value>"????" ??? ??? ? ??</Value></Option><Option id="17713" dependent="true"><Value>?? ???? ?? ? ??</Value></Option><Option id="17714" dependent="true"><Value>???? ? ?? ??</Value></Option><Option id="17715" dependent="true"><Value>?? ??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90369]</Enables></Option><Option id="17716" dependent="true"><Value>???? ???</Value></Option><Option id="17717" dependent="true"><Value>??? ??</Value></Option><Option id="17718" dependent="true"><Value>???????</Value></Option><Option id="17719" dependent="true"><Value>?? ??</Value></Option><Option id="17720" dependent="true"><Value>??</Value></Option><Option id="17721" dependent="true"><Value>??? ??</Value></Option><Option id="17722" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17723" dependent="true"><Value>???? ?? ??</Value></Option><Option id="17724" dependent="true"><Value>????/?? ??</Value></Option><Option id="17725" dependent="true"><Value>?? ??</Value></Option><Option id="17726" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17727" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90382]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="17728" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17729" dependent="true"><Value>?? ??/??? ??</Value></Option><Option id="17730" dependent="true"><Value>??? ???? ??</Value></Option><Option id="17731" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17732" dependent="true"><Value>? ???? ??</Value></Option><Option id="17733" dependent="true"><Value>???? ?? ??</Value></Option><Option id="17734" dependent="true"><Value>?? (???? ??? ????.)</Value></Option><Option id="17735" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17736" dependent="true"><Value>???? ?? ? ??</Value></Option><Option id="17737" dependent="true"><Value>TOTALe ??? ??</Value></Option><Option id="17738" dependent="true"><Value>???? ? ? ?? ??</Value></Option><Option id="17739" dependent="true"><Value>????? ???? ?? ??</Value></Option><Option id="17740" dependent="true"><Value>??? ?? ??? ??</Value></Option><Option id="17741" dependent="true"><Value>?? ?? ?? ??</Value></Option><Option id="17742" dependent="true"><Value>??? ??? ??</Value></Option><Option id="17743" dependent="true"><Value>???? ??</Value></Option><Option id="17744" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17745" dependent="true"><Value>?? ???</Value></Option><Option id="17746" dependent="true"><Value>?? ??</Value></Option><Option id="17747" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17748" dependent="true"><Value>?? ??</Value></Option><Option id="17749" dependent="true"><Value>?? ??</Value></Option><Option id="17750" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17751" dependent="true"><Value>?? ??</Value></Option><Option id="17752" dependent="true"><Value>?? ??</Value></Option><Option id="17753" dependent="true"><Value>?? ??</Value></Option><Option id="17754" dependent="true"><Value>??? ?? ??</Value></Option><Option id="17755" dependent="true"><Value>?? ????</Value></Option><Option id="17756" dependent="true"><Value>?? ?? ??</Value></Option><Option id="17757" dependent="true"><Value>??? ??</Value></Option><Option id="17758" dependent="true"><Value>??? ??</Value></Option><Option id="17759" dependent="true"><Value>?? ?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90379]</Enables><Enables>/Ticket/Custom_Field[@id = 90381]</Enables><Enables>/Ticket/Custom_Field[@id = 90385]</Enables></Option><Option id="17760" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90379]</Enables><Enables>/Ticket/Custom_Field[@id = 90385]</Enables></Option><Option id="17761" dependent="true"><Value>?? ??/???</Value></Option></Custom_Field><Custom_Field id="90366" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17701" dependent="true"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90367]</Enables><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17710 or @id = 17711 or @id = 17712 or @id = 17713 or @id = 17714 or @id = 17715 or @id = 17716 or @id = 17717 or @id = 17718 or @id = 17719 or @id = 17720 or @id = 17721 or @id = 17722 or @id = 17723 or @id = 17724 or @id = 17725 or @id = 17726 or @id = 17727 or @id = 17728 or @id = 17729 or @id = 17730 or @id = 17731 or @id = 17732 or @id = 17733 or @id = 17734]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17702" dependent="true"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17735 or @id = 17736 or @id = 17737 or @id = 17738 or @id = 17739 or @id = 17740 or @id = 17741]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17703" dependent="true"><Value>??? </Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17742 or @id = 17743]</Enables><Enables>/Ticket/Custom_Field[@id = 90376]</Enables><Enables>/Ticket/Custom_Field[@id = 90377]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17704" dependent="true"><Value>?? / ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17744 or @id = 17745 or @id = 17746 or @id = 17747 or @id = 17748 or @id = 17749 or @id = 17750 or @id = 17751 or @id = 17752 or @id = 17753 or @id = 17754 or @id = 17755 or @id = 17756]</Enables><Enables>/Ticket/Custom_Field[@id = 90380]</Enables><Enables>/Ticket/Custom_Field[@id = 90384]</Enables></Option><Option id="17705" dependent="true"><Value>?? / ??</Value><Enables>/Ticket/Custom_Field[@id = 90368]/Option[@id = 17757 or @id = 17758 or @id = 17759 or @id = 17760 or @id = 17761]</Enables><Enables>/Ticket/Custom_Field[@id = 90386]</Enables></Option></Custom_Field><Custom_Field id="90920" display-name="Language " required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="20437"><Value>Arabic</Value></Option><Option id="20438"><Value>Chinese (Mandarin)</Value></Option><Option id="20439"><Value>Dutch</Value></Option><Option id="20440" selected="true"><Value>English (American)</Value></Option><Option id="20441"><Value>English (British)</Value></Option><Option id="20442"><Value>Filipino (Tagalog)</Value></Option><Option id="20443"><Value>French</Value></Option><Option id="20444"><Value>German</Value></Option><Option id="20445"><Value>Greek</Value></Option><Option id="20446"><Value>Hebrew</Value></Option><Option id="20447"><Value>Hindi</Value></Option><Option id="20448"><Value>Irish</Value></Option><Option id="20449"><Value>Italian</Value></Option><Option id="20450"><Value>Japanese</Value></Option><Option id="20451"><Value>Korean</Value></Option><Option id="20452"><Value>Persian (Farsi)</Value></Option><Option id="20453"><Value>Polish</Value></Option><Option id="20454"><Value>Portuguese (Brazil)</Value></Option><Option id="20455"><Value>Russian</Value></Option><Option id="20456"><Value>Spanish (Latin America)</Value></Option><Option id="20457"><Value>Spanish (Spain)</Value></Option><Option id="20458"><Value>Swedish</Value></Option><Option id="20459"><Value>Turkish</Value></Option><Option id="20460"><Value>Vietnamese</Value></Option></Custom_Field><Custom_Field id="90394" display-name="???/??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17939"><Value>??</Value></Option><Option id="17940"><Value>??</Value></Option><Option id="17941"><Value>????</Value></Option><Option id="17942"><Value>??</Value></Option></Custom_Field><Custom_Field id="90376" display-name="?? ?" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17804"><Value>1?</Value></Option><Option id="17805"><Value>2?</Value></Option><Option id="17806"><Value>3?</Value></Option><Option id="17807"><Value>4?</Value></Option><Option id="17808"><Value>5?</Value></Option><Option id="17809"><Value>6?</Value></Option><Option id="17810"><Value>7?</Value></Option><Option id="17811"><Value>8?</Value></Option><Option id="17812"><Value>9?</Value></Option><Option id="17813"><Value>10?</Value></Option><Option id="17814"><Value>11?</Value></Option><Option id="17815"><Value>12?</Value></Option></Custom_Field><Custom_Field id="89867" display-name="" required="" editable="" data-type=""></Custom_Field><Custom_Field id="91054" display-name="??? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21490"><Value>TOTALe ????</Value></Option><Option id="21491"><Value>ReFLEX ????</Value></Option></Custom_Field><Custom_Field id="91055" display-name="???? ??? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21492"><Value>???? ??? ?</Value></Option><Option id="21493"><Value>?? ??? ?? ?? ???? ???? ??? ??</Value></Option><Option id="21496"><Value>?? ???</Value></Option><Option id="21497"><Value>?? ???</Value><Enables>/Ticket/Custom_Field[@id = 91057]</Enables></Option><Option id="21501"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91056]</Enables></Option><Option id="21622"><Value>???? ???</Value></Option><Option id="21623"><Value>"?? (attend)" ??? ??? ??</Value></Option><Option id="21624"><Value>??? ?? ???? ??</Value></Option><Option id="21626"><Value>?? ??? ??</Value></Option></Custom_Field><Custom_Field id="91056" display-name="?? ??? ???" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91057" display-name="???? ??? ?? ID" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90380" display-name="?? ?? " required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90365" display-name="?? ??" required="true" editable="true" data-type="option" multi-value="false"><Option id="17692"><Value>??</Value></Option><Option id="17693"><Value>??</Value></Option><Option id="17694"><Value>???</Value></Option><Option id="17695"><Value>????</Value></Option><Option id="17696"><Value>???</Value></Option><Option id="17697"><Value>??</Value></Option><Option id="17698" dependent="true"><Value>Phone call to Tom</Value></Option><Option id="17699" dependent="true"><Value>??</Value></Option><Option id="17700" dependent="true"><Value>Mail to Tom</Value></Option><Option id="18572"><Value>SMS</Value></Option><Option id="20436" selected="true"><Value>Success Correspondence</Value></Option><Option id="21425"><Value>Facebook Wall</Value></Option><Option id="21426"><Value>Facebook Support</Value></Option></Custom_Field><Custom_Field id="90383" display-name="?? ?? ID" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91018" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90360" display-name="???" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90393" display-name="??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17933"><Value>??? ??</Value></Option><Option id="17934"><Value>??? ??</Value></Option><Option id="17935"><Value>????</Value></Option><Option id="17936"><Value>????? ???</Value></Option><Option id="17937"><Value>??/??</Value></Option><Option id="17938"><Value>???? ??</Value></Option></Custom_Field><Custom_Field id="90367" display-name="?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17706"><Value>??? ????</Value></Option><Option id="17707"><Value>??? ??</Value></Option><Option id="17708"><Value>??? ??</Value></Option><Option id="17709"><Value>??? ????</Value></Option><Option id="18565"><Value>TOTALe ??? ????</Value></Option><Option id="21518"><Value>TOTALe Companion HD</Value></Option></Custom_Field><Custom_Field id="90355" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91029" display-name="??" required="false" editable="true" dependent="true" data-type="boolean" /><Custom_Field id="90397" display-name="?? ??" required="false" editable="true" data-type="option" multi-value="false"><Option id="17943"><Value>?? ?? ???</Value></Option><Option id="17944"><Value>?? ?? / ?? ??? ???</Value></Option><Option id="17945"><Value>??? ????? ???</Value></Option><Option id="17946"><Value>?? ??? ???</Value></Option><Option id="17947"><Value>?? ????/????? ???</Value></Option><Option id="17948"><Value>??? ?? ???</Value></Option><Option id="17949"><Value>?? ???</Value></Option><Option id="17950"><Value>CST ???? ??</Value></Option><Option id="17951"><Value>???? ??</Value></Option><Option id="17952"><Value>??? ???? ?? - ??? ??</Value></Option><Option id="17953"><Value>??? ???? ?? - ???</Value></Option><Option id="17954"><Value>????? ??</Value></Option><Option id="17955"><Value>?? ??</Value></Option><Option id="17956"><Value>??</Value></Option><Option id="17957"><Value>?? ???</Value></Option><Option id="17958"><Value>??? ???</Value></Option><Option id="17959"><Value>??? ?? ???</Value></Option><Option id="17960"><Value>??? ?? ??</Value></Option><Option id="17961"><Value>???? Peer(????)?? ?? ?? ???</Value></Option><Option id="17962"><Value>? ID ???</Value></Option><Option id="17963"><Value>?? ???</Value></Option><Option id="17964"><Value>?? ???</Value></Option><Option id="17965"><Value>??/?? ?? ???/?????</Value></Option><Option id="17966"><Value>?? ????</Value></Option><Option id="17967"><Value>?? ???? ?? (??)</Value></Option><Option id="17968"><Value>?? ???? ?? (??)</Value></Option><Option id="17969"><Value>?? ?? (??? ??)</Value></Option><Option id="17970"><Value>?? ?? (??? ??)</Value></Option><Option id="17971"><Value>?? ??/????</Value></Option><Option id="17972"><Value>?? ????</Value></Option><Option id="17973"><Value>?? ?? ???</Value></Option><Option id="17974"><Value>?? ?????</Value></Option><Option id="17975"><Value>???? ??/??</Value></Option><Option id="17976"><Value>TOTALe ???? ???</Value></Option><Option id="17977"><Value>?? ?? ???/??</Value></Option><Option id="17978"><Value>??(????/?????)? ???</Value></Option><Option id="17979"><Value>???? (????)</Value></Option><Option id="17980"><Value>????</Value></Option><Option id="17981"><Value>??? ??</Value></Option><Option id="17982"><Value>?? ???</Value></Option><Option id="17983"><Value>?? ???</Value></Option><Option id="17984"><Value>?? ?? ???</Value></Option><Option id="17985"><Value>??</Value></Option><Option id="17986"><Value>?? ???</Value></Option><Option id="17987"><Value>??? ??</Value></Option><Option id="17988"><Value>??? ?? ???/???</Value></Option><Option id="17989"><Value>?? ??? ???</Value></Option><Option id="17990"><Value>V4 ?????</Value></Option><Option id="17991"><Value>??? ?? ?</Value></Option></Custom_Field><Custom_Field id="90385" display-name="??/?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17889"><Value>??? ?? ??</Value></Option><Option id="17890"><Value>?? ??</Value></Option><Option id="17891"><Value>EULA / ??</Value></Option><Option id="17892"><Value>B2B ??</Value></Option><Option id="17893"><Value>World ? ??? ??, ??? ?? ? ??? ??</Value></Option><Option id="17894"><Value>? ?? ???? ?? / ??</Value></Option><Option id="17895"><Value>?? / ???</Value></Option><Option id="17896"><Value>???? ?? ??</Value></Option><Option id="17897"><Value>??? ?? ??</Value></Option><Option id="17898"><Value>??? ??</Value></Option><Option id="17899"><Value>?? ?? / ?? ???</Value></Option><Option id="17900"><Value>?????/?????? ??</Value></Option><Option id="17901"><Value>??? ?? - ?? ??</Value></Option><Option id="17902"><Value>??? ?? - ?? ??</Value></Option><Option id="17903"><Value>??? ?? - ?? ??</Value></Option></Custom_Field><Custom_Field id="90379" display-name="RMA ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90384" display-name="?? ?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17849"><Value>?? ?????? ??</Value></Option><Option id="17850"><Value>??????/?? ??? ??</Value></Option><Option id="17851"><Value>?? ?? ??</Value></Option><Option id="17852"><Value>??? ??</Value></Option><Option id="17853"><Value>RS ?? ??? ??</Value></Option><Option id="17854"><Value>RS ?? ?? ??</Value></Option><Option id="17855"><Value>?? ??</Value></Option><Option id="17856"><Value>??? ??</Value></Option><Option id="17857"><Value>?? ?? (??? ??)</Value></Option><Option id="17858"><Value>??? ??</Value></Option><Option id="17859"><Value>??? ??? ?? ??</Value></Option><Option id="17860"><Value>?? ???</Value></Option><Option id="17861"><Value>DLL ?? ??</Value></Option><Option id="17862"><Value>????? ???? ?? ??</Value></Option><Option id="17863"><Value>???? (??? ??, USB, CD, ??)</Value></Option><Option id="17864"><Value>??? ?? / ??? ??</Value></Option><Option id="17865"><Value>?? ?? / ???</Value></Option><Option id="17866"><Value>???? ?? ??</Value></Option><Option id="17867"><Value>??? ?? ??</Value></Option><Option id="17868"><Value>??? ?? ??</Value></Option><Option id="17869"><Value>??? ?? ??</Value></Option><Option id="17870"><Value>??? ?? ??</Value></Option><Option id="17871"><Value>?? ???</Value></Option><Option id="17872"><Value>??? ??? ?? ??</Value></Option><Option id="17873"><Value>??</Value></Option><Option id="17874"><Value>?? ?? ??</Value></Option><Option id="17875"><Value>??? ?? ??</Value></Option><Option id="17876"><Value>???? ??</Value></Option><Option id="17877"><Value>???? ?? ??</Value></Option><Option id="17878"><Value>?? ??</Value></Option><Option id="17879"><Value>?? ????????</Value></Option><Option id="17880"><Value>???? ???? ??</Value></Option><Option id="17881"><Value>?? ???</Value></Option><Option id="17882"><Value>??? ??</Value></Option><Option id="17883"><Value>??? ????? ?? ??</Value></Option><Option id="17884"><Value>???? ?? (QA)</Value></Option><Option id="17885"><Value>??? ??? ??</Value></Option><Option id="17886"><Value>?? ?? ?? ??</Value></Option><Option id="17887"><Value>??? ??</Value></Option><Option id="17888"><Value>?? (???? ??? ????.)</Value></Option><Option id="21433"><Value>World ???? ?? ? ??</Value></Option></Custom_Field><Custom_Field id="91034" display-name="?? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90372" display-name="?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91033" display-name="?? ??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90361" display-name="??" required="true" editable="true" data-type="string">English (American) Super Ticket</Custom_Field><Custom_Field id="90378" display-name="??? ??" required="false" editable="true" data-type="string"></Custom_Field><Custom_Field id="90363" display-name="?? ??" required="true" editable="true" data-type="option" multi-value="false"><Option id="17683"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90353]</Enables></Option><Option id="17684"><Value>??(??)</Value><Enables>/Ticket/Custom_Field[@id = 90370]</Enables><Enables>/Ticket/Custom_Field[@id = 90371]</Enables><Enables>/Ticket/Custom_Field[@id = 90372]</Enables></Option><Option id="17685"><Value>??(??)</Value><Enables>/Ticket/Custom_Field[@id = 90370]</Enables><Enables>/Ticket/Custom_Field[@id = 90371]</Enables><Enables>/Ticket/Custom_Field[@id = 90372]</Enables></Option><Option id="17686"><Value>RWorld</Value></Option><Option id="17687"><Value>?? ??</Value><Enables>/Ticket/Custom_Field[@id = 90373]</Enables></Option><Option id="17688"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 90398]</Enables><Enables>/Ticket/Custom_Field[@id = 90399]</Enables></Option><Option id="17689"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 91054]</Enables><Enables>/Ticket/Custom_Field[@id = 91055]</Enables><Enables>/Ticket/Custom_Field[@id = 91078]</Enables></Option><Option id="17690"><Value>CRT</Value><Enables>/Ticket/Custom_Field[@id = 90365]/Option[@id = 17698 or @id = 17699 or @id = 17700]</Enables></Option><Option id="17691"><Value>CST ????</Value><Enables>/Ticket/Custom_Field[@id = 90375]</Enables><Enables>/Ticket/Custom_Field[@id = 90390]</Enables></Option><Option id="20435" selected="true"><Value>Success Correspondence</Value><Enables>/Ticket/Custom_Field[@id = 90920]</Enables></Option></Custom_Field><Custom_Field id="90399" display-name="?? ????" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90398" display-name="?? ?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17992"><Value>??? ??</Value></Option><Option id="17993"><Value>???? ?? ??</Value></Option><Option id="17994"><Value>??? ??</Value></Option><Option id="17995"><Value>?? ?? ??</Value></Option><Option id="17996"><Value>??? ???</Value></Option><Option id="17997"><Value>?????? ??? ??</Value></Option><Option id="17998"><Value>?? ?? ??</Value></Option><Option id="17999"><Value>?? ?? ??</Value></Option><Option id="18457"><Value>?? ??</Value></Option></Custom_Field><Custom_Field id="90359" display-name="URL" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90358" display-name="???? ???" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17681"><Value>??? ??</Value></Option><Option id="17682"><Value>??? ??</Value><Enables>/Ticket/Custom_Field[@id = 90359]</Enables></Option></Custom_Field><Custom_Field id="90354" display-name="?? ??? ??? ???????" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17664"><Value>TOTALe</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17671 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17676 or @id = 17677]</Enables></Option><Option id="17665"><Value>?? 3</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17666"><Value>?? 2</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17667"><Value>??? ?? 3</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17668"><Value>??? ?? 2</Value><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17677]</Enables></Option><Option id="17669"><Value>? ? ??</Value><Enables>/Ticket/Custom_Field[@id = 90355]</Enables><Enables>/Ticket/Custom_Field[@id = 90356]/Option[@id = 17670 or @id = 17671 or @id = 17672 or @id = 17673 or @id = 17674 or @id = 17675 or @id = 17676 or @id = 17677]</Enables></Option><Option id="21368"><Value>ReFLEX</Value><Enables>/Ticket/Custom_Field[@id = 91015]</Enables><Enables>/Ticket/Custom_Field[@id = 91029]</Enables><Enables>/Ticket/Custom_Field[@id = 91030]</Enables><Enables>/Ticket/Custom_Field[@id = 91033]</Enables></Option></Custom_Field><Custom_Field id="91030" display-name="??/??" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="90377" display-name="?? ??" required="false" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="17816"><Value>1995</Value></Option><Option id="17817"><Value>1996</Value></Option><Option id="17818"><Value>1997</Value></Option><Option id="17819"><Value>1998</Value></Option><Option id="17820"><Value>1999</Value></Option><Option id="17821"><Value>2000</Value></Option><Option id="17822"><Value>2001</Value></Option><Option id="17823"><Value>2002</Value></Option><Option id="17824"><Value>2003</Value></Option><Option id="17825"><Value>2004</Value></Option><Option id="17826"><Value>2005</Value></Option><Option id="17827"><Value>2006</Value></Option><Option id="17828"><Value>2007</Value></Option><Option id="17829"><Value>2008</Value></Option><Option id="17830"><Value>2009</Value></Option><Option id="17831"><Value>2010</Value></Option><Option id="18598"><Value>2011</Value></Option><Option id="28266"><Value>2012</Value></Option></Custom_Field><Custom_Field id="91019" display-name="??" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91017" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21378"><Value>???</Value></Option><Option id="21379"><Value>??? ?? ??</Value></Option><Option id="21380"><Value>??? ??</Value></Option><Option id="21381"><Value>????</Value></Option><Option id="21382"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91019]</Enables></Option><Option id="21383"><Value>??</Value><Enables>/Ticket/Custom_Field[@id = 91018]</Enables></Option><Option id="21414"><Value>??</Value></Option><Option id="21415"><Value>???</Value></Option><Option id="21416"><Value>???</Value><Enables>/Ticket/Custom_Field[@id = 91026]</Enables></Option></Custom_Field><Custom_Field id="91078" display-name="????" required="false" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91020" display-name="?? ID" required="true" editable="true" dependent="true" data-type="string"></Custom_Field><Custom_Field id="91015" display-name="?? ??" required="true" editable="true" dependent="true" data-type="option" multi-value="false"><Option id="21369"><Value>??? ???? ????.</Value><Enables>/Ticket/Custom_Field[@id = 91017]</Enables><Enables>/Ticket/Custom_Field[@id = 91020]</Enables></Option><Option id="21370"><Value>???????? ????? ????.</Value></Option></Custom_Field><Ticket_Attachments /><Actions><Action id="1394" uid="14006/14037/Ticket/action/1394" name="Completion of Level 1 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1394" /><Action id="1395" uid="14006/14037/Ticket/action/1395" name="Completion of Level 1 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1395" /><Action id="1396" uid="14006/14037/Ticket/action/1396" name="Completion of Level 2 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1396" /><Action id="1397" uid="14006/14037/Ticket/action/1397" name="Completion of Level 2 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1397" /><Action id="1398" uid="14006/14037/Ticket/action/1398" name="Completion of Level 3 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1398" /><Action id="1399" uid="14006/14037/Ticket/action/1399" name="Completion of Level 3 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1399" /><Action id="1400" uid="14006/14037/Ticket/action/1400" name="Completion of Level 4 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1400" /><Action id="1401" uid="14006/14037/Ticket/action/1401" name="Completion of Level 4 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1401" /><Action id="1402" uid="14006/14037/Ticket/action/1402" name="Completion of Level 5 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1402" /><Action id="1403" uid="14006/14037/Ticket/action/1403" name="Completion of Level 1, 2, 3 - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1403" /><Action id="1404" uid="14006/14037/Ticket/action/1404" name="Completion of Level 1, 2, 3, 4, 5 - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1404" /><Action id="1405" uid="14006/14037/Ticket/action/1405" name="Ready for first studio session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1405" /><Action id="1406" uid="14006/14037/Ticket/action/1406" name="Ready for first studio session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1406" /><Action id="1407" uid="14006/14037/Ticket/action/1407" name="Not logged back after first 30 days - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1407" /><Action id="1408" uid="14006/14037/Ticket/action/1408" name="Not logged back after first 30 days - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1408" /><Action id="1409" uid="14006/14037/Ticket/action/1409" name="Not logged back in for 30 days (except first 30 days) - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1409" /><Action id="1410" uid="14006/14037/Ticket/action/1410" name="Completed first Studio Session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1410" /><Action id="1411" uid="14006/14037/Ticket/action/1411" name="Session Cancellation - Coach No-show - A Learner Attended- Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1411" /><Action id="1412" uid="14006/14037/Ticket/action/1412" name="Session Cancellation - Coach No-show - A Learner Attended- Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1412" /><Action id="1413" uid="14006/14037/Ticket/action/1413" name="Session Cancellation -prior to session-Learner signed up-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1413" /><Action id="1414" uid="14006/14037/Ticket/action/1414" name="Session Cancellation -prior to session-Learner signed up-Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1414" /><Action id="1415" uid="14006/14037/Ticket/action/1415" name="Session Cancellation -during Session-Learner attended-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1415" /><Action id="1416" uid="14006/14037/Ticket/action/1416" name="Session Cancellation -during Session-Learner attended-Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1416" /><Action id="1417" uid="14006/14037/Ticket/action/1417" name="Completion of Level 5 -- Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1417" /><Action id="1742" uid="14006/14037/Ticket/action/1742" name="Completion of Level 1  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1742" /><Action id="1743" uid="14006/14037/Ticket/action/1743" name="Completion of Level 1 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1743" /><Action id="1744" uid="14006/14037/Ticket/action/1744" name="Completion of Level 2  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1744" /><Action id="1745" uid="14006/14037/Ticket/action/1745" name="Completion of Level 2 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1745" /><Action id="1746" uid="14006/14037/Ticket/action/1746" name="Completion of Level 3  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1746" /><Action id="1747" uid="14006/14037/Ticket/action/1747" name="Completion of Level 3 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1747" /><Action id="1748" uid="14006/14037/Ticket/action/1748" name="Completion of Level 4  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1748" /><Action id="1749" uid="14006/14037/Ticket/action/1749" name="Completion of Level 4 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1749" /><Action id="1750" uid="14006/14037/Ticket/action/1750" name="Completion of Level 5  Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1750" /><Action id="1751" uid="14006/14037/Ticket/action/1751" name="Completion of Level 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1751" /><Action id="1752" uid="14006/14037/Ticket/action/1752" name="Completion of Levels 1, 2, and 3 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1752" /><Action id="1753" uid="14006/14037/Ticket/action/1753" name="Completion of Levels 1, 2, and 3 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1753" /><Action id="1754" uid="14006/14037/Ticket/action/1754" name="Completion of Levels 1, 2, and 3 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1754" /><Action id="1755" uid="14006/14037/Ticket/action/1755" name="Completion of Levels 1, 2, 3, 4, and 5 - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1755" /><Action id="1756" uid="14006/14037/Ticket/action/1756" name="Completion of Levels 1, 2, 3, 4, and 5 - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1756" /><Action id="1757" uid="14006/14037/Ticket/action/1757" name="Completion of Levels 1, 2, 3, 4, and 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1757" /><Action id="1758" uid="14006/14037/Ticket/action/1758" name="Ready for first Studio Session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1758" /><Action id="1759" uid="14006/14037/Ticket/action/1759" name="Ready for first Studio Session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1759" /><Action id="1760" uid="14006/14037/Ticket/action/1760" name="Not logged back in after first 30 days - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1760" /><Action id="1761" uid="14006/14037/Ticket/action/1761" name="Not logged back in after first 30 days - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1761" /><Action id="1762" uid="14006/14037/Ticket/action/1762" name="Not logged back in for 30 days (except first 30 days) - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1762" /><Action id="1763" uid="14006/14037/Ticket/action/1763" name="Not logged back in for 30 days (except first 30 days) - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1763" /><Action id="1764" uid="14006/14037/Ticket/action/1764" name="Not logged back in for 30 days (except first 30 days) - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1764" /><Action id="1765" uid="14006/14037/Ticket/action/1765" name="Completed first Studio Session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1765" /><Action id="1766" uid="14006/14037/Ticket/action/1766" name="Completed first Studio Session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1766" /><Action id="1767" uid="14006/14037/Ticket/action/1767" name="Completed first Studio Session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1767" /><Action id="1768" uid="14006/14037/Ticket/action/1768" name="Session Reminder - 1 day/24 hours before session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1768" /><Action id="1769" uid="14006/14037/Ticket/action/1769" name="Session Reminder - 1 day/24 hours before session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1769" /><Action id="1770" uid="14006/14037/Ticket/action/1770" name="Session Reminder - 1 day/24 hours before session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1770" /><Action id="1771" uid="14006/14037/Ticket/action/1771" name="Session Reminder - 1 day/24 hours before session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1771" /><Action id="1773" uid="14006/14037/Ticket/action/1773" name="Session Cancellation - Coach No-show - A Learner Attended - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1773" /><Action id="1774" uid="14006/14037/Ticket/action/1774" name="Session Cancellation - Coach Cancels - no learners show - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1774" /><Action id="1775" uid="14006/14037/Ticket/action/1775" name="Session Cancellation - Coach Cancels - no learners show - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1775" /><Action id="1777" uid="14006/14037/Ticket/action/1777" name="Session Cancellation - Coach Cancels - no learners show -  SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1777" /><Action id="1780" uid="14006/14037/Ticket/action/1780" name="Session Cancellation -prior to session-Learner signed up-Phone " href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1780" /><Action id="1782" uid="14006/14037/Ticket/action/1782" name="Session Cancellation -prior to session-Learner signed up-Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1782" /><Action id="1783" uid="14006/14037/Ticket/action/1783" name="Session Cancellation -prior to session-Learner signed up-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1783" /><Action id="1784" uid="14006/14037/Ticket/action/1784" name="Session Cancellation -prior to session-Learner signed up-SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1784" /><Action id="1785" uid="14006/14037/Ticket/action/1785" name="Session Cancellation -during Session-Learner attended-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1785" /><Action id="1786" uid="14006/14037/Ticket/action/1786" name="Session Cancellation -during Session-Learner attended-SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1786" /><Action id="1787" uid="14006/14037/Ticket/action/1787" name="Learner No Show-1 plus learner not attending not cancelledPhone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1787" /><Action id="1788" uid="14006/14037/Ticket/action/1788" name="Learner No Show-1 plus learner not attending not cancelledEmail" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1788" /><Action id="1790" uid="14006/14037/Ticket/action/1790" name="Learner No Show-1 plus learner not attending not cancelledSMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1790" /><Action id="1791" uid="14006/14037/Ticket/action/1791" name="Start their subscription / Claim Online Rights - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1791" /><Action id="1792" uid="14006/14037/Ticket/action/1792" name="Start their subscription / Claim Online Rights - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1792" /><Action id="1793" uid="14006/14037/Ticket/action/1793" name="Start their subscription / Claim Online Rights - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1793" /><Action id="1794" uid="14006/14037/Ticket/action/1794" name="Start their subscription / Claim Online Rights - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1794" /><Action id="1795" uid="14006/14037/Ticket/action/1795" name="Completed their first 3 Core Lessons - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1795" /><Action id="1796" uid="14006/14037/Ticket/action/1796" name="Completed their first 3 Core Lessons - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1796" /><Action id="1797" uid="14006/14037/Ticket/action/1797" name="Completed their first 3 Core Lessons - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1797" /><Action id="1798" uid="14006/14037/Ticket/action/1798" name="Completed their first 3 Core Lessons - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1798" /><Action id="1799" uid="14006/14037/Ticket/action/1799" name="Pre-renewal outreach - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1799" /><Action id="1800" uid="14006/14037/Ticket/action/1800" name="Pre-renewal outreach - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1800" /><Action id="1801" uid="14006/14037/Ticket/action/1801" name="Pre-renewal outreach - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1801" /><Action id="1802" uid="14006/14037/Ticket/action/1802" name="Pre-renewal outreach - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1802" /><Action id="1803" uid="14006/14037/Ticket/action/1803" name="Discovery outreach - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1803" /><Action id="1804" uid="14006/14037/Ticket/action/1804" name="Discovery outreach - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1804" /><Action id="1806" uid="14006/14037/Ticket/action/1806" name="Discovery outreach - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1806" /><Action id="1807" uid="14006/14037/Ticket/action/1807" name="Discovery outreach - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1807" /><Action id="1808" uid="14006/14037/Ticket/action/1808" name="Poor experience follow-up - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1808" /><Action id="1809" uid="14006/14037/Ticket/action/1809" name="Poor experience follow-up - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1809" /><Action id="1810" uid="14006/14037/Ticket/action/1810" name="Poor experience follow-up - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1810" /><Action id="1811" uid="14006/14037/Ticket/action/1811" name="Poor experience follow-up - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1811" /><Action id="1812" uid="14006/14037/Ticket/action/1812" name="Did not enjoy session - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1812" /><Action id="1813" uid="14006/14037/Ticket/action/1813" name="Did not enjoy session - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1813" /><Action id="1814" uid="14006/14037/Ticket/action/1814" name="Did not enjoy session - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1814" /><Action id="1815" uid="14006/14037/Ticket/action/1815" name="Did not enjoy session - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1815" /><Action id="1816" uid="14006/14037/Ticket/action/1816" name="Studio reminder 6 hours - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1816" /><Action id="1817" uid="14006/14037/Ticket/action/1817" name="Studio reminder 6 hours - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1817" /><Action id="1818" uid="14006/14037/Ticket/action/1818" name="Studio reminder 6 hours - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1818" /><Action id="1819" uid="14006/14037/Ticket/action/1819" name="Studio reminder 6 hours - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1819" /><Action id="1820" uid="14006/14037/Ticket/action/1820" name="Log back in encouragement - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1820" /><Action id="1821" uid="14006/14037/Ticket/action/1821" name="Log back in encouragement - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1821" /><Action id="1822" uid="14006/14037/Ticket/action/1822" name="Log back in encouragement - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1822" /><Action id="1823" uid="14006/14037/Ticket/action/1823" name="Log back in encouragement - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1823" /><Action id="1824" uid="14006/14037/Ticket/action/1824" name="Completion of Levels 1, 2, 3, 4, and 5 - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1824" /><Action id="1826" uid="14006/14037/Ticket/action/1826" name="Session Cancellation - Coach No-show - A Learner Attended-Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1826" /><Action id="1827" uid="14006/14037/Ticket/action/1827" name="Session Cancellation - Coach Cancels - no learners show - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1827" /><Action id="1828" uid="14006/14037/Ticket/action/1828" name="Learner NoShow-1 plus learner not attending not cancelledPostal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/1828" /><Action id="2136" uid="14006/14037/Ticket/action/2136" name="Subscription Renewal Trigger - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2136" /><Action id="2137" uid="14006/14037/Ticket/action/2137" name="Subscription Renewal Trigger - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2137" /><Action id="2138" uid="14006/14037/Ticket/action/2138" name="Subscription Renewal Trigger - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2138" /><Action id="2139" uid="14006/14037/Ticket/action/2139" name="Subscription Renewal Trigger - Inst" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2139" /><Action id="2140" uid="14006/14037/Ticket/action/2140" name="Subscription Renewal Trigger - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/2140" /><Action id="3070" uid="14006/14037/Ticket/action/3070" name="Initial profile setup - Email" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3070" /><Action id="3071" uid="14006/14037/Ticket/action/3071" name="Initial profile setup - Phone" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3071" /><Action id="3072" uid="14006/14037/Ticket/action/3072" name="Initial profile setup - Postal" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3072" /><Action id="3073" uid="14006/14037/Ticket/action/3073" name="Initial profile setup - SMS" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/action/3073" /></Actions></Ticket>
2012-03-29 16:22:48,340      193506 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:229) - <Ticket>
  <Ticket_Customer>
    <Customer id="547484"/>
  </Ticket_Customer>
  <Custom_Field id="90363">
    <Option id="20435" selected="true"/>
  </Custom_Field>
  <Email_Notification>false</Email_Notification>
  <Hide_From_Customer>true</Hide_From_Customer>
  <Custom_Field id="90920">
    <Option id="20440" selected="true"/>
  </Custom_Field>
  <Custom_Field id="90361">English (American) Super Ticket</Custom_Field>
  <Custom_Field id="90365">
    <Option id="20436" selected="true"/>
  </Custom_Field>
</Ticket>
2012-03-29 16:22:48,340      193506 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:48,341      193507 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_enforceRequiredFields_=false&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:52,442      197608 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:55,189      200355 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620" />
2012-03-29 16:22:55,558      200724 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:229) - <Ticket>
  <Action>
    <Action id="1394">
      <Comment>This trigger was generated on 06/29/11 07:49 PM EST.
</Comment>
      <ShowToCust>false</ShowToCust>
      <ShowToAdditionalContact>true</ShowToAdditionalContact>
    </Action>
  </Action>
</Ticket>
2012-03-29 16:22:55,559      200725 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:22:55,559      200725 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - PUT&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620?_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:22:56,900      202066 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508620" uid="14006/14037/Ticket/2508620" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508620" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508620" />
2012-03-29 16:22:57,201      202367 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:22:58,433      203599 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:22:59,998      205164 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 16:22:59,998      205164 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 16:23:00,300      205466 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 16:23:00,604      205770 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 16:23:00,928      206094 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 16:23:01,254      206420 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 16:23:04,347      209513 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:04,435      209601 [taskParatureExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:23:04,435      209601 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.ticketParatureApi
2012-03-29 16:23:04,435      209601 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.ticketParatureApi
2012-03-29 16:23:04,435      209601 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:23:04,435      209601 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: paratureHttpClient
2012-03-29 16:23:04,435      209601 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: paratureHttpClient
2012-03-29 16:23:04,436      209602 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: ParatureHttpDelegator
2012-03-29 16:23:04,436      209602 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: ParatureHttpDelegator
2012-03-29 16:23:04,436      209602 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:23:04,436      209602 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: ParatureHttpDelegator
2012-03-29 16:23:04,436      209602 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.ticketParatureApi
2012-03-29 16:23:04,437      209603 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:87) - Create new parature ticket
2012-03-29 16:23:04,785      209951 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:355) - I ran 11111111
2012-03-29 16:23:05,487      210653 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:229) - <Ticket>
  <Ticket_Customer>
    <Customer id="547484"/>
  </Ticket_Customer>
  <Custom_Field id="90363">
    <Option id="17691" selected="true"/>
  </Custom_Field>
  <Email_Notification>true</Email_Notification>
  <Hide_From_Customer>false</Hide_From_Customer>
  <Custom_Field id="90375">
    <Option id="17782" selected="true"/>
  </Custom_Field>
  <Custom_Field id="90389">English (American) L1
06/29/11 07:49 PM</Custom_Field>
  <Custom_Field id="90361">Congrats on completing level 1 in totale.</Custom_Field>
  <Custom_Field id="90365">
    <Option id="17692" selected="true"/>
  </Custom_Field>
</Ticket>
2012-03-29 16:23:05,488      210654 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:109) - I ran aaaaa
2012-03-29 16:23:05,488      210654 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:111) - POST&&&&&&& https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/?_enforceRequiredFields_=false&_token_=qiRCw9GbKa6/Xk@nayl1QavHa3KF3cYmqRzSR@jwuVBtwZRGrgZ@oB48zmJPDEqbEgq7UCx5vDb817v5@qyddA==
2012-03-29 16:23:10,469      215635 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:14,078      219244 [taskParatureExecutorThread] DEBUG (ParatureHttpClient.java:113) - Response: +++++++++++++)))))))))<?xml version="1.0" encoding="utf-8"?><Ticket id="2508944" uid="14006/14037/Ticket/2508944" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508944" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508944" />
2012-03-29 16:23:14,078      219244 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:72) - I ran 2222222
2012-03-29 16:23:14,078      219244 [taskParatureExecutorThread] DEBUG (ParatureHttpDelegator.java:80) - I ran 33333
2012-03-29 16:23:14,080      219246 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:170) - ====>>>>>2508944<<<+++<?xml version="1.0" encoding="utf-8"?><Ticket id="2508944" uid="14006/14037/Ticket/2508944" href="https://d6-sandbox.parature.com/api/v1/14006/14037/Ticket/2508944" service-desk-uri="https://d6-sandbox.parature.com/ics/tt/ticketDetail.asp?ticketNum=2508944" />
2012-03-29 16:23:14,080      219246 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: scopedTarget.csrParatureApi
2012-03-29 16:23:14,081      219247 [taskParatureExecutorThread] DEBUG (EventScope.java:37) - Creating bean: scopedTarget.csrParatureApi
2012-03-29 16:23:14,083      219249 [taskParatureExecutorThread] DEBUG (EventScope.java:29) - Requested bean: paratureHttpClient
2012-03-29 16:23:14,084      219250 [taskParatureExecutorThread] DEBUG (EventScope.java:57) - registerDestructionCallback name: scopedTarget.csrParatureApi
2012-03-29 16:23:14,091      219257 [taskParatureExecutorThread] DEBUG (TicketParatureApi.java:184) - Can not assign ticket to null CSR.
2012-03-29 16:23:14,420      219586 [taskParatureExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f3faefc4-2b10-4c1c-b35c-e3293fad6111
2012-03-29 16:23:16,450      221616 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:22,350      227516 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:28,263      233429 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:34,252      239418 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:40,152      245318 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:46,123      251289 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:52,037      257203 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:58,022      263188 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:23:59,996      265162 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-03-29 16:23:59,996      265162 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Wed Feb 29 16:23:59 IST 2012
2012-03-29 16:24:01,525      266691 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-03-29 16:24:01,526      266692 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-03-29 16:24:01,526      266692 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-03-29 16:24:01,828      266994 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-03-29 16:24:02,133      267299 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-03-29 16:24:02,435      267601 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-03-29 16:24:02,737      267903 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-03-29 16:24:03,926      269092 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:24:09,850      275016 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:24:15,750      280916 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:24:21,655      286821 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-03-29 16:24:27,560      292726 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:28:06,638           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-28 13:28:11,696        5058 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-28 13:28:11,893        5255 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-28 13:28:11,976        5338 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-28 13:28:11,977        5339 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-28 13:28:11,986        5348 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-28 13:28:11,990        5352 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-28 13:28:12,005        5367 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-28 13:28:12,005        5367 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-28 13:28:38,779       32141 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-28 13:28:39,529       32891 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:28:39,547       32909 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:28:39,547       32909 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:28:39,549       32911 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:28:39,549       32911 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:28:39,550       32912 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:28:39,573       32935 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:28:39,575       32937 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:28:39,611       32973 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:28:39,613       32975 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:28:39,865       33227 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-28 13:28:39,865       33227 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-28 13:28:39,870       33232 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-28 13:28:39,870       33232 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-28 13:28:44,547       37909 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:28:49,551       42913 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:28:54,554       47916 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:28:59,559       52921 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:29:00,002       53364 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-28 13:29:00,002       53364 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-28 13:29:00,013       53375 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-28 13:29:00,014       53376 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-28 13:29:00,015       53377 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-28 13:29:00,016       53378 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-28 13:29:04,566       57928 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:29:09,569       62931 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:29:14,571       67933 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:29:19,574       72936 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:29:24,576       77938 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:29:29,579       82941 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:31:45,024           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-28 13:31:54,143        9119 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-28 13:31:54,346        9322 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-28 13:31:54,477        9453 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-28 13:31:54,478        9454 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-28 13:31:54,481        9457 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-28 13:31:54,484        9460 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-28 13:31:54,485        9461 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-28 13:31:54,485        9461 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-28 13:32:19,993       34969 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-28 13:32:20,412       35388 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:32:20,430       35406 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:32:20,434       35410 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:32:20,435       35411 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:32:20,439       35415 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:32:20,440       35416 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:32:20,441       35417 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:32:20,440       35416 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:32:20,444       35420 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:32:20,446       35422 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:32:20,603       35579 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-28 13:32:20,603       35579 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-28 13:32:20,605       35581 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-28 13:32:20,605       35581 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-28 13:32:25,389       40365 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:32:30,393       45369 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:32:35,396       50372 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:32:40,399       55375 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:32:45,401       60377 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:34:54,604           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-28 13:34:57,210        2606 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-28 13:34:57,327        2723 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-28 13:34:57,358        2754 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-28 13:34:57,359        2755 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-28 13:34:57,362        2758 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-28 13:34:57,365        2761 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-28 13:34:57,365        2761 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-28 13:34:57,366        2762 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-28 13:35:20,764       26160 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-28 13:35:21,165       26561 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:35:21,182       26578 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:35:21,184       26580 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:35:21,184       26580 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:35:21,185       26581 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:35:21,187       26583 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:35:21,188       26584 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:35:21,198       26594 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:35:21,238       26634 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 13:35:21,247       26643 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 13:35:21,362       26758 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-28 13:35:21,362       26758 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-28 13:35:21,364       26760 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-28 13:35:21,364       26760 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-28 13:35:26,131       31527 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:35:31,134       36530 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:35:36,151       41547 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:35:36,423       41819 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:35:41,292       46688 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "RUS",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "uncancelled_session_no_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1346172600,
    "teacher_first_seen_at": 1346052662,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-28 13:35:41,426       46822 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:35:41,443       46839 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 13:35:41,491       46887 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 13:35:46,294       51690 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 13:35:46,294       51690 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:50) - Received: com.rosettastone.succor.model.bandit.Event@f34a08

2012-08-28 13:35:46,294       51690 [taskRuleExecutorThread] INFO  (RulesInvoker.java:95) - Update drools rules.
2012-08-28 13:35:46,431       51827 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 13:35:49,142       54538 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:98) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Discovery Call1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is DiscoveryCallMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en") && (message.days == "3"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 704l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Discovery Call EN"
	dialect "mvel"
	when
		$event : Event( eval(message is DiscoveryCallMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en") && (message.days == "2"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 703l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 6 hours before session - TOTALe - L1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "6") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 702l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "expiring EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ExpiringSubscriptionMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en") && (message.days == "5"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 701l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Studio reminder 6 hour before session EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "6") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 700l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "abc KO"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 699l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendSMS($event);

end

rule "testing 123 KO"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 698l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "test rule DE"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "de"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 697l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Ready for first studio session - L1 - Phone Email DE"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "de"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 696l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 1 Rule KO"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 695l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendSMS($event);

end

rule "completion of level 4 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 694l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "tewrwred EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 693l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "rere EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 692l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "testqwwew EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 691l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Session Cancellation - Cancelled during Session - INST - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 690l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - TOT - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 689l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S5 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 688l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S3 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 687l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S2 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 686l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L5 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 685l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L4 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 684l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L3 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 683l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L2 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 682l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L1 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 681l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - INST - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 680l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - TOT - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 679l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S5 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 678l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S3 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 677l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S2 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 676l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L5 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 675l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L4 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 674l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L3 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 673l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L2 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 672l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L1 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 671l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - INST - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 670l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - TOT - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 669l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S5 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 668l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S3 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 667l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S2 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 666l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L5 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 665l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L4 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 664l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L3 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 663l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L2 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 662l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L1 - Email Phone ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "zh") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 661l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - INST - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 660l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - TOT - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 659l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S5 - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 658l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S3 - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 657l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S2 - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 656l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L5 - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 655l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L4 - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 654l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L3 - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 653l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L2 - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 652l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L1 - Email ZH"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "zh"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 651l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - INST - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 650l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - TOT - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 649l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S5 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 648l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S3 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 647l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S2 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 646l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L5 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 645l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L4 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 644l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L3 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 643l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L2 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 642l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L1 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 641l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - INST - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 640l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - TOT - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 639l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S5 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 638l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S3 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 637l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S2 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 636l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L5 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 635l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L4 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 634l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L3 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 633l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L2 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 632l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L1 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 631l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - INST - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 630l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - TOT - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 629l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S5 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 628l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S3 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 627l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S2 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 626l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L5 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 625l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L4 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 624l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L3 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 623l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L2 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 622l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L1 - Email Phone RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ru") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 621l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - INST - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 620l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - TOT - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 619l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S5 - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 618l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S3 - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 617l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S2 - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 616l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L5 - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 615l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L4 - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 614l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L3 - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 613l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L2 - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 612l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L1 - Email RU"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ru"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 611l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - INST - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 610l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - TOT - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 609l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S5 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 608l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S3 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 607l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S2 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 606l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L5 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 605l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L4 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 604l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L3 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 603l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L2 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 602l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L1 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 601l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - INST - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 600l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - TOT - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 599l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S5 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 598l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S3 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 597l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S2 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 596l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L5 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 595l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L4 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 594l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L3 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 593l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L2 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 592l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L1 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 591l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - INST - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 590l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - TOT - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 589l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S5 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 588l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S3 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 587l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S2 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 586l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L5 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 585l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L4 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 584l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L3 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 583l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L2 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 582l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L1 - Email Phone PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "pt") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 581l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - INST - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 580l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - TOT - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 579l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - S5 - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 578l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - S3 - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 577l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - S2 - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 576l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - L5 - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 575l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - L4 - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 574l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - L3 - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 573l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - L2 - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 572l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Reminder - 1 day/24 hours before session - L1 - Email PT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "pt"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 571l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - INST - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 570l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - TOT - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 569l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S5 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 568l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S3 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 567l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S2 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 566l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L5 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 565l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L4 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 564l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L3 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 563l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L2 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 562l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L1 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 561l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - INST - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 560l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - TOT - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 559l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S5 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 558l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S3 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 557l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S2 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 556l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L5 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 555l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L4 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 554l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L3 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 553l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L2 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 552l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L1 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 551l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - INST - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 550l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - TOT - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 549l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S5 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 548l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S3 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 547l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S2 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 546l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L5 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 545l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L4 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 544l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L3 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 543l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L2 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 542l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L1 - Email Phone KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ko") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 541l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - INST - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 540l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - TOT - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 539l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S5 - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 538l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S3 - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 537l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S2 - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 536l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L5 - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 535l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L4 - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 534l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L3 - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 533l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L2 - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 532l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L1 - Email KO"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ko"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 531l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - INST - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 530l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - TOT - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 529l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S5 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 528l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S3 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 527l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S2 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 526l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L5 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 525l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L4 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 524l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L3 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 523l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L2 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 522l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L1 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 521l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - INST - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 520l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - TOT - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 519l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S5 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 518l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S3 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 517l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S2 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 516l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L5 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 515l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L4 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 514l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L3 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 513l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L2 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 512l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L1 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 511l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - INST - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 510l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - TOT - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 509l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S5 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 508l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S3 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 507l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S2 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 506l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L5 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 505l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L4 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 504l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L3 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 503l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L2 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 502l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L1 - Email Phone IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "it") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 501l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - INST - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 500l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - TOT - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 499l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S5 - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 498l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S3 - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 497l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S2 - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 496l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L5 - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 495l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L4 - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 494l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L3 - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 493l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L2 - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 492l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L1 - Email IT"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "it"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 491l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - INST - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 490l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - TOT - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 489l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S5 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 488l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S3 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 487l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S2 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 486l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L5 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 485l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L4 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 484l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L3 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 483l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L2 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 482l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L1 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 481l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - INST - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 480l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - TOT - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 479l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S5 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 478l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S3 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 477l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S2 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 476l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L5 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 475l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L4 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 474l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L3 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 473l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L2 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 472l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L1 - Email Phone FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 471l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - INST - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 470l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - TOT - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 469l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S5 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 468l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S3 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 467l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S2 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 466l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L5 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 465l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L4 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 464l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L3 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 463l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L2 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 462l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L1 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "fr") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 461l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - INST - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 460l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - TOT - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 459l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S5 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 458l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S3 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 457l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - S2 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 456l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L5 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 455l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L4 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 454l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L3 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 453l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L2 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 452l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L1 - Email FR"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "fr"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 451l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule " Session Cancellation - Cancelled during Session - INST - Email Phone DE"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "de") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 450l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 1 day/24 hours before session - L1 - Email  DE"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "de"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 411l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - TOT - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 410l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 409l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S3 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 408l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S2 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 407l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 406l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L4 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 405l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L3 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 404l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L2 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 403l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L1 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 402l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - TOT - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 401l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - S5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 400l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - S3 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 399l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - S2 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 398l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 397l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L4 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 396l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L3 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 395l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L2 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 394l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L1 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 393l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - TOT - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 392l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S5 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 391l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S3 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 390l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S2 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 389l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L5 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 388l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L4 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 387l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L3 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 386l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L2 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 385l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L1 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 384l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - TOT - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 383l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S5 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 382l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S3 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 381l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - S2 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 380l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L5 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 379l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L4 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 378l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L3 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 377l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L2 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 376l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - L1 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 375l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - TOT - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 374l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S5 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 373l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S3 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 372l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - S2 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 371l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L5 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 370l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L4 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 369l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L3 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 368l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L2 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 367l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - L1 - Phone Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 366l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - TOT - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 365l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 364l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S3 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 363l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S2 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 362l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 361l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L4 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 360l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L3 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 359l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L2 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 358l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L1 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 357l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  TOT  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 356l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  S5  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 355l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  S3  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 354l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  S2  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 353l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  L5  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 352l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  L4  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 351l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  L3  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 350l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  L2  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 349l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session  L1  Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 348l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after 30 days except first  TOT  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 347l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first  S5  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 346l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first  S3  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 345l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first  S2  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 344l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first  L5  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 343l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first  L4  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 342l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first  L3  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 341l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first  L2  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 340l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first  L1  Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 339l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after first 30 days  TOT  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 338l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days  S5  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 337l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days  S3  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 336l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days  S2  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 335l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days  L5  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 334l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days  L4  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 333l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days  L3  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 332l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days  L2  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 331l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days  L1  Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 330l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - TOT - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 329l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S5 - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 328l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S3 - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 327l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S2 - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 326l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L5 - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 325l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L4 - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 324l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L3 - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 323l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L2 - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 322l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L1 - Phone and Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 321l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Levels 1,2,3,4,5 - TOT - Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 320l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3,4,5 - S5 - Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 319l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3,4,5 - L5 - Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 318l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - TOT - Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 317l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - S5 - Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 316l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - S3 - Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 315l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - L3 - Postal JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 314l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Level 5 - TOT - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 313l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 5 - S5 - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 312l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 5 - L5 - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 311l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 4 - TOT - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 310l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 4 - S5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 309l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 4 - L5 - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 308l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 3 - TOT - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 307l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 3 - S5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 306l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 3 - S3 - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 305l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 3 - L3 - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 304l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 2 - TOT - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 301l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 300l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S3 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 299l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S2 - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 298l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 2 - L2 - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 297l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 1 - TOT - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 296l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - S5 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 295l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - S3 - Email JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 294l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - L1 - Phone JA"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "ja"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 293l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completed their first 3 Core Lessons - Inst ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 285l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completed their first 3 Core Lessons - TOT - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 284l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 283l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 282l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 281l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 280l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L4 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 279l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 278l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 277l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L1 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 276l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - INST - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 275l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Start their subscription Claim Online Rights - TOT - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 274l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - S5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 273l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - S3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 272l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - S2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 271l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 270l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L4 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 269l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 268l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 267l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Start their subscription Claim Online Rights - L1 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 266l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Learner No Show - Inst ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 265l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Session Cancellation - Cancelled during Session - Learner attended - INST - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 264l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - TOT - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 263l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - S5 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 262l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - S3 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 261l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - S2 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 260l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - L5 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 259l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - L4 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 258l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - L3 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 257l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - L2 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 256l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - Learner attended - L1 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 255l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - INST - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 254l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - TOT - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 253l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - S5 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 252l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - S3 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 251l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - S2 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 250l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - L5 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 249l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - L4 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 248l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - L3 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 247l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - L2 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 246l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session - Learner was signed up - L1 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 245l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach Cancels - no learners show - Inst ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 244l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Session Cancellation - Coach No-show - A Learner Attended - INST - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 243l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 242l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - S5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 241l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - S3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 240l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - S2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 239l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 238l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L4 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 237l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 236l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 235l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L1 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 234l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - INST - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 233l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - TOT - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 232l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 231l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 230l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 229l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 228l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L4 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 227l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 226l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 225l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L1 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 224l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - Inst ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 223l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completed first Studio Session - TOT - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 222l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - S5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 221l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - S3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 220l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - S2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 219l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 218l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L4 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 217l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 216l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L2 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 215l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L1 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 214l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after 30 days except first - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 213l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Not logged back in after 30 days except first - TOT - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 212l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - S5 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 211l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - S3 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 210l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - S2 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 209l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L5 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 208l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L4 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 207l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L3 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 206l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L2 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 205l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L1 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 204l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after first 30 days - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 203l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Not logged back in after first 30 days - TOT - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 202l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - S5 - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 201l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - S3 - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 200l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - S2 - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 199l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L5 - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 198l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L4 - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 197l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L3 - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 196l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L2 - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 195l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L1 - Phone and Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 194l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 193l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Ready for first studio session - TOT - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 192l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S5 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 191l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S3 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 190l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S2 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 189l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L5 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 188l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L4 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 187l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L3 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 186l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L2 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 185l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L1 - Phone Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 184l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - INST EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 183l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Ready for first studio session - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 182l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S5 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 181l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S3 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 180l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - S2 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 179l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L5 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 178l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L4 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 177l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L3 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 176l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L2 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 175l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Ready for first studio session - L1 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReadinessMessage) &&  (message.attendedStudioSession == "false") &&  (message.firstMessageToThisUser == "true") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 174l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Levels 1,2,3,4,5 - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 173l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Levels 1,2,3,4,5 - TOT - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 172l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3,4,5 - S5 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 171l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3,4,5 - L5 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 170l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 169l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Levels 1,2,3 - TOT - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 168l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - S5 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 167l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - S3 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 166l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - L3 - Postal ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 165l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Level 5 - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 164l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 5 - TOT - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 163l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 5 - S5 - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 162l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 5 - L5 - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 161l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 4 - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 159l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 4 - TOT - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 158l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 4 - S5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 157l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 4 - L5 - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 156l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 3 - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 155l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 3 - TOT - Email  ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 154l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 3 - S5 - Email  ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 153l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 3 - S3 - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 152l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 3 - L3 - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 151l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 2 - INST  ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 150l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 2 - TOT - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 149l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 148l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 147l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S2 - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 146l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 2 - L2 - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 145l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 1 - INST ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 144l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 1 - TOT - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 141l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - S5 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 140l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - S3 - Email ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 139l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - L1 - Phone ES"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "es"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 138l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completed their first 3 Core Lessons - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 136l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completed their first 3 Core Lessons - TOT - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 135l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 134l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 133l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 132l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - S2 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 131l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 130l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L4 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 129l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 128l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L2 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 127l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed their first 3 Core Lessons - L1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is RWorldEncouragementMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 126l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Claim Online Rights - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 125l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Claim Online Rights - TOT - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 124l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 123l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 122l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - S3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 121l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - S2 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 120l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - L5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 119l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - L4 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 118l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - L3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 117l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - L2 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 116l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Claim Online Rights - L1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ClaimedExtensionsMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 115l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Learner No Show - At least one learner does not attend and session is not cancelled - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 114l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Session Cancellation - Cancelled during Session - Inst - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 113l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - U1 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 112l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 111l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S5 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 110l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S3 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 109l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - S2 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 108l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L5 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 107l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L4 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 106l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L3 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 105l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L2 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 104l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled during Session - L1 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 103l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - Inst - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 102l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - U1 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 100l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 99l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - S5 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 98l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - S3 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 97l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - S2 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 96l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - L5 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 95l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - L4 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 94l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - L3 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 93l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - L2 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 92l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Cancelled prior to session  - L1 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_before_session) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 91l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach Cancels - no learners show - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.cancelled_session_no_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 90l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Session Cancellation - Coach No-show - A Learner Attended - Inst - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 89l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - U1 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 88l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - S5 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 86l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - S3 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 84l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - S2 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 83l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L5 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 82l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L4 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 81l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L3 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 80l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L2 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 79l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - L1 - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 78l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - Inst - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 77l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - TOT - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 75l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 73l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S2 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 72l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 71l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L4 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 70l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 69l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L2 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 68l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - L1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) &&  (message.hours == "24") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 67l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 66l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completed first Studio Session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 65l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - TOT - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 64l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 63l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - S3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 62l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - S2 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 61l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 60l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L4 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 59l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 58l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L2 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 57l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completed first Studio Session - L1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is FirstCompletedStudioSessionMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 56l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after 30 days except first - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 55l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Not logged back in after 30 days except first - L5 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 54l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L4 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 53l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L3 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 52l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L2 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 51l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after 30 days except first - L1 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.days == "30") &&  (message.firstMessageToThisUser == "false") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 50l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Not logged back in after first 30 days - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 49l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Not logged back in after first 30 days - U1 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 48l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - TOT - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 47l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - S5 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 46l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - S3 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 45l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - S2 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 44l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L5 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 43l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L4 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L4") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 42l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L3 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 41l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L2 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 40l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Not logged back in after first 30 days - L1 - Phone and Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is CommunityAbsenceMessage) &&  (message.firstMessageToThisUser == "true") &&  (message.days == "30") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 39l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Levels 1,2,3,4,5 - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 38l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Levels 1,2,3 - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 37l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Levels 1,2,3,4,5 - TOT - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 36l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3,4,5 - S5 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 35l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3,4,5 - L5 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-5") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 34l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - TOT - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 33l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - S5 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 32l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - S3 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 31l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Levels 1,2,3 - L3 - Postal EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelsCompletedMessage) &&  (message.levels == "1-3") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 30l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendPostalMail($event);

end

rule "Completion of Level 5 - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 29l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 5 - TOT - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 28l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 5 - S5 - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 27l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 5 - L5 - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "5") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 26l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 4 - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 25l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 4 - TOT - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 24l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 4 - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 23l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 4 - L5 - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "4") && (customer.productNames contains "L5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 22l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 3 - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 21l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 2 - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 20l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 1 - Inst EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.institutional == "true") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 19l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 3 - TOT - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 18l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 3 - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 17l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 3 - S3 - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 16l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 3 - L3 - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "3") && (customer.productNames contains "L3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 15l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 2 - TOT - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 14l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 13l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 12l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 2 - S2 - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "S2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 11l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 2 - L2 - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "2") && (customer.productNames contains "L2") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 10l;
		$event.internalSuccorData.ignoreDoNotContact = true;

end

rule "Completion of Level 1 - TOT - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 9l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 8l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - S3 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 7l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Completion of Level 1 - L1 - Phone EN"
	dialect "mvel"
	when
		$event : Event( eval(message is LevelCompletionMessage) &&  (message.level == "1") && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 6l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-08-28 13:35:51,446       56842 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:40:22,895           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-28 14:40:26,501        3606 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-28 14:40:26,650        3755 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-28 14:40:26,712        3817 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-28 14:40:26,712        3817 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-28 14:40:26,716        3821 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-28 14:40:26,718        3823 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-28 14:40:26,731        3836 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-28 14:40:26,731        3836 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-28 14:40:52,632       29737 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-28 14:40:53,157       30262 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:40:53,173       30278 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:40:53,176       30281 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:40:53,177       30282 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:40:53,178       30283 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:40:53,179       30284 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:40:53,201       30306 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:40:53,202       30307 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:40:53,203       30308 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:40:53,204       30309 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:40:53,356       30461 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-28 14:40:53,356       30461 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-28 14:40:53,360       30465 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-28 14:40:53,361       30466 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-28 14:40:58,146       35251 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:00,011       37116 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-28 14:41:00,011       37116 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-28 14:41:00,023       37128 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-28 14:41:00,024       37129 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-28 14:41:00,025       37130 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-28 14:41:00,026       37131 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-28 14:41:03,149       40254 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:08,153       45258 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:13,156       50261 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:18,158       55263 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:23,161       60266 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:28,163       65268 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:33,166       70271 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:38,168       75273 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:38,464       75569 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:43,335       80440 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "RUS",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "uncancelled_session_no_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1346172600,
    "teacher_first_seen_at": 1346052662,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-28 14:41:43,467       80572 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:43,517       80622 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:41:43,548       80653 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:41:48,369       85474 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:41:48,369       85474 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:50) - Received: com.rosettastone.succor.model.bandit.Event@7cdc58

2012-08-28 14:41:48,369       85474 [taskRuleExecutorThread] INFO  (RulesInvoker.java:95) - Update drools rules.
2012-08-28 14:41:48,476       85581 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:51,378       88483 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:98) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end



2012-08-28 14:41:51,673       88778 [taskRuleExecutorThread] DEBUG (StudioSessionCancellationMessage.java:91) - IIIIII GGGOOOTTT CALLLEEEDDD
2012-08-28 14:41:51,673       88778 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - No rule invoked for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:41:51,675       88780 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:41:53,480       90585 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:41:58,482       95587 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:00,004       97109 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-28 14:42:00,004       97109 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-28 14:42:00,005       97110 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-28 14:42:00,006       97111 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-28 14:42:00,006       97111 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-28 14:42:00,007       97112 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-28 14:42:00,007       97112 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-08-28 14:42:00,008       97113 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Jul 28 14:42:00 IST 2012
2012-08-28 14:42:00,351       97456 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-08-28 14:42:03,485      100590 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:08,487      105592 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:13,490      110595 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:18,492      115597 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:23,495      120600 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:28,497      125602 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:33,500      130605 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:38,502      135607 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:43,505      140610 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:48,508      145613 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:53,511      150616 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:42:58,513      155618 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:43:00,005      157110 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-28 14:43:00,005      157110 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-28 14:43:00,006      157111 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-28 14:43:00,007      157112 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-28 14:43:00,008      157113 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-28 14:43:00,009      157114 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-28 14:53:43,612           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-28 14:53:45,418        1806 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-28 14:53:45,532        1920 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-28 14:53:45,565        1953 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-28 14:53:45,566        1954 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-28 14:53:45,570        1958 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-28 14:53:45,572        1960 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-28 14:53:45,573        1961 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-28 14:53:45,573        1961 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-28 14:55:05,483           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-28 14:55:06,670        1187 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-28 14:55:06,786        1303 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-28 14:55:06,789        1306 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-28 14:55:06,789        1306 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-28 14:55:06,793        1310 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-28 14:55:06,795        1312 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-28 14:55:06,796        1313 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-28 14:55:06,796        1313 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-28 14:55:29,406       23923 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-28 14:55:29,793       24310 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:55:29,809       24326 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:55:29,812       24329 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:55:29,813       24330 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:55:29,814       24331 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:55:29,816       24333 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:55:29,816       24333 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:55:29,820       24337 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:55:29,821       24338 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:55:29,822       24339 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:55:29,956       24473 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-28 14:55:29,957       24474 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-28 14:55:29,960       24477 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-28 14:55:29,960       24477 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-28 14:55:34,753       29270 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:55:39,754       34271 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:55:44,757       39274 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:55:49,759       44276 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:55:49,962       44479 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "RUS",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "uncancelled_session_no_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1346172600,
    "teacher_first_seen_at": 1346052662,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-28 14:55:50,046       44563 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:55:50,108       44625 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:55:50,190       44707 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:55:54,967       49484 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:55:54,967       49484 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:50) - Received: com.rosettastone.succor.model.bandit.Event@1ac1adf

2012-08-28 14:55:54,967       49484 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage
2012-08-28 14:55:54,968       49485 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:76) - 22222222222222uncancelled_session_no_learner
2012-08-28 14:55:54,968       49485 [taskRuleExecutorThread] DEBUG (StudioSessionCancellationMessage.java:91) - IIIIII GGGOOOTTT CALLLEEEDDD
2012-08-28 14:55:54,968       49485 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:77) - 33333333333333null
2012-08-28 14:55:54,968       49485 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[TOT]
2012-08-28 14:55:54,969       49486 [taskRuleExecutorThread] INFO  (RulesInvoker.java:103) - Update drools rules.
2012-08-28 14:55:55,048       49565 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:55:57,379       51896 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:106) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end



2012-08-28 14:55:57,543       52060 [taskRuleExecutorThread] DEBUG (StudioSessionCancellationMessage.java:91) - IIIIII GGGOOOTTT CALLLEEEDDD
2012-08-28 14:55:57,543       52060 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:91) - No rule invoked for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:55:57,545       52062 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 14:55:59,996       54513 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-28 14:55:59,996       54513 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-28 14:56:00,007       54524 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-28 14:56:00,008       54525 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-28 14:56:00,009       54526 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-28 14:56:00,010       54527 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-28 14:56:00,011       54528 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-08-28 14:56:00,011       54528 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Jul 28 14:56:00 IST 2012
2012-08-28 14:56:00,050       54567 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:56:00,171       54688 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-08-28 14:56:05,053       59570 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:56:10,054       64571 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 14:59:27,711           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-28 14:59:28,908        1197 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-28 14:59:29,022        1311 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-28 14:59:29,025        1314 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-28 14:59:29,025        1314 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-28 14:59:29,029        1318 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-28 14:59:29,031        1320 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-28 14:59:29,032        1321 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-28 14:59:29,032        1321 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-28 14:59:51,923       24212 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-28 14:59:52,325       24614 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:59:52,328       24617 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:59:52,329       24618 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:59:52,332       24621 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:59:52,332       24621 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:59:52,334       24623 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:59:52,337       24626 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:59:52,339       24628 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-28 14:59:52,340       24629 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:59:52,341       24630 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-28 14:59:52,459       24748 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-28 14:59:52,459       24748 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-28 14:59:52,463       24752 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-28 14:59:52,463       24752 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-28 14:59:57,330       29619 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 15:00:00,000       32289 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-08-28 15:00:00,004       32293 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Jul 28 15:00:00 IST 2012
2012-08-28 15:00:00,159       32448 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-08-28 15:00:00,160       32449 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-08-28 15:00:00,218       32507 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-28 15:00:00,218       32507 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-28 15:00:00,229       32518 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-28 15:00:00,231       32520 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-28 15:00:00,233       32522 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-28 15:00:00,233       32522 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-28 15:00:02,332       34621 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 15:00:02,445       34734 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 15:00:02,496       34785 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "RUS",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "uncancelled_session_no_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1346172600,
    "teacher_first_seen_at": 1346052662,
    "solo": true,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-28 15:00:02,502       34791 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 15:00:02,513       34802 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 15:00:07,447       39736 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 15:00:07,475       39764 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 15:00:07,475       39764 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:50) - Received: com.rosettastone.succor.model.bandit.Event@1f2e41d

2012-08-28 15:00:07,475       39764 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage
2012-08-28 15:00:07,475       39764 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:76) - 22222222222222uncancelled_session_no_learner
2012-08-28 15:00:07,476       39765 [taskRuleExecutorThread] DEBUG (StudioSessionCancellationMessage.java:91) - IIIIII GGGOOOTTT CALLLEEEDDD
2012-08-28 15:00:07,476       39765 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:77) - 33333333333333true
2012-08-28 15:00:07,477       39766 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[TOT]
2012-08-28 15:00:07,477       39766 [taskRuleExecutorThread] INFO  (RulesInvoker.java:103) - Update drools rules.
2012-08-28 15:00:09,923       42212 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:106) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end



2012-08-28 15:00:10,078       42367 [taskRuleExecutorThread] DEBUG (StudioSessionCancellationMessage.java:91) - IIIIII GGGOOOTTT CALLLEEEDDD
2012-08-28 15:00:10,093       42382 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 15:00:12,449       44738 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 15:00:12,495       44784 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 15:00:12,653       44942 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-08-28 15:00:13,663       45952 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-28 15:00:13,663       45952 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-08-28 15:00:16,431       48720 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-08-28 15:00:16,432       48721 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 21 more
2012-08-28 15:00:16,455       48744 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #9 | exception org.springframework.mail.MailSendException
2012-08-28 15:00:17,451       49740 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-28 15:00:17,458       49747 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-08-29 15:10:48,196           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-29 15:10:49,333        1137 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-29 15:10:49,440        1244 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-29 15:10:49,443        1247 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-29 15:10:49,443        1247 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-29 15:10:49,446        1250 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-29 15:10:49,449        1253 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-29 15:10:49,449        1253 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-29 15:10:49,450        1254 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-29 15:11:17,033       28837 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-29 15:11:17,374       29178 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:11:17,375       29179 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:11:17,378       29182 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:11:17,378       29182 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:11:17,381       29185 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:11:17,381       29185 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:11:17,387       29191 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:11:17,390       29194 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:11:17,425       29229 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:11:17,425       29229 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:11:17,515       29319 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-29 15:11:17,515       29319 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-29 15:11:17,518       29322 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-29 15:11:17,518       29322 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-29 15:11:22,369       34173 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:11:27,372       39176 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:11:32,375       44179 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:11:32,383       44187 [rabbitMqListener] ERROR (RabbitMqListener.java:185) - com.rosettastone.succor.exception.InvalidJsonException: Invalid message
2012-08-29 15:11:32,471       44275 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "RUS",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "uncancelled_session_no_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1346172600,
    "teacher_first_seen_at": 1346052662,
    "solo": true,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      }
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-29 15:11:32,471       44275 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-08-29 15:11:32,631       44435 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:11:34,462       46266 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-08-29 15:11:34,463       46267 [taskPrepareExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
com.rosettastone.succor.exception.InvalidJsonException: Invalid message
	at com.rosettastone.succor.bandit.EventParser.parse(EventParser.java:123)
	at com.rosettastone.succor.mdp.MessagePreProcessor.prepareMessage(MessagePreProcessor.java:80)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: org.apache.sling.commons.json.JSONException: Expected a ',' or ']' at character 2304 of {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "RUS",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "uncancelled_session_no_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1346172600,
    "teacher_first_seen_at": 1346052662,
    "solo": true,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      }
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}
	at org.apache.sling.commons.json.JSONTokener.syntaxError(JSONTokener.java:448)
	at org.apache.sling.commons.json.JSONArray.<init>(JSONArray.java:132)
	at org.apache.sling.commons.json.JSONTokener.nextValue(JSONTokener.java:322)
	at org.apache.sling.commons.json.JSONObject.<init>(JSONObject.java:206)
	at org.apache.sling.commons.json.JSONTokener.nextValue(JSONTokener.java:319)
	at org.apache.sling.commons.json.JSONObject.<init>(JSONObject.java:206)
	at org.apache.sling.commons.json.JSONObject.<init>(JSONObject.java:278)
	at com.rosettastone.succor.bandit.EventParser.parse(EventParser.java:106)
	... 16 more
2012-08-29 15:11:34,466       46270 [taskPrepareExecutorThread] ERROR (EaterExceptionHandler.java:18) - Hanlde exception, task:PREPARE#10
2012-08-29 15:11:37,634       49438 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:14:35,722           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-29 15:14:36,872        1150 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-29 15:14:36,983        1261 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-29 15:14:36,986        1264 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-29 15:14:36,986        1264 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-29 15:14:36,989        1267 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-29 15:14:36,991        1269 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-29 15:14:36,992        1270 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-29 15:14:36,992        1270 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-29 15:15:02,837       27115 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-29 15:15:03,198       27476 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:15:03,199       27477 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:15:03,201       27479 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:15:03,202       27480 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:15:03,203       27481 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:15:03,203       27481 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:15:03,206       27484 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:15:03,207       27485 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:15:03,212       27490 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:15:03,212       27490 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:15:03,344       27622 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-29 15:15:03,344       27622 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-29 15:15:03,347       27625 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-29 15:15:03,347       27625 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-29 15:15:08,180       32458 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:15:13,183       37461 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:15:13,380       37658 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "RUS",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "uncancelled_session_no_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1346172600,
    "teacher_first_seen_at": 1346052662,
    "solo": true,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-29 15:15:13,388       37666 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-29 15:15:13,421       37699 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:15:13,501       37779 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-29 15:15:18,368       42646 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-29 15:15:18,368       42646 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@82f392

2012-08-29 15:15:18,369       42647 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage
2012-08-29 15:15:18,369       42647 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:76) - 22222222222222uncancelled_session_no_learner
2012-08-29 15:15:18,369       42647 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:77) - 33333333333333true
2012-08-29 15:15:18,369       42647 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[TOT]
2012-08-29 15:15:18,369       42647 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredtrue
2012-08-29 15:15:18,369       42647 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-08-29 15:15:18,424       42702 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:15:20,655       44933 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end



2012-08-29 15:15:20,842       45120 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-29 15:15:23,348       47626 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-29 15:15:23,426       47704 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:15:23,691       47969 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-08-29 15:15:24,697       48975 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-29 15:15:24,697       48975 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-08-29 15:15:26,331       50609 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-08-29 15:15:26,332       50610 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 21 more
2012-08-29 15:15:26,335       50613 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #13 | exception org.springframework.mail.MailSendException
2012-08-29 15:15:27,336       51614 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-08-29 15:44:26,212           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-29 15:44:27,332        1120 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-29 15:44:27,440        1228 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-29 15:44:27,443        1231 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-29 15:44:27,443        1231 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-29 15:44:27,446        1234 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-29 15:44:27,448        1236 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-29 15:44:27,449        1237 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-29 15:44:27,449        1237 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-29 15:44:56,301       30089 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-29 15:44:56,645       30433 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:44:56,646       30434 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:44:56,648       30436 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:44:56,649       30437 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:44:56,650       30438 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:44:56,652       30440 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:44:56,654       30442 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 15:44:56,655       30443 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:44:56,655       30443 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:44:56,656       30444 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 15:44:56,767       30555 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-29 15:44:56,768       30556 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-29 15:44:56,769       30557 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-29 15:44:56,769       30557 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-29 15:44:56,816       30604 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-29 15:44:57,012       30800 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-08-29 15:44:58,022       31810 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-08-29 15:44:58,023       31811 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-08-29 15:45:00,001       33789 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-29 15:45:00,001       33789 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-29 15:45:00,012       33800 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-29 15:45:00,013       33801 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-29 15:45:00,014       33802 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-29 15:45:00,015       33803 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-29 15:45:00,809       34597 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-08-29 15:45:00,810       34598 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 21 more
2012-08-29 15:45:00,948       34736 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #13 | exception org.springframework.mail.MailSendException
2012-08-29 15:45:01,636       35424 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:01,955       35743 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-08-29 15:45:03,543       37331 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-08-29 15:45:03,543       37331 [taskEmailExecutorThread] ERROR (CancelTaskExceptionHandler.java:27) - Exception catched
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.backgroundtask.impl.EmailSender.sendEmail(EmailSender.java:59)
	at com.rosettastone.succor.backgroundtask.impl.CancelTaskExceptionHandler.doHandleException(CancelTaskExceptionHandler.java:20)
	at com.rosettastone.succor.backgroundtask.impl.AbstractExceptionHandler.handleException(AbstractExceptionHandler.java:19)
	at com.rosettastone.succor.backgroundtask.impl.AbstractDelegatExceptionHandler.handleException(AbstractDelegatExceptionHandler.java:12)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.catchExecutionException(TaskExecutor.java:227)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:115)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 17 more
2012-08-29 15:45:06,983       40771 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:11,985       45773 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:16,989       50777 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:21,991       55779 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:26,994       60782 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:31,996       65784 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:32,110       65898 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:36,773       70561 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "RUS",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "uncancelled_session_no_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1146172600,
    "teacher_first_seen_at": 1346052662,
    "solo": true,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-29 15:45:36,779       70567 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:179) - Skip message that is not actual.
2012-08-29 15:45:36,780       70568 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-08-29 15:45:37,114       70902 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 15:45:42,116       75904 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:45:56,492           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-29 19:45:57,909        1417 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-29 19:45:58,021        1529 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-29 19:45:58,048        1556 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-29 19:45:58,048        1556 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-29 19:45:58,051        1559 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-29 19:45:58,054        1562 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-29 19:45:58,055        1563 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-29 19:45:58,055        1563 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-29 19:47:12,914           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-29 19:47:14,054        1140 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-29 19:47:14,165        1251 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-29 19:47:14,168        1254 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-29 19:47:14,168        1254 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-29 19:47:14,171        1257 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-29 19:47:14,173        1259 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-29 19:47:14,174        1260 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-29 19:47:14,174        1260 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-29 19:47:36,422       23508 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-29 19:47:36,774       23860 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:47:36,788       23874 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:47:36,794       23880 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:47:36,795       23881 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:47:36,796       23882 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:47:36,798       23884 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:47:36,799       23885 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:47:36,803       23889 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:47:36,807       23893 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:47:36,810       23896 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:47:36,914       24000 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-29 19:47:36,914       24000 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-29 19:47:36,918       24004 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-29 19:47:36,919       24005 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-29 19:47:41,813       28899 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:47:46,815       33901 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:47:51,817       38903 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:47:52,048       39134 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:47:56,957       44043 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346156700,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-29 19:47:57,051       44137 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:47:57,058       44144 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:179) - Skip message that is not actual.
2012-08-29 19:47:57,070       44156 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-08-29 19:48:00,000       47086 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-29 19:48:00,000       47086 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-29 19:48:00,010       47096 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-29 19:48:00,011       47097 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-29 19:48:00,012       47098 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-29 19:48:00,013       47099 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-29 19:48:00,013       47099 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-08-29 19:48:00,016       47102 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sun Jul 29 19:48:00 IST 2012
2012-08-29 19:48:00,198       47284 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-08-29 19:48:02,062       49148 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:48:07,064       54150 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:50:41,677           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-29 19:50:42,804        1127 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-29 19:50:42,918        1241 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-29 19:50:42,920        1243 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-29 19:50:42,921        1244 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-29 19:50:42,924        1247 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-29 19:50:42,926        1249 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-29 19:50:42,927        1250 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-29 19:50:42,927        1250 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-29 19:51:05,078       23401 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-29 19:51:05,416       23739 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:51:05,419       23742 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:51:05,421       23744 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:51:05,423       23746 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:51:05,423       23746 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:51:05,423       23746 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:51:05,432       23755 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:51:05,433       23756 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:51:05,436       23759 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:51:05,437       23760 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:51:05,559       23882 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-29 19:51:05,559       23882 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-29 19:51:05,563       23886 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-29 19:51:05,563       23886 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-29 19:51:10,432       28755 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:51:15,435       33758 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:51:20,437       38760 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:51:20,588       38911 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:51:25,528       43851 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346259922,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-29 19:51:25,533       43856 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:51:25,591       43914 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:51:25,598       43921 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:51:30,541       48864 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:51:30,541       48864 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@bc5245

2012-08-29 19:51:30,541       48864 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-08-29 19:51:30,541       48864 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-08-29 19:51:30,542       48865 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatherednull
2012-08-29 19:51:30,542       48865 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-08-29 19:51:30,593       48916 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:51:32,763       51086 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-08-29 19:51:32,957       51280 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:92) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:51:32,959       51282 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:51:35,596       53919 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:53:32,312           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-08-29 19:53:33,435        1123 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-08-29 19:53:33,548        1236 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-08-29 19:53:33,551        1239 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-08-29 19:53:33,551        1239 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-08-29 19:53:33,554        1242 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-08-29 19:53:33,556        1244 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-08-29 19:53:33,557        1245 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-08-29 19:53:33,557        1245 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-08-29 19:53:55,691       23379 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-08-29 19:53:56,027       23715 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:53:56,030       23718 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:53:56,032       23720 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:53:56,032       23720 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:53:56,035       23723 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:53:56,037       23725 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:53:56,039       23727 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:53:56,041       23729 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:53:56,046       23734 [main] INFO  (TaskExecutorThread.java:47) - init
2012-08-29 19:53:56,048       23736 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-08-29 19:53:56,152       23840 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-08-29 19:53:56,153       23841 [main] INFO  (SpringLauncher.java:29) - Application started
2012-08-29 19:53:56,154       23842 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-08-29 19:53:56,154       23842 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-08-29 19:54:00,001       27689 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-08-29 19:54:00,004       27692 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sun Jul 29 19:54:00 IST 2012
2012-08-29 19:54:00,153       27841 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-08-29 19:54:00,153       27841 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-08-29 19:54:00,153       27841 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-08-29 19:54:00,164       27852 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-08-29 19:54:00,165       27853 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-08-29 19:54:00,166       27854 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-08-29 19:54:00,167       27855 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-08-29 19:54:01,048       28736 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:54:06,051       33739 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:54:11,056       38744 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:54:11,187       38875 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:54:11,197       38885 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346259922,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-08-29 19:54:11,201       38889 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:54:11,212       38900 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:54:16,181       43869 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:54:16,183       43871 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@29a046

2012-08-29 19:54:16,183       43871 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-08-29 19:54:16,183       43871 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-08-29 19:54:16,183       43871 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-08-29 19:54:16,184       43872 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-08-29 19:54:16,196       43884 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:54:18,614       46302 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-08-29 19:54:18,816       46504 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:54:21,204       48892 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-08-29 19:54:21,212       48900 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:54:21,524       49212 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-08-29 19:54:22,537       50225 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-08-29 19:54:22,537       50225 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-08-29 19:54:25,252       52940 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-08-29 19:54:25,253       52941 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 21 more
2012-08-29 19:54:25,264       52952 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #20 | exception org.springframework.mail.MailSendException
2012-08-29 19:54:26,216       53904 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:49:15,403           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 14:49:16,701        1298 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 14:49:16,846        1443 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 14:49:16,850        1447 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 14:49:16,850        1447 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 14:49:16,854        1451 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 14:49:16,857        1454 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 14:49:16,858        1455 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 14:49:16,858        1455 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 14:49:42,564       27161 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 14:49:42,911       27508 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:49:42,913       27510 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:49:42,915       27512 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:49:42,916       27513 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:49:42,916       27513 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:49:42,916       27513 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:49:42,920       27517 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:49:42,922       27519 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:49:42,923       27520 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:49:42,924       27521 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:49:43,043       27640 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 14:49:43,044       27641 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 14:49:43,048       27645 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 14:49:43,048       27645 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 14:49:47,911       32508 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:49:52,914       37511 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:49:57,924       42521 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:00,002       44599 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 14:50:00,006       44603 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 14:50:00 IST 2012
2012-09-03 14:50:00,187       44784 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 14:50:00,188       44785 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-03 14:50:00,202       44799 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 14:50:00,202       44799 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 14:50:00,216       44813 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 14:50:00,217       44814 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 14:50:00,218       44815 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 14:50:00,220       44817 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 14:50:02,927       47524 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:03,038       47635 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346259922,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 14:50:03,047       47644 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-03 14:50:03,178       47775 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:05,518       50115 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-03 14:50:05,519       50116 [taskPrepareExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
com.rosettastone.succor.exception.ApplicationException: Can not convert property cancellationWindowInSeconds of class com.rosettastone.succor.model.bandit.StudioReminderMessage
	at com.rosettastone.succor.bandit.JsonToObjectConverter.getJsonValue(JsonToObjectConverter.java:113)
	at com.rosettastone.succor.bandit.JsonToObjectConverter.convert(JsonToObjectConverter.java:55)
	at com.rosettastone.succor.bandit.EventParser.parse(EventParser.java:118)
	at com.rosettastone.succor.mdp.MessagePreProcessor.prepareMessage(MessagePreProcessor.java:80)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
2012-09-03 14:50:05,521       50118 [taskPrepareExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #21 | exception com.rosettastone.succor.exception.ApplicationException
2012-09-03 14:50:05,880       50477 [taskPrepareExecutorThread] DEBUG (TaskExecutor.java:245) - Set next run time for task:21
2012-09-03 14:50:08,182       52779 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:13,185       57782 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:18,187       62784 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:23,190       67787 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:28,192       72789 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:33,196       77793 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:50:38,198       82795 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:55:24,876           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 14:55:26,013        1137 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 14:55:26,125        1249 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 14:55:26,128        1252 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 14:55:26,128        1252 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 14:55:26,132        1256 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 14:55:26,134        1258 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 14:55:26,135        1259 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 14:55:26,135        1259 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 14:55:49,717       24841 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 14:55:50,067       25191 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:55:50,068       25192 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:55:50,069       25193 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:55:50,070       25194 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:55:50,070       25194 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:55:50,073       25197 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:55:50,075       25199 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:55:50,079       25203 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:55:50,082       25206 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 14:55:50,128       25252 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 14:55:50,209       25333 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 14:55:50,209       25333 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 14:55:50,211       25335 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 14:55:50,211       25335 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 14:55:55,062       30186 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:00,001       35125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 14:56:00,001       35125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 14:56:00,013       35137 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 14:56:00,013       35137 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 14:56:00,014       35138 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 14:56:00,015       35139 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 14:56:00,016       35140 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 14:56:00,019       35143 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 14:56:00 IST 2012
2012-09-03 14:56:00,071       35195 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:00,178       35302 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 14:56:05,077       40201 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:10,080       45204 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:15,082       50206 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:20,085       55209 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:25,100       60224 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:30,104       65228 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:35,106       70230 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:40,123       75247 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:45,125       80249 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:50,127       85251 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:56:55,129       90253 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:00,001       95125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 14:57:00,001       95125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 14:57:00,002       95126 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 14:57:00,003       95127 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 14:57:00,004       95128 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 14:57:00,004       95128 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 14:57:00,131       95255 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:05,133      100257 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:10,135      105259 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:15,137      110261 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:20,139      115263 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:25,141      120265 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:30,143      125267 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:35,145      130269 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:40,147      135271 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:45,149      140273 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:50,151      145275 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:55,153      150277 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:57:59,998      155122 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 14:57:59,998      155122 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 14:57:59,999      155123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 14:58:00,000      155124 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 14:58:00,000      155124 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 14:58:00,001      155125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 14:58:00,002      155126 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 14:58:00,002      155126 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 14:58:00 IST 2012
2012-09-03 14:58:00,004      155128 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 14:58:00,155      155279 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:05,158      160282 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:10,160      165284 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:15,162      170286 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:20,164      175288 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:25,166      180290 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:30,168      185292 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:35,170      190294 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:40,172      195296 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:45,174      200298 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:50,176      205300 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:55,178      210302 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:58:59,998      215122 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 14:58:59,998      215122 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 14:58:59,999      215123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 14:59:00,000      215124 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 14:59:00,000      215124 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 14:59:00,001      215125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 14:59:00,180      215304 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:05,184      220308 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:10,187      225311 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:15,189      230313 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:20,191      235315 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:25,193      240317 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:30,195      245319 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:35,197      250321 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:40,199      255323 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:45,202      260326 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:50,205      265329 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:55,207      270331 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 14:59:59,993      275117 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-03 15:00:00,003      275127 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:00:00,004      275128 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:00:00 IST 2012
2012-09-03 15:00:00,006      275130 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:00:00,006      275130 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:00:00,006      275130 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:00:00,007      275131 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:00:00,008      275132 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:00:00,008      275132 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:00:00,009      275133 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:00:00,211      275335 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:05,228      280352 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:10,230      285354 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:15,231      290355 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:20,232      295356 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:25,233      300357 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:30,234      305358 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:35,235      310359 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:40,236      315360 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:45,237      320361 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:50,238      325362 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:55,240      330364 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:00:59,998      335122 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:00:59,998      335122 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:00:59,999      335123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:00:59,999      335123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:01:00,000      335124 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:01:00,001      335125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:01:00,242      335366 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:05,243      340367 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:10,244      345368 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:15,245      350369 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:20,246      355370 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:25,248      360372 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:30,250      365374 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:35,251      370375 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:40,254      375378 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:45,255      380379 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:50,258      385382 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:55,259      390383 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:01:59,998      395122 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:01:59,998      395122 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:01:59 IST 2012
2012-09-03 15:02:00,000      395124 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:02:00,001      395125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:02:00,001      395125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:02:00,002      395126 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:02:00,002      395126 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:02:00,003      395127 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:02:00,004      395128 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:02:00,262      395386 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:02:05,264      400388 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:02:10,267      405391 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:02:15,268      410392 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:02:20,271      415395 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:02:20,396      415520 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:02:25,286      420410 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346259922,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 15:02:25,290      420414 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:179) - Skip message that is not actual.
2012-09-03 15:02:25,291      420415 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-03 15:02:25,398      420522 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:02:30,409      425533 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:04:58,476           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 15:04:59,630        1154 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 15:04:59,746        1270 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 15:04:59,748        1272 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 15:04:59,749        1273 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 15:04:59,752        1276 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 15:04:59,754        1278 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 15:04:59,755        1279 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 15:04:59,755        1279 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 15:05:31,447       32971 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 15:05:31,702       33226 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:05:31,704       33228 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:05:31,706       33230 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:05:31,707       33231 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:05:31,707       33231 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:05:31,708       33232 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:05:31,711       33235 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:05:31,714       33238 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:05:31,718       33242 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:05:31,720       33244 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:05:31,871       33395 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 15:05:31,872       33396 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 15:05:31,872       33396 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 15:05:31,872       33396 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 15:05:36,727       38251 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:05:41,730       43254 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:05:46,732       48256 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:05:51,761       53285 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:05:56,763       58287 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:00,002       61526 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:06:00,006       61530 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:06:00 IST 2012
2012-09-03 15:06:00,153       61677 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:06:00,153       61677 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:06:00,154       61678 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:06:00,164       61688 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:06:00,165       61689 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:06:00,166       61690 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:06:00,166       61690 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:06:01,766       63290 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:06,768       68292 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:11,771       73295 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:16,773       78297 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:21,776       83300 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:26,778       88302 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:31,781       93305 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:36,783       98307 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:41,787      103311 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:46,790      108314 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:51,793      113317 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:06:56,795      118319 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:00,005      121529 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:07:00,005      121529 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:07:00,006      121530 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:07:00,007      121531 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:07:00,008      121532 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:07:00,008      121532 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:07:01,798      123322 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:01,915      123439 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:06,852      128376 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 15:07:06,857      128381 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:07:06,917      128441 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:06,942      128466 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:07:11,852      133376 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:07:11,852      133376 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@b13129

2012-09-03 15:07:11,852      133376 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 15:07:11,852      133376 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 15:07:11,853      133377 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 15:07:11,853      133377 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 15:07:11,920      133444 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:14,243      135767 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 15:07:14,440      135964 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:07:16,834      138358 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:07:16,934      138458 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:17,005      138529 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 15:07:17,073      138597 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 15:07:17,075      138599 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:07:21,951      143475 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:26,953      148477 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:31,982      153506 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:37,004      158528 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:42,007      163531 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:47,009      168533 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:52,012      173536 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:07:57,025      178549 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:08:00,004      181528 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:08:00,004      181528 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:08:00,005      181529 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:08:00,006      181530 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:08:00,007      181531 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:08:00,007      181531 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:08:00,008      181532 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:08:00,008      181532 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:08:00 IST 2012
2012-09-03 15:08:00,010      181534 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:08:02,028      183552 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:15:27,888           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 15:15:29,043        1155 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 15:15:29,157        1269 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 15:15:29,160        1272 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 15:15:29,160        1272 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 15:15:29,163        1275 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 15:15:29,165        1277 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 15:15:29,166        1278 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 15:15:29,166        1278 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 15:15:57,202       29314 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 15:15:57,556       29668 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:15:57,558       29670 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:15:57,559       29671 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:15:57,560       29672 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:15:57,560       29672 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:15:57,562       29674 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:15:57,564       29676 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:15:57,567       29679 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:15:57,567       29679 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:15:57,568       29680 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:15:57,702       29814 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 15:15:57,702       29814 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 15:15:57,705       29817 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 15:15:57,705       29817 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 15:16:00,001       32113 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:16:00,001       32113 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:16:00,011       32123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:16:00,012       32124 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:16:00,013       32125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:16:00,014       32126 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:16:00,015       32127 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:16:00,018       32130 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:16:00 IST 2012
2012-09-03 15:16:00,168       32280 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:16:02,556       34668 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:07,558       39670 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:12,560       44672 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:17,562       49674 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:17,659       49771 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 15:16:17,664       49776 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:16:17,772       49884 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:16:17,778       49890 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:22,633       54745 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:16:22,633       54745 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@14510ac

2012-09-03 15:16:22,633       54745 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 15:16:22,633       54745 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 15:16:22,634       54746 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 15:16:22,634       54746 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 15:16:22,898       55010 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:24,899       57011 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 15:16:25,234       57346 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:16:27,636       59748 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:16:27,669       59781 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:143) - =>=>=>=>cancelBeforeDate=>=>=>=>Mon Sep 03 17:48:20 IST 2012
2012-09-03 15:16:27,743       59855 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 15:16:27,804       59916 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 15:16:27,806       59918 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:16:27,919       60031 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:32,921       65033 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:37,923       70035 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:42,925       75037 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:47,932       80044 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:52,934       85046 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:57,936       90048 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:16:59,998       92110 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:16:59,998       92110 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:16:59,999       92111 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:17:00,000       92112 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:17:00,001       92113 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:17:00,001       92113 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:17:02,941       95053 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:17:07,943      100055 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:18:26,794           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 15:18:27,940        1146 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 15:18:28,054        1260 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 15:18:28,057        1263 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 15:18:28,057        1263 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 15:18:28,060        1266 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 15:18:28,063        1269 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 15:18:28,064        1270 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 15:18:28,064        1270 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 15:18:54,085       27291 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 15:18:54,434       27640 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:18:54,436       27642 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:18:54,438       27644 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:18:54,439       27645 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:18:54,442       27648 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:18:54,443       27649 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:18:54,444       27650 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:18:54,446       27652 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:18:54,450       27656 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:18:54,486       27692 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:18:54,571       27777 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 15:18:54,572       27778 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 15:18:54,575       27781 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 15:18:54,575       27781 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 15:18:59,435       32641 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:18:59,532       32738 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 15:18:59,537       32743 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:18:59,552       32758 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:18:59,593       32799 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:00,000       33206 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:19:00,000       33206 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:19:00,015       33221 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:19:00,016       33222 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:19:00,017       33223 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:19:00,017       33223 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:19:04,519       37725 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:19:04,519       37725 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@176fb04

2012-09-03 15:19:04,519       37725 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 15:19:04,519       37725 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 15:19:04,520       37726 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 15:19:04,520       37726 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 15:19:04,610       37816 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:06,798       40004 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 15:19:07,002       40208 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:19:09,506       42712 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:19:09,612       42818 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:09,638       42844 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:143) - =>=>=>=>originalDate=>=>=>=>Mon Sep 03 17:49:47 IST 2012
2012-09-03 15:19:09,638       42844 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:144) - =>=>=>=>cancelBeforeDate=>=>=>=>Mon Sep 03 17:48:20 IST 2012
2012-09-03 15:19:09,859       43065 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 15:19:09,916       43122 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 15:19:09,917       43123 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:19:14,615       47821 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:19,617       52823 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:24,619       57825 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:29,621       62827 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:34,623       67829 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:39,630       72836 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:44,633       77839 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:49,635       82841 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:54,637       87843 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:59,639       92845 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:19:59,998       93204 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:19:59,998       93204 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:19:59,999       93205 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:19:59,999       93205 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:20:00,000       93206 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:20:00,001       93207 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:20:00,001       93207 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:20:00,004       93210 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:20:00 IST 2012
2012-09-03 15:20:00,048       93254 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:20:00,049       93255 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-03 15:21:08,879           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 15:21:10,024        1145 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 15:21:10,136        1257 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 15:21:10,139        1260 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 15:21:10,139        1260 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 15:21:10,142        1263 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 15:21:10,144        1265 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 15:21:10,145        1266 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 15:21:10,145        1266 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 15:21:35,740           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 15:21:36,883        1143 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 15:21:36,994        1254 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 15:21:36,998        1258 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 15:21:36,998        1258 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 15:21:37,001        1261 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 15:21:37,003        1263 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 15:21:37,004        1264 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 15:21:37,004        1264 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 15:22:10,237       34497 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 15:22:10,490       34750 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:22:10,492       34752 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:22:10,493       34753 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:22:10,497       34757 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:22:10,497       34757 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:22:10,499       34759 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:22:10,502       34762 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:22:10,502       34762 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:22:10,506       34766 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:22:10,508       34768 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:22:10,617       34877 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 15:22:10,617       34877 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 15:22:10,621       34881 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 15:22:10,621       34881 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 15:22:15,497       39757 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:22:20,500       44760 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:22:20,646       44906 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 15:22:20,680       44940 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:22:20,691       44951 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:22:20,792       45052 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:22:25,622       49882 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:22:25,622       49882 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@79404a

2012-09-03 15:22:25,622       49882 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 15:22:25,622       49882 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 15:22:25,622       49882 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 15:22:25,623       49883 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 15:22:25,842       50102 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:22:27,887       52147 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 15:22:28,086       52346 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:22:30,623       54883 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:22:30,915       55175 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:142) - @@@@@cancellationWindow@@@@@86400
2012-09-03 15:22:30,916       55176 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:144) - =>=>=>=>originalDate=>=>=>=>Mon Sep 03 17:49:47 IST 2012
2012-09-03 15:22:30,916       55176 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:145) - =>=>=>=>cancelBeforeDate=>=>=>=>Mon Sep 03 17:48:20 IST 2012
2012-09-03 15:22:30,999       55259 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:22:31,022       55282 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 15:22:31,092       55352 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 15:22:31,094       55354 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:22:36,001       60261 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:22:41,003       65263 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:22:46,005       70265 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:25:09,098           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 15:25:10,236        1138 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 15:25:10,348        1250 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 15:25:10,351        1253 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 15:25:10,351        1253 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 15:25:10,354        1256 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 15:25:10,357        1259 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 15:25:10,357        1259 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 15:25:10,358        1260 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 15:25:42,361       33263 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 15:25:42,620       33522 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:25:42,622       33524 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:25:42,625       33527 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:25:42,626       33528 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:25:42,628       33530 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:25:42,630       33532 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:25:42,630       33532 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:25:42,634       33536 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:25:42,636       33538 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:25:42,636       33538 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:25:42,756       33658 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 15:25:42,756       33658 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 15:25:42,760       33662 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 15:25:42,760       33662 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 15:25:47,648       38550 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:25:52,650       43552 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:25:52,798       43700 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 15:25:52,806       43708 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:25:52,969       43871 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:25:52,970       43872 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:25:57,749       48651 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:25:57,749       48651 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@9501ea

2012-09-03 15:25:57,749       48651 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 15:25:57,749       48651 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 15:25:57,749       48651 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 15:25:57,750       48652 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 15:25:57,974       48876 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:26:00,018       50920 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:26:00,021       50923 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:26:00 IST 2012
2012-09-03 15:26:00,144       51046 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 15:26:00,218       51120 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:26:00,218       51120 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:26:00,218       51120 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:26:00,231       51133 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:26:00,233       51135 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:26:00,234       51136 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:26:00,235       51137 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:26:00,394       51296 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:26:02,749       53651 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:26:02,779       53681 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:142) - @@@@@cancellationWindow@@@@@86400@@@@originalDate.getTime()@@@@1346674787000
2012-09-03 15:26:02,779       53681 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:143) - PPPPPPP1346674700600
2012-09-03 15:26:02,779       53681 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:144) - QQQQQQQMon Sep 03 17:48:20 IST 2012
2012-09-03 15:26:02,779       53681 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:146) - =>=>=>=>originalDate=>=>=>=>Mon Sep 03 17:49:47 IST 2012
2012-09-03 15:26:02,779       53681 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:147) - =>=>=>=>cancelBeforeDate=>=>=>=>Mon Sep 03 17:48:20 IST 2012
2012-09-03 15:26:02,994       53896 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:26:03,003       53905 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 15:26:03,071       53973 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 15:26:03,075       53977 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:26:07,996       58898 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:26:12,998       63900 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:26:18,000       68902 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:26:23,002       73904 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:31:50,974           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 15:31:52,129        1155 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 15:31:52,244        1270 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 15:31:52,247        1273 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 15:31:52,247        1273 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 15:31:52,250        1276 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 15:31:52,252        1278 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 15:31:52,253        1279 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 15:31:52,253        1279 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 15:32:20,282       29308 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 15:32:20,628       29654 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:32:20,629       29655 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:32:20,630       29656 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:32:20,633       29659 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:32:20,634       29660 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:32:20,635       29661 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:32:20,638       29664 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:32:20,639       29665 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:32:20,680       29706 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 15:32:20,683       29709 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 15:32:20,767       29793 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 15:32:20,767       29793 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 15:32:20,770       29796 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 15:32:20,771       29797 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 15:32:25,628       34654 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:32:30,630       39656 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:32:35,633       44659 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:32:40,635       49661 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:32:45,637       54663 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:32:50,639       59665 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:32:55,641       64667 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:32:59,999       69025 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:32:59,999       69025 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:33:00,011       69037 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:33:00,013       69039 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:33:00,015       69041 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:33:00,016       69042 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:33:00,643       69669 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:05,645       74671 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:10,647       79673 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:15,649       84675 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:15,816       84842 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:20,736       89762 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 15:33:20,740       89766 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:33:20,752       89778 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:33:20,827       89853 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:25,726       94752 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:33:25,726       94752 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@5fadce

2012-09-03 15:33:25,726       94752 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 15:33:25,726       94752 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 15:33:25,726       94752 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 15:33:25,727       94753 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 15:33:25,833       94859 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:28,000       97026 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 15:33:28,203       97229 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:33:30,718       99744 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:33:30,844       99870 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:30,851       99877 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:142) - @@@@@cancellationWindow@@@@@86400@@@@originalDate.getTime()@@@@1346674787000
2012-09-03 15:33:30,851       99877 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:143) - PPPPPPP1346674700600
2012-09-03 15:33:30,851       99877 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:144) - QQQQQQQMon Sep 03 17:48:20 IST 2012
2012-09-03 15:33:30,851       99877 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:146) - =>=>=>=>originalDate=>=>=>=>Mon Sep 03 17:49:47 IST 2012
2012-09-03 15:33:30,851       99877 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:147) - =>=>=>=>cancelBeforeDate=>=>=>=>Sun Sep 02 17:49:47 IST 2012
2012-09-03 15:33:31,071      100097 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 15:33:31,130      100156 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 15:33:31,132      100158 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 15:33:35,848      104874 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:40,850      109876 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:45,853      114879 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:50,866      119892 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:55,867      124893 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:33:59,996      129022 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:33:59,999      129025 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:33:59 IST 2012
2012-09-03 15:34:00,043      129069 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:34:00,044      129070 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:34:00,044      129070 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:34:00,045      129071 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:34:00,046      129072 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:34:00,046      129072 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:34:00,047      129073 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:34:00,869      129895 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:05,871      134897 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:10,872      139898 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:15,882      144908 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:20,884      149910 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:25,886      154912 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:30,898      159924 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:35,903      164929 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:40,904      169930 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:45,906      174932 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:50,907      179933 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:55,909      184935 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:34:59,998      189024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:34:59,998      189024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:34:59,999      189025 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:35:00,000      189026 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:35:00,001      189027 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:35:00,001      189027 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:35:00,910      189936 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:05,911      194937 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:10,913      199939 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:15,915      204941 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:20,935      209961 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:25,937      214963 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:30,938      219964 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:35,939      224965 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:40,941      229967 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:45,942      234968 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:50,944      239970 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:55,946      244972 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:35:59,995      249021 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:35:59,995      249021 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:35:59 IST 2012
2012-09-03 15:35:59,998      249024 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:35:59,998      249024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:35:59,998      249024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:35:59,999      249025 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:36:00,000      249026 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:36:00,001      249027 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:36:00,001      249027 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:36:00,948      249974 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:05,949      254975 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:10,950      259976 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:15,951      264977 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:20,952      269978 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:25,954      274980 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:30,955      279981 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:35,956      284982 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:40,957      289983 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:45,958      294984 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:50,959      299985 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:55,960      304986 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:36:59,998      309024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:36:59,998      309024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:36:59,999      309025 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:37:00,000      309026 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:37:00,000      309026 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:37:00,001      309027 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:37:00,962      309988 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:05,964      314990 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:10,965      319991 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:15,966      324992 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:20,967      329993 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:25,969      334995 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:30,971      339997 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:35,972      344998 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:40,973      349999 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:45,975      355001 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:50,976      360002 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:55,977      365003 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:37:59,995      369021 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 15:37:59,995      369021 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 15:37:59 IST 2012
2012-09-03 15:37:59,998      369024 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 15:37:59,998      369024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 15:37:59,998      369024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 15:37:59,999      369025 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 15:37:59,999      369025 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 15:38:00,000      369026 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 15:38:00,001      369027 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 15:38:00,978      370004 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:38:05,979      375005 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 15:38:10,981      380007 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:10:06,249           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 16:10:07,400        1151 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 16:10:07,512        1263 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 16:10:07,515        1266 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 16:10:07,515        1266 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 16:10:07,519        1270 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 16:10:07,521        1272 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 16:10:07,522        1273 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 16:10:07,522        1273 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 16:10:31,786       25537 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 16:10:32,151       25902 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:10:32,152       25903 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:10:32,155       25906 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:10:32,156       25907 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:10:32,157       25908 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:10:32,158       25909 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:10:32,161       25912 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:10:32,162       25913 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:10:32,163       25914 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:10:32,163       25914 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:10:32,272       26023 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 16:10:32,272       26023 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 16:10:32,277       26028 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 16:10:32,277       26028 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 16:10:37,134       30885 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:10:42,138       35889 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:10:47,142       40893 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:10:47,262       41013 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:10:47,306       41057 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 16:10:47,312       41063 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:10:47,323       41074 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:10:52,264       46015 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:10:52,303       46054 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:10:52,303       46054 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@a5f99b

2012-09-03 16:10:52,303       46054 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 16:10:52,303       46054 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 16:10:52,303       46054 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 16:10:52,303       46054 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 16:10:54,580       48331 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 16:10:54,797       48548 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:10:57,267       51018 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:10:57,309       51060 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:10:57,650       51401 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 16:10:57,977       51728 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 16:10:57,979       51730 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:11:00,003       53754 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 16:11:00,003       53754 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 16:11:00,013       53764 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 16:11:00,014       53765 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 16:11:00,015       53766 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 16:11:00,015       53766 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 16:11:02,269       56020 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:11:07,272       61023 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:11:12,274       66025 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:13:16,620           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 16:13:17,769        1149 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 16:13:17,884        1264 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 16:13:17,887        1267 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 16:13:17,888        1268 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 16:13:17,891        1271 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 16:13:17,893        1273 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 16:13:17,894        1274 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 16:13:17,894        1274 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 16:13:41,965       25345 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 16:13:42,341       25721 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:13:42,342       25722 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:13:42,344       25724 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:13:42,345       25725 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:13:42,346       25726 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:13:42,348       25728 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:13:42,351       25731 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:13:42,352       25732 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:13:42,355       25735 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:13:42,355       25735 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:13:42,481       25861 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 16:13:42,481       25861 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 16:13:42,486       25866 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 16:13:42,486       25866 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 16:13:47,336       30716 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:13:52,338       35718 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:13:52,456       35836 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:13:52,504       35884 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 16:13:52,510       35890 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:13:52,521       35901 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:13:57,460       40840 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:13:57,482       40862 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:13:57,482       40862 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1860045

2012-09-03 16:13:57,482       40862 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 16:13:57,482       40862 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 16:13:57,483       40863 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 16:13:57,483       40863 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 16:13:59,847       43227 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 16:14:00,002       43382 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 16:14:00,002       43382 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 16:14:00,066       43446 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 16:14:00,073       43453 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 16:14:00,075       43455 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 16:14:00,079       43459 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 16:14:00,079       43459 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 16:14:00,087       43467 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 16:14:00 IST 2012
2012-09-03 16:14:00,095       43475 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:14:00,417       43797 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 16:14:02,463       45843 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:02,486       45866 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:14:02,597       45977 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 16:14:02,664       46044 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 16:14:02,666       46046 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:14:07,466       50846 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:12,468       55848 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:17,471       60851 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:22,473       65853 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:27,476       70856 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:32,478       75858 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:37,481       80861 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:42,483       85863 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:14:47,486       90866 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:17:07,986           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 16:17:09,123        1137 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 16:17:09,236        1250 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 16:17:09,238        1252 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 16:17:09,239        1253 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 16:17:09,242        1256 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 16:17:09,244        1258 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 16:17:09,245        1259 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 16:17:09,245        1259 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 16:17:32,465       24479 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 16:17:32,883       24897 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:17:32,884       24898 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:17:32,887       24901 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:17:32,887       24901 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:17:32,888       24902 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:17:32,890       24904 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:17:32,889       24903 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:17:32,902       24916 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:17:32,905       24919 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:17:32,905       24919 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:17:33,031       25045 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 16:17:33,032       25046 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 16:17:33,035       25049 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 16:17:33,035       25049 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 16:17:37,870       29884 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:17:42,873       34887 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:17:47,880       39894 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:17:52,889       44903 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:17:57,892       49906 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:18:00,003       52017 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 16:18:00,007       52021 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 16:18:00 IST 2012
2012-09-03 16:18:00,158       52172 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 16:18:00,158       52172 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 16:18:00,158       52172 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 16:18:00,170       52184 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 16:18:00,171       52185 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 16:18:00,172       52186 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 16:18:00,173       52187 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 16:18:02,894       54908 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:18:03,032       55046 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:18:03,075       55089 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"solo": true,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 16:18:03,080       55094 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:18:03,090       55104 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:18:08,035       60049 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:18:08,062       60076 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:18:08,062       60076 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@10d78ec

2012-09-03 16:18:08,063       60077 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 16:18:08,063       60077 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 16:18:08,063       60077 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 16:18:08,063       60077 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 16:18:10,458       62472 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 16:18:10,659       62673 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:18:13,037       65051 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:18:13,061       65075 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:18:13,170       65184 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 16:18:13,235       65249 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 16:18:13,237       65251 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:19:26,663           1 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 16:19:27,835        1173 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 16:19:27,948        1286 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 16:19:27,951        1289 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 16:19:27,952        1290 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 16:19:27,956        1294 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 16:19:27,958        1296 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 16:19:27,958        1296 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 16:19:27,959        1297 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 16:19:51,136       24474 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 16:19:51,535       24873 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:19:51,553       24891 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:19:51,555       24893 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:19:51,556       24894 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:19:51,565       24903 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:19:51,566       24904 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:19:51,571       24909 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:19:51,574       24912 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:19:51,575       24913 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:19:51,576       24914 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:19:51,713       25051 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 16:19:51,713       25051 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 16:19:51,715       25053 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 16:19:51,715       25053 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 16:19:56,617       29955 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:20:00,002       33340 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 16:20:00,010       33348 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 16:20:00 IST 2012
2012-09-03 16:20:00,232       33570 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 16:20:00,237       33575 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-03 16:20:00,248       33586 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 16:20:00,248       33586 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 16:20:00,258       33596 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 16:20:00,259       33597 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 16:20:00,260       33598 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 16:20:00,261       33599 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 16:20:01,632       34970 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:20:01,753       35091 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 4,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 16:20:01,798       35136 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-03 16:20:02,125       35463 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:20:04,983       38321 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-03 16:20:04,984       38322 [taskPrepareExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
com.rosettastone.succor.exception.ApplicationException: Can not parse Bandit message
	at com.rosettastone.succor.bandit.JsonToObjectConverter.setPropertyValue(JsonToObjectConverter.java:136)
	at com.rosettastone.succor.bandit.JsonToObjectConverter.convert(JsonToObjectConverter.java:56)
	at com.rosettastone.succor.bandit.EventParser.parse(EventParser.java:118)
	at com.rosettastone.succor.mdp.MessagePreProcessor.prepareMessage(MessagePreProcessor.java:80)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.rosettastone.succor.bandit.JsonToObjectConverter.setPropertyValue(JsonToObjectConverter.java:130)
	... 18 more
Caused by: java.lang.NullPointerException
	at com.rosettastone.succor.model.bandit.StudioReminderMessage.setNumberOfSeats(StudioReminderMessage.java:81)
	... 23 more
2012-09-03 16:20:05,009       38347 [taskPrepareExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #50 | exception com.rosettastone.succor.exception.ApplicationException
2012-09-03 16:20:05,464       38802 [taskPrepareExecutorThread] DEBUG (TaskExecutor.java:245) - Set next run time for task:50
2012-09-03 16:20:07,130       40468 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:20:12,132       45470 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:21:55,457           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 16:21:56,824        1367 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 16:21:56,951        1494 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 16:21:56,954        1497 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 16:21:56,955        1498 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 16:21:56,958        1501 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 16:21:56,960        1503 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 16:21:56,961        1504 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 16:21:56,961        1504 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 16:22:19,763       24306 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 16:22:20,149       24692 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:22:20,150       24693 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:22:20,153       24696 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:22:20,153       24696 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:22:20,155       24698 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:22:20,164       24707 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:22:20,205       24748 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:22:20,205       24748 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:22:20,212       24755 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:22:20,216       24759 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:22:20,308       24851 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 16:22:20,308       24851 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 16:22:20,309       24852 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 16:22:20,309       24852 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 16:22:25,135       29678 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:22:30,148       34691 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:22:30,253       34796 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 4,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 16:22:30,290       34833 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:22:30,399       34942 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:22:30,420       34963 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:22:35,254       39797 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:22:35,254       39797 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@125ee71

2012-09-03 16:22:35,255       39798 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 16:22:35,255       39798 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 16:22:35,255       39798 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 16:22:35,255       39798 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 16:22:35,401       39944 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:22:37,630       42173 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 16:22:37,817       42360 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:92) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:22:37,819       42362 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:22:40,404       44947 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:22:45,406       49949 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:22:50,409       54952 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:22:55,411       59954 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:25:49,868           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 16:25:51,062        1194 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 16:25:51,181        1313 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 16:25:51,184        1316 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 16:25:51,185        1317 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 16:25:51,188        1320 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 16:25:51,190        1322 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 16:25:51,191        1323 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 16:25:51,191        1323 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 16:26:13,697       23829 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 16:26:14,083       24215 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:26:14,085       24217 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:26:14,086       24218 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:26:14,086       24218 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:26:14,087       24219 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:26:14,093       24225 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:26:14,097       24229 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:26:14,101       24233 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:26:14,148       24280 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:26:14,149       24281 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:26:14,268       24400 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 16:26:14,269       24401 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 16:26:14,272       24404 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 16:26:14,272       24404 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 16:26:14,295       24427 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:26:19,186       29318 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 4,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 16:26:19,191       29323 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:19,203       29335 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:19,298       29430 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:26:24,180       34312 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:24,181       34313 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@675039

2012-09-03 16:26:24,181       34313 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 16:26:24,181       34313 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 16:26:24,181       34313 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 16:26:24,182       34314 [taskRuleExecutorThread] INFO  (RulesInvoker.java:104) - Update drools rules.
2012-09-03 16:26:24,311       34443 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:26:24,486       34618 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:26:26,641       36773 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:107) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 16:26:26,851       36983 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:92) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:26,852       36984 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:29,316       39448 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 4,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 16:26:29,318       39450 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:29,324       39456 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:29,645       39777 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:26:31,925       42057 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:31,925       42057 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@618821

2012-09-03 16:26:31,925       42057 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:74) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 16:26:31,925       42057 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:79) - 4444444444444444[S5]
2012-09-03 16:26:31,925       42057 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 5555555555555555Grandfatheredfalse
2012-09-03 16:26:31,930       42062 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:92) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:31,931       42063 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:26:34,647       44779 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:33:54,875           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 16:33:56,054        1179 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 16:33:56,174        1299 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 16:33:56,177        1302 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 16:33:56,177        1302 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 16:33:56,181        1306 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 16:33:56,184        1309 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 16:33:56,185        1310 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 16:33:56,185        1310 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 16:34:18,943       24068 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 16:34:19,295       24420 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:34:19,296       24421 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:34:19,299       24424 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:34:19,299       24424 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:34:19,301       24426 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:34:19,302       24427 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:34:19,305       24430 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:34:19,307       24432 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 16:34:19,309       24434 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:34:19,309       24434 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 16:34:19,409       24534 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 16:34:19,409       24534 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 16:34:19,420       24545 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 16:34:19,420       24545 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 16:34:24,257       29382 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:34:29,261       34386 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:34:34,264       39389 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:34:34,388       39513 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:34:34,453       39578 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:75) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 4,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 16:34:34,458       39583 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:34:34,478       39603 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:34:39,392       44517 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:34:39,443       44568 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:34:39,444       44569 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@79404a

2012-09-03 16:34:39,444       44569 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 16:34:39,444       44569 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444[S5]
2012-09-03 16:34:39,444       44569 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-03 16:34:39,447       44572 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solonull
2012-09-03 16:34:39,447       44572 [taskRuleExecutorThread] DEBUG (StudioReminderMessage.java:94) - MMMMMMMMMMMMMMMMMMMMMMMfalse
2012-09-03 16:34:39,447       44572 [taskRuleExecutorThread] DEBUG (StudioReminderMessage.java:99) - MMMMMMMMMMMMMMMMMMMMMMMNNNNNNNNNNNNNNNN4
2012-09-03 16:34:39,447       44572 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats4
2012-09-03 16:34:39,447       44572 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-03 16:34:41,722       46847 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 16:34:41,913       47038 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:34:41,914       47039 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 16:34:44,394       49519 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 16:34:49,399       54524 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:09:34,662           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 17:09:35,837        1175 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 17:09:35,948        1286 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 17:09:35,951        1289 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 17:09:35,952        1290 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 17:09:35,955        1293 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 17:09:35,957        1295 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 17:09:35,958        1296 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 17:09:35,958        1296 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 17:09:58,633       23971 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 17:09:58,985       24323 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:09:58,988       24326 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:09:58,991       24329 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:09:58,989       24327 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:09:58,994       24332 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:09:58,993       24331 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:09:58,993       24331 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:09:59,045       24383 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:09:59,045       24383 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:09:59,046       24384 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:09:59,133       24471 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 17:09:59,133       24471 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 17:09:59,136       24474 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 17:09:59,137       24475 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 17:10:00,001       25339 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 17:10:00,004       25342 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 17:10:00 IST 2012
2012-09-03 17:10:00,157       25495 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 17:10:00,158       25496 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-03 17:10:00,170       25508 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 17:10:00,170       25508 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 17:10:00,183       25521 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 17:10:00,184       25522 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 17:10:00,185       25523 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 17:10:00,186       25524 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 17:10:04,047       29385 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:09,050       34388 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:14,052       39390 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:19,055       44393 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:24,057       49395 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:29,060       54398 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:34,066       59404 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:39,069       64407 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:44,072       69410 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:44,182       69520 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:49,115       74453 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 4,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 17:10:49,119       74457 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:10:49,130       74468 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:10:49,186       74524 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:54,094       79432 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:10:54,094       79432 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@32087b

2012-09-03 17:10:54,095       79433 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 17:10:54,095       79433 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444[S5]
2012-09-03 17:10:54,095       79433 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-03 17:10:54,095       79433 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-03 17:10:54,095       79433 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats4
2012-09-03 17:10:54,095       79433 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-03 17:10:54,188       79526 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:10:56,372       81710 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 17:10:56,698       82036 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:10:56,699       82037 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:10:59,191       84529 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:11:00,004       85342 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 17:11:00,004       85342 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 17:11:00,005       85343 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 17:11:00,006       85344 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 17:11:00,006       85344 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 17:11:00,007       85345 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 17:12:46,282           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-03 17:12:47,440        1158 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-03 17:12:47,553        1271 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-03 17:12:47,556        1274 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-03 17:12:47,556        1274 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-03 17:12:47,559        1277 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-03 17:12:47,562        1280 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-03 17:12:47,562        1280 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-03 17:12:47,563        1281 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-03 17:13:11,426       25144 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-03 17:13:11,786       25504 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:13:11,787       25505 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:13:11,789       25507 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:13:11,790       25508 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:13:11,792       25510 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:13:11,794       25512 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:13:11,795       25513 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:13:11,796       25514 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:13:11,801       25519 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-03 17:13:11,802       25520 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-03 17:13:11,917       25635 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-03 17:13:11,917       25635 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-03 17:13:11,920       25638 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-03 17:13:11,920       25638 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-03 17:13:16,740       30458 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:13:21,742       35460 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:13:26,745       40463 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:13:31,747       45465 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:13:36,750       50468 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:13:41,752       55470 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:13:46,755       60473 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:13:51,757       65475 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:13:56,760       70478 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:00,004       73722 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 17:14:00,004       73722 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 17:14:00,014       73732 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 17:14:00,015       73733 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 17:14:00,016       73734 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 17:14:00,016       73734 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 17:14:00,017       73735 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-03 17:14:00,020       73738 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Fri Aug 03 17:14:00 IST 2012
2012-09-03 17:14:00,190       73908 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-03 17:14:01,762       75480 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:06,765       80483 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:11,767       85485 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:16,779       90497 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:16,934       90652 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:16,952       90670 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 1,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-03 17:14:16,965       90683 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:14:16,975       90693 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:14:21,962       95680 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:21,977       95695 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:14:21,977       95695 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1d4f279

2012-09-03 17:14:21,977       95695 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-03 17:14:21,977       95695 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444[S5]
2012-09-03 17:14:21,978       95696 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-03 17:14:21,978       95696 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-03 17:14:21,978       95696 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-03 17:14:21,978       95696 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-03 17:14:24,380       98098 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-03 17:14:24,579       98297 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:14:26,936      100654 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:14:26,965      100683 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:27,103      100821 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-03 17:14:27,179      100897 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-03 17:14:27,181      100899 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-03 17:14:31,967      105685 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:36,970      110688 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:41,971      115689 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:46,973      120691 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:51,975      125693 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:14:56,977      130695 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:00,004      133722 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-03 17:15:00,004      133722 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-03 17:15:00,005      133723 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-03 17:15:00,006      133724 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-03 17:15:00,007      133725 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-03 17:15:00,008      133726 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-03 17:15:01,978      135696 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:06,980      140698 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:11,982      145700 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:16,985      150703 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:21,986      155704 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:26,989      160707 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:31,991      165709 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:36,993      170711 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-03 17:15:41,994      175712 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:34:59,864           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 12:35:03,165        3301 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 12:35:03,318        3454 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 12:35:03,382        3518 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 12:35:03,383        3519 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 12:35:03,386        3522 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 12:35:03,388        3524 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 12:35:03,392        3528 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 12:35:03,392        3528 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 12:35:28,377       28513 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 12:35:28,914       29050 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:35:28,953       29089 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:35:28,955       29091 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:35:28,956       29092 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:35:28,965       29101 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:35:28,966       29102 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:35:28,989       29125 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:35:28,990       29126 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:35:28,995       29131 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:35:28,996       29132 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:35:29,203       29339 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 12:35:29,204       29340 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 12:35:29,207       29343 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 12:35:29,207       29343 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 12:35:34,009       34145 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:35:39,011       39147 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:35:44,014       44150 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:35:49,016       49152 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:35:54,019       54155 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:35:54,286       54422 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:35:59,288       59424 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:35:59,399       59535 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346674787,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 1,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-04 12:35:59,426       59562 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:190) - Skip message that is not actual.
2012-09-04 12:35:59,441       59577 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-04 12:36:00,002       60138 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 12:36:00,014       60150 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 12:36:00 IST 2012
2012-09-04 12:36:00,223       60359 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 12:36:00,223       60359 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 12:36:00,223       60359 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 12:36:00,234       60370 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 12:36:00,235       60371 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 12:36:00,235       60371 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 12:36:00,236       60372 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 12:36:04,291       64427 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:09,293       69429 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:14,296       74432 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:19,298       79434 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:24,301       84437 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:29,303       89439 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:34,306       94442 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:39,308       99444 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:44,311      104447 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:49,313      109449 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:54,316      114452 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:36:59,318      119454 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:37:00,005      120141 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 12:37:00,005      120141 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 12:37:00,006      120142 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 12:37:00,007      120143 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 12:37:00,008      120144 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 12:37:00,009      120145 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 12:37:04,321      124457 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:37:09,323      129459 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:37:14,326      134462 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:37:19,329      139465 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:37:24,332      144468 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:37:29,334      149470 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:37:34,337      154473 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:37:39,341      159477 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:42:03,217           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 12:42:15,702       12485 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 12:42:16,181       12964 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 12:42:16,336       13119 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 12:42:16,337       13120 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 12:42:16,341       13124 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 12:42:16,344       13127 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 12:42:16,438       13221 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 12:42:16,438       13221 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 12:42:49,553       46336 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 12:42:51,175       47958 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:42:51,382       48165 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:42:51,383       48166 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:42:51,384       48167 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:42:51,386       48169 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 12:42:51,390       48173 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:42:51,390       48173 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:42:51,390       48173 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:42:51,390       48173 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:42:51,390       48173 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 12:42:51,734       48517 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 12:42:51,735       48518 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 12:42:51,738       48521 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 12:42:51,738       48521 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 12:42:56,153       52936 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:00,002       56785 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 12:43:00,002       56785 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 12:43:00,013       56796 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 12:43:00,014       56797 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 12:43:00,015       56798 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 12:43:00,016       56799 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 12:43:01,156       57939 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:06,159       62942 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:11,161       67944 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:16,164       72947 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:21,166       77949 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:26,171       82954 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:26,508       83291 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:26,706       83489 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346752434,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 1,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-04 12:43:26,754       83537 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 12:43:26,771       83554 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 12:43:31,510       88293 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:31,799       88582 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 12:43:31,799       88582 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@18662b6

2012-09-04 12:43:31,799       88582 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-04 12:43:31,799       88582 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444[S5]
2012-09-04 12:43:31,799       88582 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-04 12:43:31,800       88583 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-04 12:43:31,800       88583 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-04 12:43:31,800       88583 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-04 12:43:36,513       93296 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:37,674       94457 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Non grandfathered and solo EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "New group session rule EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-04 12:43:38,589       95372 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 12:43:38,591       95374 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 12:43:41,515       98298 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:46,518      103301 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:51,520      108303 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:43:56,523      113306 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:00,004      116787 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 12:44:00,004      116787 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 12:44:00,005      116788 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 12:44:00,006      116789 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 12:44:00,007      116790 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 12:44:00,007      116790 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 12:44:00,008      116791 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 12:44:00,011      116794 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 12:44:00 IST 2012
2012-09-04 12:44:00,740      117523 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 12:44:01,525      118308 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:06,528      123311 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:11,530      128313 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:16,533      133316 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:21,535      138318 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:26,538      143321 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:31,540      148323 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:36,543      153326 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:41,545      158328 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:46,548      163331 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:51,550      168333 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 12:44:56,553      173336 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:04:52,540           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 13:04:55,455        2915 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 13:04:55,595        3055 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 13:04:55,648        3108 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 13:04:55,648        3108 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 13:04:55,651        3111 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 13:04:55,653        3113 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 13:04:55,657        3117 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 13:04:55,658        3118 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 13:05:19,850       27310 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 13:05:20,264       27724 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 13:05:20,276       27736 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 13:05:20,289       27749 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 13:05:20,293       27753 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 13:05:20,294       27754 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 13:05:20,296       27756 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 13:05:20,297       27757 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 13:05:20,296       27756 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 13:05:20,296       27756 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 13:05:20,301       27761 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 13:05:20,436       27896 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 13:05:20,436       27896 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 13:05:20,439       27899 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 13:05:20,439       27899 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 13:05:25,299       32759 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:05:30,301       37761 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:05:35,304       42764 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:05:35,416       42876 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346752434,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 1,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-04 13:05:35,421       42881 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 13:05:35,442       42902 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 13:05:35,449       42909 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:05:40,397       47857 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 13:05:40,397       47857 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@184b3b

2012-09-04 13:05:40,397       47857 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-04 13:05:40,397       47857 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444[S5]
2012-09-04 13:05:40,397       47857 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-04 13:05:40,397       47857 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-04 13:05:40,398       47858 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-04 13:05:40,398       47858 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-04 13:05:40,454       47914 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:05:42,622       50082 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Non grandfathered and solo EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "New group session rule EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-04 13:05:42,886       50346 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 13:05:45,396       52856 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 13:05:45,457       52917 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:05:45,920       53380 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-04 13:05:46,038       53498 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-04 13:05:46,040       53500 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 13:05:50,459       57919 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:05:55,462       62922 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 13:06:00,003       67463 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 13:06:00,006       67466 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 13:06:00 IST 2012
2012-09-04 13:06:00,050       67510 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 13:06:00,050       67510 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 13:06:00,051       67511 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 13:06:00,061       67521 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 13:06:00,062       67522 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 13:06:00,063       67523 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 13:06:00,063       67523 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 13:06:00,464       67924 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:46:23,948           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 16:46:25,646        1698 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 16:46:25,759        1811 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 16:46:25,762        1814 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 16:46:25,762        1814 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 16:46:25,765        1817 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 16:46:25,767        1819 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 16:46:25,768        1820 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 16:46:25,769        1821 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 16:46:49,926       25978 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 16:46:50,293       26345 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:46:50,300       26352 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:46:50,306       26358 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:46:50,307       26359 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:46:50,308       26360 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:46:50,310       26362 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:46:50,313       26365 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:46:50,314       26366 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:46:50,315       26367 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:46:50,315       26367 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:46:50,430       26482 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 16:46:50,430       26482 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 16:46:50,434       26486 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 16:46:50,434       26486 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 16:46:55,277       31329 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:00,001       36053 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 16:47:00,001       36053 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 16:47:00,025       36077 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 16:47:00,028       36080 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 16:47:00,030       36082 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 16:47:00,032       36084 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 16:47:00,279       36331 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:05,282       41334 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:10,284       46336 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:15,287       51339 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:20,289       56341 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:25,291       61343 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:30,293       66345 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:35,295       71347 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:40,297       76349 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:47:45,299       81351 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:48:49,305           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 16:48:50,427        1122 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 16:48:50,539        1234 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 16:48:50,542        1237 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 16:48:50,542        1237 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 16:48:50,545        1240 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 16:48:50,547        1242 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 16:48:50,548        1243 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 16:48:50,548        1243 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 16:49:14,592       25287 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 16:49:14,975       25670 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:49:14,976       25671 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:49:14,978       25673 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:49:14,979       25674 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:49:14,982       25677 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:49:14,984       25679 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:49:14,985       25680 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:49:14,987       25682 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:49:14,987       25682 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:49:14,987       25682 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:49:15,099       25794 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 16:49:15,099       25794 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 16:49:15,102       25797 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 16:49:15,103       25798 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 16:49:19,961       30656 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:49:24,963       35658 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:49:29,965       40660 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:49:34,967       45662 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:49:39,969       50664 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:54:13,286           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 16:54:14,416        1130 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 16:54:14,527        1241 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 16:54:14,530        1244 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 16:54:14,530        1244 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 16:54:14,533        1247 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 16:54:14,535        1249 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 16:54:14,536        1250 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 16:54:14,536        1250 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 16:54:38,265       24979 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 16:54:38,614       25328 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:54:38,615       25329 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:54:38,618       25332 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:54:38,618       25332 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:54:38,620       25334 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:54:38,622       25336 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:54:38,624       25338 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:54:38,624       25338 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:54:38,627       25341 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:54:38,630       25344 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:54:38,741       25455 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 16:54:38,741       25455 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 16:54:38,744       25458 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 16:54:38,744       25458 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 16:54:43,610       30324 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:54:48,612       35326 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:54:53,614       40328 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:54:58,616       45330 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:00,000       46714 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 16:55:00,000       46714 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 16:55:00,010       46724 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 16:55:00,011       46725 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 16:55:00,012       46726 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 16:55:00,013       46727 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 16:55:03,618       50332 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:08,620       55334 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:13,622       60336 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:18,624       65338 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:23,626       70340 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:28,628       75342 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:33,630       80344 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:38,632       85346 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:43,634       90348 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:48,636       95350 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:53,638      100352 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:58,640      105354 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:55:59,997      106711 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 16:56:00,000      106714 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 16:55:59 IST 2012
2012-09-04 16:56:00,168      106882 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 16:56:00,169      106883 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 16:56:00,169      106883 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 16:56:00,171      106885 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 16:56:00,172      106886 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 16:56:00,173      106887 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 16:56:00,173      106887 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 16:56:03,642      110356 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:03,798      110512 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:08,756      115470 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346752434,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 1,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-04 16:56:08,761      115475 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:190) - Skip message that is not actual.
2012-09-04 16:56:08,782      115496 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-04 16:56:08,801      115515 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:13,803      120517 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:18,805      125519 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:23,807      130521 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:28,809      135523 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:33,811      140525 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:38,813      145527 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:43,815      150529 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:48,817      155531 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:53,819      160533 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:58,821      165535 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:56:59,998      166712 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 16:56:59,998      166712 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 16:56:59,999      166713 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 16:57:00,000      166714 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 16:57:00,000      166714 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 16:57:00,001      166715 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 16:57:03,823      170537 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:57:08,824      175538 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:57:13,826      180540 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:58:26,696           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 16:58:27,844        1148 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 16:58:27,981        1285 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 16:58:27,984        1288 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 16:58:27,984        1288 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 16:58:27,988        1292 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 16:58:27,990        1294 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 16:58:27,991        1295 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 16:58:27,991        1295 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 16:58:50,539       23843 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 16:58:50,951       24255 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:58:50,953       24257 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:58:50,954       24258 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:58:50,955       24259 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:58:50,954       24258 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:58:50,957       24261 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:58:50,966       24270 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:58:50,970       24274 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 16:58:50,971       24275 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:58:50,973       24277 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 16:58:51,122       24426 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 16:58:51,122       24426 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 16:58:51,122       24426 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 16:58:51,123       24427 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 16:58:51,147       24451 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:58:51,196       24500 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:58:56,049       29353 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346752434,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 1,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-04 16:58:56,053       29357 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:190) - Skip message that is not actual.
2012-09-04 16:58:56,054       29358 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-04 16:58:56,133       29437 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346759000,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 1,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-04 16:58:56,134       29438 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 16:58:56,155       29459 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 16:58:56,200       29504 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:00,001       33305 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 16:59:00,001       33305 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 16:59:00,015       33319 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 16:59:00,016       33320 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 16:59:00,017       33321 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 16:59:00,017       33321 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 16:59:01,093       34397 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 16:59:01,093       34397 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1f102c1

2012-09-04 16:59:01,093       34397 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-04 16:59:01,093       34397 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444[S5]
2012-09-04 16:59:01,093       34397 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-04 16:59:01,094       34398 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-04 16:59:01,094       34398 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-04 16:59:01,094       34398 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-04 16:59:01,202       34506 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:03,380       36684 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Non grandfathered and solo EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "New group session rule EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-04 16:59:03,613       36917 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 16:59:06,043       39347 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 16:59:06,218       39522 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:06,567       39871 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-04 16:59:06,675       39979 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-04 16:59:06,677       39981 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 16:59:11,220       44524 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:16,223       49527 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:21,225       54529 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:26,229       59533 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:31,231       64535 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:36,234       69538 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:41,236       74540 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:46,240       79544 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:51,241       84545 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 16:59:56,243       89547 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:00,004       93308 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:00:00,004       93308 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:00:00,005       93309 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:00:00,006       93310 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:00:00,007       93311 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:00:00,007       93311 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:00:00,007       93311 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:00:00,011       93315 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:00:00 IST 2012
2012-09-04 17:00:00,057       93361 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:00:00,057       93361 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-04 17:00:01,244       94548 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:06,246       99550 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:11,247      104551 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:16,250      109554 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:21,252      114556 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:26,255      119559 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:31,256      124560 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:36,259      129563 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:41,260      134564 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:00:46,262      139566 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:02:09,548           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 17:02:10,694        1146 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 17:02:10,804        1256 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 17:02:10,807        1259 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 17:02:10,807        1259 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 17:02:10,810        1262 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 17:02:10,812        1264 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 17:02:10,813        1265 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 17:02:10,813        1265 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 17:02:34,190       24642 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 17:02:34,513       24965 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:02:34,515       24967 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:02:34,522       24974 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:02:34,524       24976 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:02:34,524       24976 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:02:34,525       24977 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:02:34,528       24980 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:02:34,530       24982 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:02:34,531       24983 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:02:34,531       24983 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:02:34,691       25143 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 17:02:34,691       25143 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 17:02:34,698       25150 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 17:02:34,698       25150 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 17:02:34,816       25268 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:02:39,653       30105 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346759000,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 10,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-04 17:02:39,667       30119 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:02:39,692       30144 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:02:39,818       30270 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:02:44,646       35098 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:02:44,646       35098 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@82f392

2012-09-04 17:02:44,647       35099 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-04 17:02:44,647       35099 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444[S5]
2012-09-04 17:02:44,647       35099 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-04 17:02:44,647       35099 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-04 17:02:44,647       35099 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats10
2012-09-04 17:02:44,647       35099 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-04 17:02:44,830       35282 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:02:47,213       37665 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Non grandfathered and solo EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "New group session rule EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-04 17:02:47,547       37999 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:02:49,655       40107 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:02:50,023       40475 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:02:50,078       40530 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-04 17:02:50,140       40592 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-04 17:02:50,142       40594 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:02:55,029       45481 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:03:00,002       50454 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:03:00,002       50454 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:03:00,013       50465 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:03:00,014       50466 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:03:00,015       50467 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:03:00,016       50468 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:03:00,031       50483 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:03:05,034       55486 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:03:10,036       60488 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:03:15,039       65491 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:03:20,041       70493 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:03:25,044       75496 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:03:30,046       80498 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:05:40,344           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-04 17:05:41,469        1125 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-04 17:05:41,583        1239 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-04 17:05:41,586        1242 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-04 17:05:41,586        1242 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-04 17:05:41,590        1246 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-04 17:05:41,592        1248 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-04 17:05:41,593        1249 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-04 17:05:41,593        1249 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-04 17:06:04,250       23906 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-04 17:06:04,588       24244 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:06:04,590       24246 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:06:04,593       24249 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:06:04,593       24249 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:06:04,595       24251 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:06:04,596       24252 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:06:04,599       24255 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:06:04,601       24257 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:06:04,612       24268 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-04 17:06:04,612       24268 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-04 17:06:04,771       24427 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 17:06:04,772       24428 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 17:06:04,775       24431 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-04 17:06:04,775       24431 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-04 17:06:04,826       24482 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:09,706       29362 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1346759000,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"number_of_seats": 10,
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-04 17:06:09,711       29367 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:06:09,724       29380 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:06:09,829       29485 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:14,701       34357 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:06:14,702       34358 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1c7bee2

2012-09-04 17:06:14,702       34358 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-04 17:06:14,702       34358 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444[S5]
2012-09-04 17:06:14,702       34358 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-04 17:06:14,702       34358 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-04 17:06:14,702       34358 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats10
2012-09-04 17:06:14,703       34359 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-04 17:06:14,843       34499 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:17,021       36677 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Non grandfathered and solo EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "New group session rule EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "session id test EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.uncancelled_session_no_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 705l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - U1 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "U1") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 76l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Reminder - 24 hours before session - S5 - Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-04 17:06:17,281       36937 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:06:19,706       39362 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:06:19,845       39501 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:20,092       39748 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-04 17:06:20,151       39807 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-04 17:06:20,152       39808 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-04 17:06:24,848       44504 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:29,851       49507 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:34,855       54511 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:39,857       59513 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:44,861       64517 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:49,863       69519 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:54,866       74522 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:06:59,868       79524 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:00,004       79660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:07:00,004       79660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:07:00,014       79670 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:07:00,015       79671 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:07:00,016       79672 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:07:00,017       79673 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:07:04,871       84527 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:09,873       89529 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:14,875       94531 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:19,877       99533 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:24,880      104536 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:29,884      109540 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:34,887      114543 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:39,892      119548 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:44,895      124551 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:49,896      129552 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:54,899      134555 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:07:59,901      139557 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:00,004      139660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:08:00,004      139660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:08:00,005      139661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:08:00,006      139662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:08:00,006      139662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:08:00,007      139663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:08:00,007      139663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:08:00,010      139666 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:08:00 IST 2012
2012-09-04 17:08:00,056      139712 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:08:04,904      144560 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:09,906      149562 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:14,909      154565 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:19,912      159568 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:24,916      164572 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:29,918      169574 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:34,921      174577 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:39,922      179578 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:44,924      184580 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:49,925      189581 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:54,927      194583 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:08:59,928      199584 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:00,004      199660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:09:00,004      199660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:09:00,005      199661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:09:00,006      199662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:09:00,006      199662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:09:00,007      199663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:09:04,930      204586 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:09,931      209587 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:14,933      214589 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:19,934      219590 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:24,936      224592 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:29,938      229594 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:34,940      234596 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:39,941      239597 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:44,943      244599 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:49,944      249600 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:54,946      254602 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:09:59,964      259620 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:00,004      259660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:10:00,004      259660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:10:00,005      259661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:10:00,005      259661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:10:00,006      259662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:10:00,007      259663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:10:00,007      259663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:10:00,007      259663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:10:00 IST 2012
2012-09-04 17:10:00,010      259666 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:10:00,013      259669 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-04 17:10:04,966      264622 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:09,967      269623 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:14,969      274625 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:19,970      279626 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:24,972      284628 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:29,973      289629 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:34,975      294631 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:39,976      299632 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:44,978      304634 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:49,979      309635 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:54,981      314637 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:10:59,982      319638 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:00,004      319660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:11:00,004      319660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:11:00,005      319661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:11:00,005      319661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:11:00,006      319662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:11:00,007      319663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:11:04,985      324641 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:09,986      329642 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:14,989      334645 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:19,991      339647 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:24,993      344649 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:29,994      349650 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:34,997      354653 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:40,001      359657 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:45,003      364659 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:50,004      369660 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:11:55,009      374665 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:00,004      379660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:12:00,004      379660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:12:00,005      379661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:12:00,005      379661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:12:00,006      379662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:12:00,007      379663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:12:00,007      379663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:12:00,007      379663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:12:00 IST 2012
2012-09-04 17:12:00,010      379666 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:00,010      379666 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:12:05,013      384669 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:10,014      389670 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:15,017      394673 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:20,018      399674 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:25,021      404677 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:30,022      409678 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:35,024      414680 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:40,025      419681 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:45,027      424683 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:50,028      429684 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:12:55,030      434686 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:00,004      439660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:13:00,004      439660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:13:00,005      439661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:13:00,005      439661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:13:00,006      439662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:13:00,007      439663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:13:00,031      439687 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:05,033      444689 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:10,034      449690 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:15,036      454692 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:20,037      459693 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:25,039      464695 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:30,040      469696 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:35,042      474698 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:40,043      479699 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:45,045      484701 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:50,046      489702 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:13:55,048      494704 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:00,004      499660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:14:00,004      499660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:14:00,005      499661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:14:00,005      499661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:14:00,006      499662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:14:00,007      499663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:14:00,007      499663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:14:00,007      499663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:14:00 IST 2012
2012-09-04 17:14:00,009      499665 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:14:00,049      499705 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:05,051      504707 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:10,052      509708 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:15,054      514710 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:20,055      519711 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:25,057      524713 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:30,058      529714 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:35,060      534716 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:40,061      539717 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:45,064      544720 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:50,065      549721 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:14:55,067      554723 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:00,004      559660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:15:00,004      559660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:15:00,005      559661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:15:00,005      559661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:15:00,006      559662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:15:00,006      559662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:15:00,068      559724 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:05,070      564726 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:10,071      569727 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:15,073      574729 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:20,074      579730 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:25,076      584732 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:30,077      589733 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:35,080      594736 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:40,081      599737 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:45,083      604739 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:50,084      609740 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:15:55,086      614742 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:00,004      619660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:16:00,004      619660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:16:00,005      619661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:16:00,006      619662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:16:00,006      619662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:16:00,007      619663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:16:00,007      619663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:16:00,007      619663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:16:00 IST 2012
2012-09-04 17:16:00,010      619666 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:16:00,087      619743 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:05,089      624745 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:10,090      629746 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:15,092      634748 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:20,093      639749 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:25,095      644751 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:30,096      649752 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:35,098      654754 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:40,099      659755 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:45,101      664757 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:50,102      669758 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:16:55,104      674760 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:00,004      679660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:17:00,004      679660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:17:00,005      679661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:17:00,005      679661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:17:00,006      679662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:17:00,007      679663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:17:00,105      679761 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:05,108      684764 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:10,109      689765 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:15,111      694767 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:20,112      699768 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:25,114      704770 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:30,115      709771 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:35,117      714773 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:40,119      719775 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:45,121      724777 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:50,122      729778 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:17:55,124      734780 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:00,004      739660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:18:00,004      739660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:18:00,005      739661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:18:00,005      739661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:18:00,006      739662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:18:00,007      739663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:18:00,007      739663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:18:00,007      739663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:18:00 IST 2012
2012-09-04 17:18:00,010      739666 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:18:00,125      739781 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:05,127      744783 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:10,128      749784 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:15,131      754787 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:20,132      759788 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:25,134      764790 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:30,135      769791 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:35,137      774793 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:40,138      779794 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:45,140      784796 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:50,142      789798 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:18:55,144      794800 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:00,004      799660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:19:00,004      799660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:19:00,005      799661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:19:00,005      799661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:19:00,006      799662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:19:00,006      799662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:19:00,145      799801 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:05,147      804803 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:10,148      809804 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:15,150      814806 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:20,151      819807 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:25,154      824810 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:30,155      829811 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:35,157      834813 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:40,158      839814 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:45,160      844816 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:50,161      849817 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:19:55,163      854819 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:00,004      859660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:20:00,004      859660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:20:00,005      859661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:20:00,005      859661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:20:00,006      859662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:20:00,006      859662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:20:00,006      859662 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:20:00,007      859663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:20:00 IST 2012
2012-09-04 17:20:00,009      859665 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:20:00,032      859688 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-04 17:20:00,165      859821 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:05,176      864832 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:10,177      869833 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:15,179      874835 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:20,180      879836 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:25,182      884838 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:30,184      889840 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:35,186      894842 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:40,187      899843 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:45,189      904845 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:50,190      909846 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:20:55,192      914848 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:00,004      919660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:21:00,004      919660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:21:00,005      919661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:21:00,005      919661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:21:00,006      919662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:21:00,007      919663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:21:00,193      919849 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:05,210      924866 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:10,212      929868 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:15,214      934870 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:20,215      939871 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:25,217      944873 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:30,218      949874 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:35,220      954876 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:40,221      959877 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:45,223      964879 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:50,224      969880 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:21:55,226      974882 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:00,004      979660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:22:00,004      979660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:22:00,005      979661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:22:00,006      979662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:22:00,006      979662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:22:00,007      979663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:22:00,007      979663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:22:00,007      979663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:22:00 IST 2012
2012-09-04 17:22:00,009      979665 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:22:00,227      979883 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:04,823      984479 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-04 17:22:04,823      984479 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-04 17:22:05,229      984885 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:10,230      989886 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:15,232      994888 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:20,233      999889 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:25,235     1004891 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:30,236     1009892 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:35,238     1014894 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:40,239     1019895 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:45,241     1024897 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:50,242     1029898 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:22:55,244     1034900 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:00,004     1039660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:23:00,004     1039660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:23:00,005     1039661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:23:00,005     1039661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:23:00,006     1039662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:23:00,007     1039663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:23:00,245     1039901 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:05,248     1044904 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:10,249     1049905 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:15,251     1054907 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:20,252     1059908 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:25,255     1064911 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:30,256     1069912 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:35,258     1074914 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:40,259     1079915 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:45,261     1084917 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:50,262     1089918 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:23:55,264     1094920 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:00,004     1099660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:24:00,004     1099660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:24:00,005     1099661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:24:00,006     1099662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:24:00,006     1099662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:24:00,007     1099663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:24:00,007     1099663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:24:00,007     1099663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:24:00 IST 2012
2012-09-04 17:24:00,010     1099666 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:24:00,265     1099921 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:05,268     1104924 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:10,269     1109925 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:15,272     1114928 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:20,274     1119930 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:25,276     1124932 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:30,277     1129933 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:35,280     1134936 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:40,281     1139937 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:45,284     1144940 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:50,286     1149942 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:24:55,289     1154945 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:00,004     1159660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:25:00,004     1159660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:25:00,005     1159661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:25:00,005     1159661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:25:00,006     1159662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:25:00,007     1159663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:25:00,290     1159946 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:05,293     1164949 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:10,294     1169950 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:15,297     1174953 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:20,298     1179954 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:25,300     1184956 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:30,302     1189958 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:35,310     1194966 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:40,312     1199968 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:45,315     1204971 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:50,316     1209972 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:25:55,319     1214975 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:00,004     1219660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:26:00,004     1219660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:26:00,005     1219661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:26:00,006     1219662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:26:00,006     1219662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:26:00,007     1219663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:26:00,007     1219663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:26:00,008     1219664 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:26:00 IST 2012
2012-09-04 17:26:00,010     1219666 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:26:00,320     1219976 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:05,322     1224978 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:10,323     1229979 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:15,325     1234981 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:20,327     1239983 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:25,330     1244986 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:30,331     1249987 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:35,333     1254989 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:40,335     1259991 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:45,337     1264993 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:50,338     1269994 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:26:55,340     1274996 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:00,004     1279660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:27:00,004     1279660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:27:00,005     1279661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:27:00,005     1279661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:27:00,006     1279662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:27:00,006     1279662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:27:00,341     1279997 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:05,343     1284999 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:10,344     1290000 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:15,347     1295003 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:20,348     1300004 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:25,351     1305007 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:30,352     1310008 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:35,354     1315010 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:40,355     1320011 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:45,357     1325013 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:50,358     1330014 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:27:55,361     1335017 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:00,005     1339661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:28:00,005     1339661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:28:00,006     1339662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:28:00,006     1339662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:28:00,007     1339663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:28:00,007     1339663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:28:00,008     1339664 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:28:00,008     1339664 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:28:00 IST 2012
2012-09-04 17:28:00,010     1339666 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:28:00,362     1340018 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:05,364     1345020 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:10,365     1350021 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:15,367     1355023 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:20,368     1360024 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:25,370     1365026 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:30,371     1370027 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:35,373     1375029 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:40,375     1380031 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:45,377     1385033 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:50,378     1390034 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:28:55,380     1395036 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:00,004     1399660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:29:00,004     1399660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:29:00,005     1399661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:29:00,005     1399661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:29:00,006     1399662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:29:00,006     1399662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:29:00,381     1400037 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:05,384     1405040 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:10,385     1410041 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:15,388     1415044 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:20,389     1420045 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:25,392     1425048 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:30,393     1430049 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:35,396     1435052 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:40,398     1440054 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:45,401     1445057 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:50,402     1450058 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:29:55,405     1455061 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:00,004     1459660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:30:00,004     1459660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:30:00,005     1459661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:30:00,005     1459661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:30:00,006     1459662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:30:00,006     1459662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:30:00,008     1459664 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:30:00,008     1459664 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:30:00 IST 2012
2012-09-04 17:30:00,011     1459667 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:30:00,033     1459689 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-04 17:30:00,407     1460063 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:05,410     1465066 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:10,412     1470068 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:15,414     1475070 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:20,416     1480072 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:25,418     1485074 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:30,419     1490075 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:35,421     1495077 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:40,423     1500079 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:45,425     1505081 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:50,426     1510082 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:30:55,428     1515084 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:00,004     1519660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:31:00,004     1519660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:31:00,005     1519661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:31:00,005     1519661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:31:00,006     1519662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:31:00,006     1519662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:31:00,429     1520085 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:05,431     1525087 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:10,432     1530088 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:15,435     1535091 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:20,436     1540092 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:25,438     1545094 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:30,439     1550095 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:35,441     1555097 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:40,442     1560098 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:45,445     1565101 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:50,446     1570102 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:31:55,448     1575104 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:00,004     1579660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:32:00,004     1579660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:32:00,005     1579661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:32:00,005     1579661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:32:00,006     1579662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:32:00,006     1579662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:32:00,007     1579663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:32:00,007     1579663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:32:00 IST 2012
2012-09-04 17:32:00,009     1579665 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:32:00,449     1580105 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:05,451     1585107 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:10,452     1590108 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:15,454     1595110 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:20,456     1600112 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:25,458     1605114 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:30,459     1610115 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:35,462     1615118 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:40,463     1620119 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:45,465     1625121 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:50,467     1630123 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:32:55,470     1635126 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:00,004     1639660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:33:00,004     1639660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:33:00,005     1639661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:33:00,006     1639662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:33:00,006     1639662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:33:00,007     1639663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:33:00,471     1640127 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:05,474     1645130 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:10,475     1650131 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:15,477     1655133 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:20,478     1660134 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:25,480     1665136 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:30,481     1670137 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:35,483     1675139 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:40,484     1680140 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:45,487     1685143 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:50,488     1690144 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:33:55,490     1695146 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:00,004     1699660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:34:00,004     1699660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:34:00,005     1699661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:34:00,005     1699661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:34:00,006     1699662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:34:00,006     1699662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:34:00,006     1699662 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:34:00,006     1699662 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:34:00 IST 2012
2012-09-04 17:34:00,009     1699665 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:34:00,491     1700147 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:05,493     1705149 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:10,494     1710150 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:15,496     1715152 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:20,497     1720153 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:25,499     1725155 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:30,500     1730156 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:35,502     1735158 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:40,526     1740182 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:45,529     1745185 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:50,530     1750186 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:34:55,532     1755188 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:00,004     1759660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:35:00,004     1759660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:35:00,005     1759661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:35:00,005     1759661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:35:00,006     1759662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:35:00,006     1759662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:35:00,533     1760189 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:05,535     1765191 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:10,536     1770192 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:15,538     1775194 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:20,539     1780195 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:25,541     1785197 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:30,543     1790199 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:35,545     1795201 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:40,546     1800202 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:45,548     1805204 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:50,549     1810205 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:35:55,551     1815207 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:00,004     1819660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:36:00,004     1819660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:36:00,005     1819661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:36:00,005     1819661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:36:00,006     1819662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:36:00,007     1819663 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:36:00,007     1819663 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-04 17:36:00,007     1819663 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 04 17:36:00 IST 2012
2012-09-04 17:36:00,009     1819665 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-04 17:36:00,553     1820209 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:05,555     1825211 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:10,556     1830212 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:15,558     1835214 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:20,559     1840215 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:25,562     1845218 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:30,563     1850219 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:35,565     1855221 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:40,567     1860223 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:45,572     1865228 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:50,573     1870229 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:36:55,575     1875231 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:37:00,004     1879660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-04 17:37:00,004     1879660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-04 17:37:00,005     1879661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-04 17:37:00,005     1879661 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-04 17:37:00,006     1879662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-04 17:37:00,006     1879662 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-04 17:37:00,576     1880232 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:37:05,578     1885234 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:37:10,579     1890235 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-04 17:37:15,582     1895238 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:48:35,641           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 14:48:38,875        3234 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 14:48:39,026        3385 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 14:48:39,089        3448 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 14:48:39,090        3449 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 14:48:39,093        3452 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 14:48:39,095        3454 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 14:48:39,104        3463 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 14:48:39,104        3463 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 14:49:07,095       31454 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 14:49:07,597       31956 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:49:07,626       31985 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:49:07,648       32007 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:49:07,649       32008 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:49:07,651       32010 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:49:07,652       32011 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:49:07,664       32023 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:49:07,665       32024 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:49:07,682       32041 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:49:07,683       32042 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:49:07,875       32234 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 14:49:07,877       32236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 14:49:07,888       32247 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 14:49:07,888       32247 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 14:49:12,682       37041 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:49:17,685       42044 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:49:22,688       47047 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:51:29,233           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 14:51:30,460        1227 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 14:51:30,573        1340 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 14:51:30,576        1343 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 14:51:30,576        1343 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 14:51:30,579        1346 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 14:51:30,582        1349 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 14:51:30,583        1350 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 14:51:30,583        1350 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 14:51:53,411       24178 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 14:51:53,750       24517 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:51:53,752       24519 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:51:53,755       24522 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:51:53,755       24522 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:51:53,758       24525 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:51:53,761       24528 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:51:53,764       24531 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:51:53,767       24534 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:51:53,802       24569 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:51:53,813       24580 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:51:53,890       24657 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 14:51:53,890       24657 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 14:51:53,895       24662 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 14:51:53,895       24662 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 14:51:58,766       29533 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:00,002       30769 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 14:52:00,002       30769 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 14:52:00,015       30782 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 14:52:00,017       30784 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 14:52:00,018       30785 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 14:52:00,018       30785 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 14:52:00,019       30786 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 14:52:00,022       30789 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 14:52:00 IST 2012
2012-09-06 14:52:00,183       30950 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 14:52:03,768       34535 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:08,771       39538 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:13,773       44540 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:13,950       44717 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:18,870       49637 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "CHI",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "no_coach_yes_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1347921710,
    "teacher_first_seen_at": 1346052662,
    "solo": true,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 14:52:18,905       49672 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:52:18,933       49700 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:52:18,972       49739 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:23,871       54638 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:52:23,872       54639 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@7ee46a

2012-09-06 14:52:23,872       54639 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage
2012-09-06 14:52:23,872       54639 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:77) - 22222222222222no_coach_yes_learner
2012-09-06 14:52:23,872       54639 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:78) - 33333333333333true
2012-09-06 14:52:23,872       54639 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[TOT]
2012-09-06 14:52:23,872       54639 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 14:52:23,873       54640 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 14:52:23,976       54743 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:26,446       57213 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:52:26,448       57215 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:52:28,986       59753 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:33,988       64755 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:52:38,997       69764 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:53:25,876           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 14:53:27,012        1136 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 14:53:27,123        1247 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 14:53:27,126        1250 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 14:53:27,126        1250 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 14:53:27,129        1253 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 14:53:27,131        1255 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 14:53:27,132        1256 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 14:53:27,132        1256 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 14:53:50,143       24267 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 14:53:50,490       24614 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:53:50,493       24617 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:53:50,495       24619 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:53:50,497       24621 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:53:50,498       24622 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:53:50,498       24622 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:53:50,502       24626 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:53:50,505       24629 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:53:50,507       24631 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:53:50,510       24634 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:53:50,636       24760 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 14:53:50,637       24761 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 14:53:50,638       24762 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 14:53:50,638       24762 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 14:53:55,508       29632 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:54:00,001       34125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 14:54:00,001       34125 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 14:54:00,012       34136 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 14:54:00,013       34137 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 14:54:00,014       34138 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 14:54:00,016       34140 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 14:54:00,017       34141 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 14:54:00,020       34144 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 14:54:00 IST 2012
2012-09-06 14:54:00,170       34294 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 14:54:00,511       34635 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:54:05,513       39637 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:54:05,605       39729 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "CHI",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "no_coach_yes_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1347921710,
    "teacher_first_seen_at": 1346052662,
    "solo": true,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 14:54:05,611       39735 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:54:05,629       39753 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:54:05,712       39836 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:54:10,589       44713 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:54:10,589       44713 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1c8c58

2012-09-06 14:54:10,589       44713 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage
2012-09-06 14:54:10,590       44714 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:77) - 22222222222222reasonno_coach_yes_learner
2012-09-06 14:54:10,590       44714 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:78) - 33333333333333solotrue
2012-09-06 14:54:10,590       44714 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[TOT]
2012-09-06 14:54:10,590       44714 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 14:54:10,590       44714 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 14:54:10,855       44979 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:54:12,993       47117 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 14:54:13,140       47264 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:54:13,141       47265 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:54:15,889       50013 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:54:20,892       55016 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:54:25,894       60018 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:54:30,896       65020 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:57:25,299           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 14:57:26,456        1157 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 14:57:26,571        1272 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 14:57:26,574        1275 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 14:57:26,575        1276 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 14:57:26,578        1279 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 14:57:26,580        1281 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 14:57:26,581        1282 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 14:57:26,582        1283 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 14:57:49,824       24525 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 14:57:50,170       24871 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:57:50,171       24872 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:57:50,174       24875 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:57:50,174       24875 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:57:50,176       24877 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:57:50,177       24878 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:57:50,178       24879 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:57:50,181       24882 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:57:50,185       24886 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 14:57:50,235       24936 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 14:57:50,318       25019 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 14:57:50,319       25020 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 14:57:50,322       25023 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 14:57:50,322       25023 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 14:57:55,168       29869 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:58:00,001       34702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 14:58:00,004       34705 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 14:58:00 IST 2012
2012-09-06 14:58:00,155       34856 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 14:58:00,156       34857 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 14:58:00,156       34857 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 14:58:00,166       34867 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 14:58:00,168       34869 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 14:58:00,169       34870 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 14:58:00,170       34871 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 14:58:00,171       34872 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:58:00,293       34994 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "CHI",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "no_coach_yes_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1347921710,
    "teacher_first_seen_at": 1346052662,
    "solo": true,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 14:58:00,307       35008 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:58:00,362       35063 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:58:00,471       35172 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:58:05,287       39988 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:58:05,287       39988 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1789a96

2012-09-06 14:58:05,287       39988 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage
2012-09-06 14:58:05,287       39988 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:77) - 22222222222222reasonno_coach_yes_learner
2012-09-06 14:58:05,288       39989 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:78) - 33333333333333solotrue
2012-09-06 14:58:05,288       39989 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[TOT]
2012-09-06 14:58:05,288       39989 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 14:58:05,288       39989 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 14:58:05,621       40322 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:58:07,830       42531 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 14:58:08,122       42823 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:58:08,123       42824 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 14:58:10,638       45339 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:58:15,640       50341 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:58:20,643       55344 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:58:25,644       60345 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 14:58:30,647       65348 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:00:06,898           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 15:00:08,029        1131 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 15:00:08,143        1245 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 15:00:08,146        1248 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 15:00:08,146        1248 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 15:00:08,149        1251 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 15:00:08,151        1253 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 15:00:08,152        1254 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 15:00:08,152        1254 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 15:00:32,613       25715 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 15:00:32,960       26062 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:00:32,961       26063 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:00:32,963       26065 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:00:32,967       26069 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:00:32,970       26072 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:00:32,970       26072 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:00:32,971       26073 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:00:32,975       26077 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:00:32,981       26083 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:00:32,983       26085 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:00:33,095       26197 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 15:00:33,095       26197 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 15:00:33,099       26201 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 15:00:33,099       26201 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 15:00:37,990       31092 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:00:38,117       31219 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "CHI",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "no_coach_yes_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1347921710,
    "teacher_first_seen_at": 1346052662,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 15:00:38,125       31227 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:00:38,138       31240 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:00:38,138       31240 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:00:43,102       36204 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:00:43,102       36204 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@9bfee2

2012-09-06 15:00:43,102       36204 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage
2012-09-06 15:00:43,102       36204 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:77) - 22222222222222reasonno_coach_yes_learner
2012-09-06 15:00:43,102       36204 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:78) - 33333333333333solotrue
2012-09-06 15:00:43,103       36205 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[TOT]
2012-09-06 15:00:43,103       36205 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 15:00:43,103       36205 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 15:00:43,143       36245 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:00:45,400       38502 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 15:00:45,563       38665 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:00:45,565       38667 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:00:48,156       41258 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:00:53,158       46260 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:00:58,160       51262 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:01:00,001       53103 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 15:01:00,001       53103 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 15:01:00,011       53113 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 15:01:00,012       53114 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 15:01:00,013       53115 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 15:01:00,014       53116 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 15:03:16,702           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 15:03:17,833        1131 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 15:03:17,944        1242 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 15:03:17,947        1245 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 15:03:17,947        1245 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 15:03:17,950        1248 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 15:03:17,953        1251 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 15:03:17,954        1252 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 15:03:17,954        1252 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 15:03:40,253       23551 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 15:03:40,621       23919 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:03:40,622       23920 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:03:40,627       23925 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:03:40,628       23926 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:03:40,633       23931 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:03:40,635       23933 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:03:40,638       23936 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:03:40,639       23937 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 15:03:40,640       23938 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:03:40,642       23940 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 15:03:40,773       24071 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 15:03:40,774       24072 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 15:03:40,777       24075 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 15:03:40,777       24075 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 15:03:45,658       28956 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:03:50,660       33958 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:03:55,662       38960 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:04:00,000       43298 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 15:04:00,003       43301 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 15:04:00 IST 2012
2012-09-06 15:04:00,152       43450 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 15:04:00,153       43451 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 15:04:00,153       43451 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 15:04:00,167       43465 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 15:04:00,169       43467 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 15:04:00,170       43468 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 15:04:00,171       43469 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 15:04:00,664       43962 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:04:05,665       48963 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:04:05,781       49079 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "CHI",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "no_coach_yes_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1347921710,
    "teacher_first_seen_at": 1346052662,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 15:04:05,787       49085 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:04:05,802       49100 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:04:05,920       49218 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:04:10,769       54067 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:04:10,769       54067 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@5b84b

2012-09-06 15:04:10,770       54068 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage
2012-09-06 15:04:10,770       54068 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:77) - 22222222222222reasonno_coach_yes_learner
2012-09-06 15:04:10,770       54068 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:78) - 33333333333333solofalse
2012-09-06 15:04:10,771       54069 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[TOT]
2012-09-06 15:04:10,771       54069 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 15:04:10,771       54069 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 15:04:11,034       54332 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:04:13,017       56315 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 15:04:13,321       56619 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:04:15,766       59064 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:04:15,936       59234 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 15:04:16,068       59366 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 15:04:16,955       60253 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 15:04:16,955       60253 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-06 15:04:19,924       63222 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-06 15:04:19,925       63223 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 21 more
2012-09-06 15:04:19,944       63242 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #91 | exception org.springframework.mail.MailSendException
2012-09-06 20:15:20,422           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 20:15:23,028        2606 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 20:15:23,138        2716 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 20:15:23,185        2763 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 20:15:23,185        2763 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 20:15:23,185        2763 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 20:15:23,185        2763 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 20:15:23,201        2779 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 20:15:23,201        2779 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 20:15:27,038        6616 [main] ERROR (JDBCExceptionReporter.java:101) - IO Error: The Network Adapter could not establish the connection
2012-09-06 20:15:28,287        7865 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 20:15:28,850        8428 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:15:28,881        8459 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:15:28,897        8475 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:15:28,897        8475 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:15:28,897        8475 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:15:28,897        8475 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:15:28,897        8475 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:15:28,897        8475 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:15:28,897        8475 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:15:28,897        8475 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:15:29,225        8803 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 20:15:29,225        8803 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 20:15:29,240        8818 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 20:15:29,240        8818 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 20:15:29,661        9239 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 20:15:30,115        9693 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:15:31,129       10707 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 20:15:31,129       10707 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-06 20:15:58,993           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 20:16:00,132        1139 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 20:16:00,242        1249 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 20:16:00,242        1249 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 20:16:00,242        1249 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 20:16:00,242        1249 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 20:16:00,242        1249 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 20:16:00,242        1249 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 20:16:00,242        1249 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 20:16:13,909       14916 [main] ERROR (JDBCExceptionReporter.java:101) - IO Error: The Network Adapter could not establish the connection
2012-09-06 20:16:14,378       15385 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 20:16:14,612       15619 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:16:14,627       15634 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:16:14,627       15634 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:16:14,627       15634 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:16:14,627       15634 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:16:14,627       15634 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:16:14,627       15634 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:16:14,643       15650 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:16:14,643       15650 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:16:14,643       15650 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:16:14,861       15868 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 20:16:14,861       15868 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 20:16:14,861       15868 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 20:16:14,861       15868 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 20:16:14,924       15931 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 20:16:15,112       16119 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:16:16,142       17149 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 20:16:16,142       17149 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-06 20:16:18,904       19911 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-06 20:16:18,904       19911 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 21 more
2012-09-06 20:16:18,936       19943 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #91 | exception org.springframework.mail.MailSendException
2012-09-06 20:16:19,654       20661 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:16:19,966       20973 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-06 20:16:21,480       22487 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-06 20:16:21,480       22487 [taskEmailExecutorThread] ERROR (CancelTaskExceptionHandler.java:27) - Exception catched
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.backgroundtask.impl.EmailSender.sendEmail(EmailSender.java:59)
	at com.rosettastone.succor.backgroundtask.impl.CancelTaskExceptionHandler.doHandleException(CancelTaskExceptionHandler.java:20)
	at com.rosettastone.succor.backgroundtask.impl.AbstractExceptionHandler.handleException(AbstractExceptionHandler.java:19)
	at com.rosettastone.succor.backgroundtask.impl.AbstractDelegatExceptionHandler.handleException(AbstractDelegatExceptionHandler.java:12)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.catchExecutionException(TaskExecutor.java:227)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:115)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 17 more
2012-09-06 20:16:24,976       25983 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:16:29,985       30992 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:16:34,993       36000 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:16:40,002       41009 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:16:45,027       46034 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:16:50,036       51043 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:16:55,044       56051 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:00,022       61029 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:17:00,022       61029 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:17:00,022       61029 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:17:00,022       61029 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:17:00,022       61029 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:17:00,023       61030 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:17:00,039       61046 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:05,063       66070 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:10,072       71079 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:15,081       76088 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:20,090       81097 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:25,114       86121 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:30,123       91130 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:30,249       91256 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:35,023       96030 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
    "customer_data": {
        "email": "test75166@rs.com",
        "guid": "931e3b0b-0ec5-41d0-8f6d-33acc7fea641",
        "last_name": "Pickle",
        "last_viewed_locale": "en-US",
        "contact_phone_country_code": null,
        "address_line_1": null,
        "contact_phone_number": null,
        "address_line_2": null,
        "country_iso": 826,
        "state_province": null,
        "city": null,
        "postal_code": null,
        "support_language_iso": "en-US",
        "time_zone": "America/New_York",
        "first_name": "Reginald",
        "institutional": false
    },
    "license_data": {
        "test_license": true,
        "product_rights": [
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "application",
                "rs_language_code": "GRK"
            },
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "eschool",
                "rs_language_code": "GRK"
            },
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "premium_community",
                "rs_language_code": "GRK"
            }
        ],
        "creation_account_type": "FamilyCreationAccount",
        "creation_account_guid": "32f70a54-7e35-45ff-b4b5-871ea032be27",
        "upgraded_at": 1339424418
    },
    "header": {
        "hostname": "stgdeploy1",
        "created_at": 1346941318,
        "schema_version": 1,
        "message_type": "expiring_subscription_message"
    },
    "message": {
        "guid": "931e3b0b-0ec5-41d0-8f6d-33acc7fea641",
        "days": 4,
        "expiration_time": 1347286800,
        "family": "premium_community",
        "rs_language_code": "GRK",
        "iso_language_code": "el-GR"
    }
}

2012-09-06 20:17:35,023       96030 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:17:35,055       96062 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:17:35,258       96265 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:40,032      101039 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:17:40,032      101039 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@15bc066

2012-09-06 20:17:40,032      101039 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage
2012-09-06 20:17:40,032      101039 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[L1]
2012-09-06 20:17:40,032      101039 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 20:17:40,032      101039 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 20:17:40,267      101274 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:43,309      104316 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 20:17:43,544      104551 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:17:43,544      104551 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:17:45,275      106282 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:50,284      111291 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:17:55,293      116300 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:18:00,021      121028 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 20:18:00,021      121028 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 20:18:00 IST 2012
2012-09-06 20:18:00,116      121123 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 20:18:00,116      121123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:18:00,116      121123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:18:00,116      121123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:18:00,116      121123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:18:00,116      121123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:18:00,116      121123 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:18:00,303      121310 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:18:05,327      126334 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:18:10,335      131342 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:18:15,344      136351 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:18:20,353      141360 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:19:23,660           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 20:19:24,783        1123 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 20:19:24,893        1233 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 20:19:24,893        1233 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 20:19:24,893        1233 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 20:19:24,909        1249 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 20:19:24,909        1249 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 20:19:24,909        1249 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 20:19:24,909        1249 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 20:19:48,700       25040 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 20:19:49,044       25384 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:19:49,044       25384 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:19:49,060       25400 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:19:49,060       25400 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:19:49,060       25400 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:19:49,060       25400 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:19:49,060       25400 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:19:49,060       25400 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:19:49,075       25415 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:19:49,075       25415 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:19:49,200       25540 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 20:19:49,200       25540 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 20:19:49,200       25540 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 20:19:49,216       25556 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 20:19:54,083       30423 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:19:59,092       35432 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:20:00,013       36353 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:20:00,013       36353 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:20:00,029       36369 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:20:00,029       36369 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:20:00,029       36369 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:20:00,029       36369 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:20:00,029       36369 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 20:20:00,029       36369 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 20:20:00 IST 2012
2012-09-06 20:20:00,310       36650 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 20:20:00,310       36650 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-06 20:20:04,102       40442 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:20:04,196       40536 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:20:04,274       40614 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
    "customer_data": {
        "email": "test75166@rs.com",
        "guid": "931e3b0b-0ec5-41d0-8f6d-33acc7fea641",
        "last_name": "Pickle",
        "last_viewed_locale": "en-US",
        "contact_phone_country_code": null,
        "address_line_1": null,
        "contact_phone_number": null,
        "address_line_2": null,
        "country_iso": 826,
        "state_province": null,
        "city": null,
        "postal_code": null,
        "support_language_iso": "en-US",
        "time_zone": "America/New_York",
        "first_name": "Reginald",
        "institutional": false
    },
    "license_data": {
        "test_license": true,
        "product_rights": [
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "application",
                "rs_language_code": "GRK"
            },
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "eschool",
                "rs_language_code": "GRK"
            },
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "premium_community",
                "rs_language_code": "GRK"
            }
        ],
        "creation_account_type": "FamilyCreationAccount",
        "creation_account_guid": "32f70a54-7e35-45ff-b4b5-871ea032be27",
        "upgraded_at": 1339424418
    },
    "header": {
        "hostname": "stgdeploy1",
        "created_at": 1346941318,
        "schema_version": 1,
        "message_type": "expiring_subscription_message"
    },
    "message": {
        "guid": "931e3b0b-0ec5-41d0-8f6d-33acc7fea641",
        "days": 4,
        "expiration_time": 1347286800,
        "family": "premium_community",
        "rs_language_code": "GRK",
        "iso_language_code": "el-GR"
    }
}

2012-09-06 20:20:04,274       40614 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:20:04,290       40630 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:20:09,204       45544 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:20:09,314       45654 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:20:09,314       45654 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@d6a0e0

2012-09-06 20:20:09,314       45654 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage
2012-09-06 20:20:09,314       45654 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[L1]
2012-09-06 20:20:09,314       45654 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 20:20:09,314       45654 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 20:20:11,701       48041 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 20:20:11,843       48183 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:20:11,858       48198 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:20:14,214       50554 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:20:19,223       55563 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:20:24,232       60572 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:20:29,241       65581 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:20:34,250       70590 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:23:47,445           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 20:23:48,818        1373 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 20:23:48,928        1483 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 20:23:48,928        1483 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 20:23:48,928        1483 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 20:23:48,928        1483 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 20:23:48,928        1483 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 20:23:48,928        1483 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 20:23:48,928        1483 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 20:24:11,752       24307 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 20:24:12,096       24651 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:24:12,096       24651 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:24:12,096       24651 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:24:12,096       24651 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:24:12,096       24651 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:24:12,096       24651 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:24:12,096       24651 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:24:12,096       24651 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:24:12,096       24651 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:24:12,111       24666 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:24:12,252       24807 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 20:24:12,252       24807 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 20:24:12,252       24807 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 20:24:12,252       24807 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 20:24:17,119       29674 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:22,128       34683 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:27,152       39707 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:27,262       39817 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1346953174,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 20:24:27,294       39849 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:24:27,356       39911 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:24:27,356       39911 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:32,239       44794 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:24:32,239       44794 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@184b3b

2012-09-06 20:24:32,239       44794 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-06 20:24:32,239       44794 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-06 20:24:32,254       44809 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 20:24:32,254       44809 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 20:24:32,396       44951 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:34,502       47057 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 20:24:34,659       47214 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:24:34,659       47214 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:24:37,405       49960 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:42,413       54968 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:47,423       59978 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:52,432       64987 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:24:57,441       69996 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:00,016       72571 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:25:00,016       72571 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:25:00,016       72571 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:25:00,016       72571 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:25:00,016       72571 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:25:00,017       72572 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:25:02,450       75005 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:07,459       80014 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:12,468       85023 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:17,508       90063 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:22,516       95071 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:27,525      100080 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:32,534      105089 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:37,543      110098 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:42,551      115106 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:47,560      120115 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:25:52,569      125124 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:46:08,176           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 20:46:09,522        1346 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 20:46:09,633        1457 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 20:46:09,635        1459 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 20:46:09,636        1460 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 20:46:09,639        1463 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 20:46:09,641        1465 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 20:46:09,642        1466 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 20:46:09,642        1466 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 20:46:32,244       24068 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 20:46:32,587       24411 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:46:32,598       24422 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:46:32,601       24425 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:46:32,602       24426 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:46:32,602       24426 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:46:32,604       24428 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:46:32,607       24431 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:46:32,607       24431 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:46:32,610       24434 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:46:32,611       24435 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:46:32,726       24550 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 20:46:32,726       24550 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 20:46:32,729       24553 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 20:46:32,729       24553 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 20:46:37,616       29440 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:46:42,619       34443 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:46:47,621       39445 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:46:52,624       44448 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:46:57,626       49450 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:46:57,768       49592 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": null,
    "country_iso": null,
    "first_name": null,
    "contact_phone_number": null,
    "last_name": null,
    "address_line_1": null,
    "support_language_iso": "en-US",
    "email": "ruschiuser@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "time_zone": "",
    "state_province": null
  },
  "header": {
    "created_at": 1346056271,
    "hostname": "stgrun002",
    "message_type": "studio_session_cancellation_message",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ru-RU",
    "eschool_session_id": 275647,
    "learner_first_seen_at": null,
    "unit": 1,
    "teacher_technical_problem": null,
    "cancelled_at": null,
    "rs_language_code": "CHI",
    "learner_technical_problem": false,
    "level": 1,
    "reason": "no_coach_yes_learner",
    "cancelled": false,
    "cancelled_by": null,
    "guid": "05273ae8-cf1c-4c90-bccd-ebf13e0b5fed",
    "session_start_time": 1346963910,
    "teacher_first_seen_at": 1346052662,
    "attendance_id": 36383
  },
  "license_data": {
    "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
    "product_rights": [
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "group_studio_consumable_product_right"
      },
      {
        "rs_language_code": "RUS",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "OnlineSubscriptionCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 20:46:57,782       49606 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 20:46:57,832       49656 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 20:46:57,899       49723 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1346963910,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 20:46:57,901       49725 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:46:57,907       49731 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:46:57,961       49785 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346963910,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
	"number_of_seats": 10,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 20:46:57,962       49786 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:46:57,973       49797 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:46:58,044       49868 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
    "customer_data": {
        "email": "test75166@rs.com",
        "guid": "931e3b0b-0ec5-41d0-8f6d-33acc7fea641",
        "last_name": "Pickle",
        "last_viewed_locale": "en-US",
        "contact_phone_country_code": null,
        "address_line_1": null,
        "contact_phone_number": null,
        "address_line_2": null,
        "country_iso": 826,
        "state_province": null,
        "city": null,
        "postal_code": null,
        "support_language_iso": "en-US",
        "time_zone": "America/New_York",
        "first_name": "Reginald",
        "institutional": false
    },
    "license_data": {
        "test_license": true,
        "product_rights": [
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "application",
                "rs_language_code": "GRK"
            },
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "eschool",
                "rs_language_code": "GRK"
            },
            {
                "content_ranges": [
                    "1-4"
                ],
                "family": "premium_community",
                "rs_language_code": "GRK"
            }
        ],
        "creation_account_type": "FamilyCreationAccount",
        "creation_account_guid": "32f70a54-7e35-45ff-b4b5-871ea032be27",
        "upgraded_at": 1339424418
    },
    "header": {
        "hostname": "stgdeploy1",
        "created_at": 1346941318,
        "schema_version": 1,
        "message_type": "expiring_subscription_message"
    },
    "message": {
        "guid": "931e3b0b-0ec5-41d0-8f6d-33acc7fea641",
        "days": 5,
        "expiration_time": 1347286800,
        "family": "premium_community",
        "rs_language_code": "GRK",
        "iso_language_code": "el-GR"
    }
}

2012-09-06 20:46:58,045       49869 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:46:58,050       49874 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:47:00,002       51826 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:47:00,002       51826 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:47:00,030       51854 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:47:00,031       51855 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:47:00,047       51871 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:47:00,051       51875 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:47:02,629       54453 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:02,761       54585 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:47:02,761       54585 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@36b1bb

2012-09-06 20:47:02,761       54585 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage
2012-09-06 20:47:02,761       54585 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[L1]
2012-09-06 20:47:02,761       54585 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 20:47:02,761       54585 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 20:47:05,369       57193 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Non grandfathered and solo EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "New group session rule EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "expiring EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ExpiringSubscriptionMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en") && (message.days == "5"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 701l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 20:47:05,591       57415 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:47:07,633       59457 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:07,734       59558 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 20:47:08,101       59925 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:47:08,261       60085 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-06 20:47:08,263       60087 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 05273ae8-cf1c-4c90-bccd-ebf13e0b5fed
2012-09-06 20:47:08,301       60125 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:47:08,340       60164 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:47:08,368       60192 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-06 20:47:08,369       60193 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:47:08,398       60222 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:47:08,400       60224 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:47:08,425       60249 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-06 20:47:08,426       60250 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:47:08,481       60305 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:47:08,483       60307 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:47:08,577       60401 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-06 20:47:08,578       60402 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:47:08,604       60428 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:47:08,606       60430 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:47:08,631       60455 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-06 20:47:08,632       60456 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 931e3b0b-0ec5-41d0-8f6d-33acc7fea641
2012-09-06 20:47:12,636       64460 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:17,638       69462 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:22,641       74465 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:27,643       79467 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:32,646       84470 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:37,648       89472 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:42,651       94475 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:47,653       99477 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:52,656      104480 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:47:57,658      109482 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:00,004      111828 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:48:00,004      111828 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:48:00,005      111829 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:48:00,006      111830 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:48:00,007      111831 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:48:00,009      111833 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:48:00,009      111833 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 20:48:00,010      111834 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 20:48:00 IST 2012
2012-09-06 20:48:00,083      111907 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 20:48:02,661      114485 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:07,665      119489 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:12,670      124494 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:17,672      129496 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:22,675      134499 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:27,677      139501 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:32,680      144504 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:37,682      149506 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:42,685      154509 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:47,687      159511 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:52,690      164514 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:48:57,692      169516 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:00,004      171828 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:49:00,004      171828 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:49:00,006      171830 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:49:00,007      171831 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:49:00,009      171833 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:49:00,010      171834 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:49:02,695      174519 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:07,697      179521 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:12,700      184524 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:17,702      189526 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:22,705      194529 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:27,708      199532 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:32,711      204535 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:37,713      209537 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:42,716      214540 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:47,717      219541 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:52,720      224544 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:49:57,722      229546 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:50:00,004      231828 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:50:00,004      231828 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:50:00,005      231829 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:50:00,007      231831 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:50:00,009      231833 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:50:00,010      231834 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:50:00,010      231834 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 20:50:00,011      231835 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 20:50:00 IST 2012
2012-09-06 20:50:00,029      231853 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 20:50:00,029      231853 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-06 20:50:02,724      234548 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:50:07,726      239550 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:50:12,728      244552 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:50:17,730      249554 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:51:11,930           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 20:51:13,063        1133 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 20:51:13,173        1243 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 20:51:13,176        1246 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 20:51:13,176        1246 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 20:51:13,179        1249 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 20:51:13,181        1251 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 20:51:13,182        1252 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 20:51:13,182        1252 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 20:51:35,618       23688 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 20:51:35,959       24029 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:51:35,963       24033 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:51:35,964       24034 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:51:35,965       24035 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:51:35,967       24037 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:51:35,968       24038 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:51:35,969       24039 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:51:35,972       24042 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:51:35,974       24044 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:51:35,975       24045 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:51:36,079       24149 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 20:51:36,080       24150 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 20:51:36,084       24154 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 20:51:36,084       24154 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 20:51:40,981       29051 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:51:45,983       34053 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:51:46,126       34196 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1346963910,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 20:51:46,134       34204 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:51:46,247       34317 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:51:46,265       34335 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:51:51,139       39209 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:51:51,139       39209 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1ab9dac

2012-09-06 20:51:51,139       39209 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-06 20:51:51,139       39209 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-06 20:51:51,139       39209 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-06 20:51:51,139       39209 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 20:51:51,268       39338 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:51:53,407       41477 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Non grandfathered and solo EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "New group session rule EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "expiring EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ExpiringSubscriptionMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en") && (message.days == "5"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 701l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 20:51:53,624       41694 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:51:56,105       44175 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:51:56,433       44503 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:51:56,523       44593 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:51:56,583       44653 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-06 20:51:56,584       44654 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:52:00,001       48071 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:52:00,001       48071 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:52:00,011       48081 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:52:00,012       48082 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:52:00,013       48083 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:52:00,014       48084 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:52:00,014       48084 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-06 20:52:00,017       48087 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 06 20:52:00 IST 2012
2012-09-06 20:52:00,063       48133 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-06 20:52:01,444       49514 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:52:06,446       54516 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:52:11,448       59518 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:52:16,450       64520 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:53:41,055           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-06 20:53:42,185        1130 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-06 20:53:42,296        1241 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-06 20:53:42,298        1243 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-06 20:53:42,299        1244 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-06 20:53:42,302        1247 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-06 20:53:42,304        1249 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-06 20:53:42,305        1250 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-06 20:53:42,305        1250 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-06 20:54:04,733       23678 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-06 20:54:05,074       24019 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:54:05,076       24021 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:54:05,078       24023 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:54:05,079       24024 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:54:05,081       24026 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:54:05,083       24028 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:54:05,085       24030 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:54:05,088       24033 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-06 20:54:05,085       24030 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:54:05,113       24058 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-06 20:54:05,214       24159 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-06 20:54:05,217       24162 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-06 20:54:05,218       24163 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-06 20:54:05,218       24163 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-06 20:54:10,088       29033 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:15,091       34036 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:15,230       34175 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:20,180       39125 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1346963910,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-06 20:54:20,185       39130 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:54:20,207       39152 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:54:20,231       39176 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:25,158       44103 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:54:25,159       44104 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@11ea3fc

2012-09-06 20:54:25,159       44104 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-06 20:54:25,159       44104 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-06 20:54:25,159       44104 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-06 20:54:25,160       44105 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-06 20:54:25,235       44180 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:27,389       46334 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Non grandfathered and solo EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "New group session rule EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "expiring EN"
	dialect "mvel"
	when
		$event : Event( eval(message is ExpiringSubscriptionMessage) && (customer.productNames contains "L1") && (internalSuccorData.supportLocale.language == "en") && (message.days == "5"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 701l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end

rule "Session Cancellation - Coach No-show - A Learner Attended - TOT - Phone Email EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSessionCancellationMessage) &&  (message.reason == SessionCancelReason.no_coach_yes_learner) && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 87l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-06 20:54:27,605       46550 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:54:30,212       49157 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:54:30,252       49197 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:30,551       49496 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-06 20:54:30,602       49547 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-06 20:54:30,604       49549 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-06 20:54:35,262       54207 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:40,264       59209 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:45,267       64212 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:50,269       69214 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:54:55,271       74216 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-06 20:55:00,004       78949 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-06 20:55:00,004       78949 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-06 20:55:00,014       78959 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-06 20:55:00,015       78960 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-06 20:55:00,016       78961 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-06 20:55:00,016       78961 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-06 20:55:00,273       79218 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:10:44,862           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-07 14:10:46,294        1432 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-07 14:10:46,405        1543 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-07 14:10:46,409        1547 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-07 14:10:46,409        1547 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-07 14:10:46,412        1550 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-07 14:10:46,414        1552 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-07 14:10:46,415        1553 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-07 14:10:46,415        1553 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-07 14:11:11,984       27122 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-07 14:11:12,336       27474 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:11:12,348       27486 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:11:12,350       27488 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:11:12,351       27489 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:11:12,353       27491 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:11:12,353       27491 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:11:12,354       27492 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:11:12,358       27496 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:11:12,360       27498 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:11:12,364       27502 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:11:12,486       27624 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-07 14:11:12,486       27624 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-07 14:11:12,487       27625 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-07 14:11:12,487       27625 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-07 14:11:17,326       32464 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:11:17,545       32683 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:11:22,441       37579 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
	"license_data": {
    	"test_license": true
  	},
    "header": {
        "message_type": "first_completed_studio_session_message",
        "created_at": 1281734508,
        "hostname": "rshbgdev04",
        "schema_version": 1
    },
    "message": {
        "guid": "1111-1111-1111-1111",
        "rs_language_code": "ENG",
        "iso_language_code": "ar",
    },

    "customer_data": {
        "city":"New York",
        "postal_code":"12345",
        "state_province":"NY",
        "address_line_1":"25 street",
        "address_line_2":"15 structure, 12",
        "guid":"1111-1111-1111-1111",
        "contact_phone_number":"(333) 555555",
        "first_name":"Allison",
        "contact_phone_country_code":"8",
        "last_viewed_locale":"en-US",
        "last_name":"Martin",
        "country_iso":4,
        "email":"testuser@wyvern.etr.eastbanctech.ru",
        "institutional": false
    },
    "test" : {
    	"workLocally" : false
    }
}

2012-09-07 14:11:22,472       37610 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 1111-1111-1111-1111
2012-09-07 14:11:22,547       37685 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:11:22,914       38052 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 1111-1111-1111-1111
2012-09-07 14:11:22,915       38053 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-07 14:11:25,499       40637 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-07 14:11:25,500       40638 [taskPrepareExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
com.rosettastone.succor.exception.ObjectNotFoundException: Customer entity for license id = 1111-1111-1111-1111 does not exist.
	at com.rosettastone.succor.service.CustomerSynchronizationService.synchronizeWithBAW(CustomerSynchronizationService.java:59)
	at com.rosettastone.succor.mdp.MessagePreProcessor.prepareMessage(MessagePreProcessor.java:115)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
2012-09-07 14:11:25,522       40660 [taskPrepareExecutorThread] ERROR (EaterExceptionHandler.java:18) - Hanlde exception, task:PREPARE#117
2012-09-07 14:11:27,550       42688 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:11:32,552       47690 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:11:37,554       52692 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:11:42,556       57694 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:13:04,804           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-07 14:13:06,002        1198 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-07 14:13:06,118        1314 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-07 14:13:06,121        1317 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-07 14:13:06,121        1317 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-07 14:13:06,124        1320 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-07 14:13:06,126        1322 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-07 14:13:06,127        1323 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-07 14:13:06,127        1323 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-07 14:13:31,677       26873 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-07 14:13:32,021       27217 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:13:32,022       27218 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:13:32,025       27221 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:13:32,026       27222 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:13:32,027       27223 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:13:32,029       27225 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:13:32,031       27227 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:13:32,032       27228 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 14:13:32,031       27227 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:13:32,036       27232 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 14:13:32,153       27349 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-07 14:13:32,153       27349 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-07 14:13:32,156       27352 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-07 14:13:32,156       27352 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-07 14:13:37,020       32216 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:13:42,022       37218 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:13:47,037       42233 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:13:47,357       42553 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received:  {
  "customer_data": {
    "postal_code": null,
    "first_name": "ts",
    "country_iso": 840,
    "last_name": "77345",
    "contact_phone_number": null,
    "support_language_iso": "en-US",
    "address_line_1": null,
    "email": "ts77345@rs.com",
    "contact_phone_country_code": null,
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "time_zone": "America/New_York",
    "guid": "a014ed94-097d-4925-ba7a-57cb144a3ad5",
    "institutional": true,
    "state_province": null
  },
  "header": {
    "created_at": 1341577952,
    "hostname": "stgrun002",
    "message_type": "initial_profile_setup_message",
    "schema_version": 1
  },
  "message": {
    "guid": "a014ed94-097d-4925-ba7a-57cb144a3ad5"
  },
  "license_data": {
    "creation_account_guid": "6557ad31-7627-4852-9639-2ce2ce3f07d9",
    "product_rights": [
      {
        "content_ranges": [
          "1-20"
        ],
        "family": "application",
        "rs_language_code": "ENG"
      },
      {
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool",
        "rs_language_code": "ENG"
      },
      {
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community",
        "rs_language_code": "ENG"
      }
    ],
    "creation_account_type": "DateRangeCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-07 14:13:47,474       42670 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event a014ed94-097d-4925-ba7a-57cb144a3ad5
2012-09-07 14:13:47,482       42678 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:13:47,500       42696 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer a014ed94-097d-4925-ba7a-57cb144a3ad5
2012-09-07 14:13:52,129       47325 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event a014ed94-097d-4925-ba7a-57cb144a3ad5
2012-09-07 14:13:52,129       47325 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1794494

2012-09-07 14:13:52,130       47326 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.InitialProfileSetupMessage
2012-09-07 14:13:52,130       47326 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[INST]
2012-09-07 14:13:52,130       47326 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-07 14:13:52,130       47326 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-07 14:13:52,535       47731 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:13:54,358       49554 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Initial profile set up EN"
	dialect "mvel"
	when
		$event : Event( eval(message is InitialProfileSetupMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 709l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end



2012-09-07 14:13:54,499       49695 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event a014ed94-097d-4925-ba7a-57cb144a3ad5
2012-09-07 14:13:54,503       49699 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer a014ed94-097d-4925-ba7a-57cb144a3ad5
2012-09-07 14:13:57,549       52745 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 14:14:00,003       55199 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-07 14:14:00,003       55199 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-07 14:14:00,013       55209 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-07 14:14:00,014       55210 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-07 14:14:00,015       55211 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-07 14:14:00,016       55212 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-07 14:14:00,016       55212 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-07 14:14:00,019       55215 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Tue Aug 07 14:14:00 IST 2012
2012-09-07 14:14:00,315       55511 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-07 14:14:02,551       57747 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:35:56,280           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-07 15:35:57,424        1144 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-07 15:35:57,535        1255 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-07 15:35:57,537        1257 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-07 15:35:57,538        1258 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-07 15:35:57,541        1261 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-07 15:35:57,543        1263 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-07 15:35:57,544        1264 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-07 15:35:57,544        1264 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-07 15:36:35,326       39046 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-07 15:36:35,562       39282 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 15:36:35,567       39287 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 15:36:35,569       39289 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 15:36:35,570       39290 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 15:36:35,572       39292 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 15:36:35,573       39293 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 15:36:35,576       39296 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 15:36:35,578       39298 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-07 15:36:35,582       39302 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 15:36:35,615       39335 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-07 15:36:35,683       39403 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-07 15:36:35,683       39403 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-07 15:36:35,686       39406 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-07 15:36:35,686       39406 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-07 15:36:40,562       44282 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:36:45,564       49284 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:36:50,566       54286 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:36:55,568       59288 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:36:59,999       63719 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-07 15:36:59,999       63719 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-07 15:37:00,014       63734 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-07 15:37:00,014       63734 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-07 15:37:00,015       63735 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-07 15:37:00,016       63736 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-07 15:37:00,570       64290 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:37:00,690       64410 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:37:00,712       64432 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
    "message": {
        "session_start_time": 1344350400,
        "iso_language_code": "sv-SE",
        "guid": "2fef4a51-cbc6-4720-b466-d030728ec565",
        "rs_language_code": "SVE",
        "unit": 1,
        "level": 1,
        "satisfied": true,
        "how_exited": "quit"
    },
    "license_data": {
        "creation_account_guid": "048f539c-7d13-102d-9b5a-f03c5d1f8336",
        "creation_account_type": "OnlineSubscriptionCreationAccount",
        "upgraded_at": 0,
        "product_rights": [
            {
                "content_ranges": [
                    "1-12"
                ],
                "rs_language_code": "SVE",
                "family": "application"
            },
            {
                "content_ranges": [
                    "1-12"
                ],
                "rs_language_code": "SVE",
                "family": "eschool"
            },
            {
                "content_ranges": [
                    "1-12"
                ],
                "rs_language_code": "SVE",
                "family": "premium_community"
            }
        ],
        "test_license": true
    },
    "header": {
        "message_type": "studio_satisfaction_message",
        "schema_version": 1,
        "hostname": "stgrun001",
        "created_at": 1344351929
    },
    "customer_data": {
        "last_viewed_locale": "en-US",
        "time_zone": "America/New_York",
        "postal_code": null,
        "email": "dtucker2@rs.com",
        "guid": "2fef4a51-cbc6-4720-b466-d030728ec565",
        "address_line_1": null,
        "address_line_2": null,
        "first_name": "David",
        "institutional": false,
        "country_iso": 840,
        "support_language_iso": "en-US",
        "contact_phone_country_code": "",
        "city": null,
        "state_province": null,
        "last_name": "Tucker",
        "contact_phone_number": ""
    }
}

2012-09-07 15:37:00,717       64437 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 2fef4a51-cbc6-4720-b466-d030728ec565
2012-09-07 15:37:00,728       64448 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 2fef4a51-cbc6-4720-b466-d030728ec565
2012-09-07 15:37:05,700       69420 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 2fef4a51-cbc6-4720-b466-d030728ec565
2012-09-07 15:37:05,701       69421 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@4dd102

2012-09-07 15:37:05,701       69421 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioSatisfactionMessage
2012-09-07 15:37:05,701       69421 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[TOT]
2012-09-07 15:37:05,701       69421 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-07 15:37:05,701       69421 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-07 15:37:05,704       69424 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:37:07,944       71664 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "studio satisfaction EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioSatisfactionMessage) &&  (message.satisfied == "false") && (customer.productNames contains "TOT") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 710l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Initial profile set up EN"
	dialect "mvel"
	when
		$event : Event( eval(message is InitialProfileSetupMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en"))
	then
		$event.internalSuccorData.updateSuperTicket = true;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 709l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end



2012-09-07 15:37:08,107       71827 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event 2fef4a51-cbc6-4720-b466-d030728ec565
2012-09-07 15:37:08,108       71828 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 2fef4a51-cbc6-4720-b466-d030728ec565
2012-09-07 15:37:10,707       74427 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-07 15:37:15,709       79429 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:25:43,442           1 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:25:45,973        2532 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:25:46,089        2648 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:25:46,123        2682 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:25:46,124        2683 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:25:46,127        2686 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:25:46,129        2688 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:25:46,130        2689 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:25:46,130        2689 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 12:26:13,842       30401 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 12:26:14,248       30807 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:26:14,270       30829 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:26:14,281       30840 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:26:14,283       30842 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:26:14,284       30843 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:26:14,285       30844 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:26:14,287       30846 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:26:14,288       30847 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:26:14,291       30850 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:26:14,327       30886 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:26:14,433       30992 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 12:26:14,433       30992 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 12:26:14,436       30995 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 12:26:14,436       30995 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 12:26:19,242       35801 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:26:24,244       40803 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:26:29,247       45806 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:26:29,422       45981 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:26:29,423       45982 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1346963910,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 12:26:29,462       46021 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:190) - Skip message that is not actual.
2012-09-11 12:26:29,470       46029 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-11 12:26:34,438       50997 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:29:14,206           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:29:16,038        1832 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:29:16,150        1944 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:29:16,182        1976 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:29:16,182        1976 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:29:16,185        1979 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:29:16,186        1980 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:29:16,187        1981 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:29:16,187        1981 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 12:29:40,195       25989 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 12:29:40,556       26350 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:29:40,565       26359 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:29:40,575       26369 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:29:40,576       26370 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:29:40,577       26371 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:29:40,579       26373 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:29:40,581       26375 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:29:40,584       26378 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:29:40,586       26380 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:29:40,586       26380 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:29:40,712       26506 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 12:29:40,712       26506 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 12:29:40,713       26507 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 12:29:40,713       26507 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 12:29:45,557       31351 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:29:50,558       36352 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:29:55,560       41354 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:29:55,748       41542 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:29:55,749       41543 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347347669,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 12:29:55,817       41611 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:29:55,896       41690 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:29:59,998       45792 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 12:29:59,998       45792 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 12:30:00,008       45802 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 12:30:00,009       45803 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 12:30:00,010       45804 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 12:30:00,011       45805 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 12:30:00,011       45805 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 12:30:00,014       45808 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 12:30:00 IST 2012
2012-09-11 12:30:00,271       46065 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 12:30:00,272       46066 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-11 12:30:00,723       46517 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:30:00,724       46518 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@3b9a5f

2012-09-11 12:30:00,724       46518 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 12:30:00,724       46518 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 12:30:00,724       46518 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-11 12:30:00,724       46518 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 12:30:00,755       46549 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:30:03,102       48896 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 12:30:03,306       49100 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:30:05,697       51491 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:30:05,777       51571 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:30:05,928       51722 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 12:30:06,936       52730 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:30:06,936       52730 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-11 12:30:09,912       55706 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-11 12:30:09,913       55707 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 21 more
2012-09-11 12:30:09,931       55725 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #125 | exception org.springframework.mail.MailSendException
2012-09-11 12:30:10,778       56572 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:30:10,930       56724 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-11 12:30:12,531       58325 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-11 12:30:12,532       58326 [taskEmailExecutorThread] ERROR (CancelTaskExceptionHandler.java:27) - Exception catched
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.backgroundtask.impl.EmailSender.sendEmail(EmailSender.java:59)
	at com.rosettastone.succor.backgroundtask.impl.CancelTaskExceptionHandler.doHandleException(CancelTaskExceptionHandler.java:20)
	at com.rosettastone.succor.backgroundtask.impl.AbstractExceptionHandler.handleException(AbstractExceptionHandler.java:19)
	at com.rosettastone.succor.backgroundtask.impl.AbstractDelegatExceptionHandler.handleException(AbstractDelegatExceptionHandler.java:12)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.catchExecutionException(TaskExecutor.java:227)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:115)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 17 more
2012-09-11 12:32:26,737           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:32:27,936        1199 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:32:28,060        1323 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:32:28,063        1326 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:32:28,063        1326 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:32:28,066        1329 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:32:28,070        1333 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:32:28,070        1333 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:32:28,071        1334 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 12:32:51,799       25062 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 12:32:52,148       25411 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:32:52,150       25413 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:32:52,151       25414 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:32:52,152       25415 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:32:52,155       25418 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:32:52,155       25418 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:32:52,158       25421 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:32:52,160       25423 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:32:52,214       25477 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:32:52,222       25485 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:32:52,297       25560 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 12:32:52,297       25560 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 12:32:52,300       25563 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 12:32:52,300       25563 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 12:32:57,136       30399 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:32:57,252       30515 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347347669,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 12:32:57,258       30521 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:32:57,272       30535 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:32:57,303       30566 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:00,000       33263 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 12:33:00,000       33263 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 12:33:00,016       33279 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 12:33:00,017       33280 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 12:33:00,018       33281 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 12:33:00,018       33281 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 12:33:02,230       35493 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:33:02,230       35493 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@160c21a

2012-09-11 12:33:02,230       35493 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 12:33:02,230       35493 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 12:33:02,231       35494 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-11 12:33:02,231       35494 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 12:33:02,306       35569 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:04,536       37799 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 12:33:04,755       38018 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:33:07,228       40491 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:33:07,308       40571 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:07,583       40846 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 12:33:07,700       40963 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 12:33:07,702       40965 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:33:12,310       45573 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:17,312       50575 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:22,314       55577 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:27,316       60579 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:32,318       65581 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:37,320       70583 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:42,322       75585 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:47,324       80587 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:52,326       85589 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:57,328       90591 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:33:59,998       93261 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 12:33:59,998       93261 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 12:33:59,999       93262 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 12:34:00,000       93263 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 12:34:00,001       93264 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 12:34:00,002       93265 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 12:34:00,002       93265 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 12:34:00,006       93269 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 12:34:00 IST 2012
2012-09-11 12:34:00,062       93325 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 12:34:02,330       95593 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:37:13,023           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:37:14,180        1157 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:37:14,291        1268 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:37:14,294        1271 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:37:14,295        1272 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:37:14,298        1275 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:37:14,300        1277 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:37:14,301        1278 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:37:14,301        1278 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 12:44:48,762           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:44:49,898        1136 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:44:50,009        1247 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:44:50,011        1249 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:44:50,012        1250 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:44:50,015        1253 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:44:50,017        1255 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:44:50,018        1256 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:44:50,018        1256 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 12:45:14,342       25580 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 12:45:14,681       25919 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:45:14,682       25920 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:45:14,684       25922 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:45:14,685       25923 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:45:14,687       25925 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:45:14,689       25927 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:45:14,689       25927 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:45:14,692       25930 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:45:14,696       25934 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:45:14,715       25953 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:45:14,821       26059 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 12:45:14,821       26059 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 12:45:14,824       26062 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 12:45:14,825       26063 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 12:45:19,662       30900 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:19,771       31009 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347347669,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
	"number_of_seats": 1,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 12:45:19,776       31014 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:190) - Skip message that is not actual.
2012-09-11 12:45:19,777       31015 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-11 12:45:19,791       31029 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:24,795       36033 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:29,798       41036 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:34,804       46042 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:39,806       51044 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:44,809       56047 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:49,810       61048 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:54,813       66051 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:45:59,815       71053 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:46:00,003       71241 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 12:46:00,003       71241 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 12:46:00,013       71251 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 12:46:00,014       71252 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 12:46:00,016       71254 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 12:46:00,017       71255 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 12:46:00,017       71255 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 12:46:00,021       71259 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 12:46:00 IST 2012
2012-09-11 12:46:00,181       71419 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 12:46:31,647           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:46:32,770        1123 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:46:32,881        1234 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:46:32,883        1236 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:46:32,884        1237 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:46:32,887        1240 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:46:32,890        1243 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:46:32,891        1244 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:46:32,891        1244 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 12:46:58,229       26582 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 12:46:58,573       26926 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:46:58,575       26928 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:46:58,576       26929 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:46:58,577       26930 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:46:58,578       26931 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:46:58,578       26931 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:46:58,581       26934 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:46:58,581       26934 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:46:58,584       26937 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:46:58,585       26938 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:46:58,683       27036 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 12:46:58,690       27043 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 12:46:58,690       27043 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 12:46:58,691       27044 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 12:47:00,001       28354 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 12:47:00,001       28354 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 12:47:00,016       28369 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 12:47:00,017       28370 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 12:47:00,018       28371 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 12:47:00,019       28372 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 12:47:03,564       31917 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:47:03,726       32079 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347347743,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
	"number_of_seats": 1,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 12:47:03,733       32086 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:190) - Skip message that is not actual.
2012-09-11 12:47:03,735       32088 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-11 12:47:03,737       32090 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:47:08,742       37095 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:47:13,745       42098 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:47:18,747       47100 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:47:23,750       52103 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:47:28,752       57105 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:47:33,755       62108 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:47:38,756       67109 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:51:02,805           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:51:03,921        1116 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:51:04,032        1227 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:51:04,035        1230 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:51:04,036        1231 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:51:04,039        1234 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:51:04,041        1236 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:51:04,042        1237 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:51:04,042        1237 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 12:51:27,989       25184 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 12:51:28,349       25544 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:51:28,351       25546 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:51:28,352       25547 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:51:28,352       25547 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:51:28,353       25548 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:51:28,355       25550 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:51:28,359       25554 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:51:28,360       25555 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:51:28,364       25559 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:51:28,365       25560 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:51:28,517       25712 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 12:51:28,520       25715 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 12:51:28,519       25714 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 12:51:28,520       25715 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 12:51:28,522       25717 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:51:33,450       30645 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347447743,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
	"number_of_seats": 1,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 12:51:33,455       30650 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:51:33,469       30664 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:51:33,524       30719 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:51:38,500       35695 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:51:38,500       35695 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@4c2849

2012-09-11 12:51:38,500       35695 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 12:51:38,500       35695 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 12:51:38,500       35695 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-11 12:51:38,502       35697 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 12:51:38,526       35721 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:51:40,818       38013 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 12:51:41,045       38240 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:51:43,514       40709 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:51:43,540       40735 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:51:43,853       41048 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 12:51:43,918       41113 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 12:51:43,919       41114 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:51:48,542       45737 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:51:53,543       50738 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:51:58,545       55740 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:51:59,999       57194 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 12:51:59,999       57194 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 12:52:00,010       57205 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 12:52:00,011       57206 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 12:52:00,011       57206 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 12:52:00,012       57207 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 12:52:00,012       57207 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 12:52:00,016       57211 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 12:52:00 IST 2012
2012-09-11 12:52:00,060       57255 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 12:52:03,547       60742 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:52:08,549       65744 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:52:13,550       70745 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:52:18,553       75748 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:52:23,554       80749 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:52:28,556       85751 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:52:33,557       90752 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:52:38,559       95754 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:55:13,353           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:55:14,504        1151 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:55:14,618        1265 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:55:14,621        1268 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:55:14,621        1268 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:55:14,625        1272 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:55:14,627        1274 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:55:14,627        1274 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:55:14,628        1275 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 12:55:38,372       25019 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 12:55:38,706       25353 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:55:38,709       25356 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:55:38,711       25358 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:55:38,713       25360 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:55:38,713       25360 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:55:38,714       25361 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:55:38,717       25364 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:55:38,722       25369 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:55:38,722       25369 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 12:55:38,724       25371 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 12:55:38,838       25485 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 12:55:38,839       25486 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 12:55:38,843       25490 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 12:55:38,843       25490 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 12:55:43,722       30369 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:55:48,724       35371 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:55:53,726       40373 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:55:58,728       45375 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:00,000       46647 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 12:56:00,000       46647 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 12:56:00,010       46657 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 12:56:00,011       46658 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 12:56:00,012       46659 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 12:56:00,013       46660 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 12:56:00,013       46660 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 12:56:00,017       46664 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 12:56:00 IST 2012
2012-09-11 12:56:00,169       46816 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 12:56:03,731       50378 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:03,823       50470 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347447743,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
	"number_of_seats": 1,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 12:56:03,828       50475 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:56:03,845       50492 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:56:03,856       50503 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:08,829       55476 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:56:08,830       55477 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@13d9c02

2012-09-11 12:56:08,830       55477 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 12:56:08,830       55477 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 12:56:08,830       55477 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-11 12:56:08,830       55477 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-11 12:56:08,830       55477 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-11 12:56:08,830       55477 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 12:56:08,858       55505 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:11,069       57716 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 12:56:11,407       58054 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:56:13,848       60495 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:56:13,868       60515 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:13,962       60609 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 12:56:14,022       60669 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 12:56:14,024       60671 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 12:56:18,876       65523 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:23,878       70525 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:28,881       75528 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:33,883       80530 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:38,884       85531 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:43,886       90533 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:48,888       95535 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:56:53,890      100537 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 12:59:48,990           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 12:59:50,320        1330 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 12:59:50,438        1448 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 12:59:50,442        1452 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 12:59:50,443        1453 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 12:59:50,446        1456 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 12:59:50,448        1458 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 12:59:50,449        1459 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 12:59:50,449        1459 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 13:00:15,585       26595 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 13:00:15,925       26935 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:00:15,926       26936 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:00:15,928       26938 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:00:15,929       26939 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:00:15,931       26941 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:00:15,931       26941 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:00:15,935       26945 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:00:15,939       26949 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:00:15,939       26949 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:00:15,941       26951 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:00:16,045       27055 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 13:00:16,045       27055 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 13:00:16,048       27058 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 13:00:16,048       27058 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 13:00:20,912       31922 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:00:25,914       36924 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:00:26,026       37036 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:00:26,065       37075 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347447743,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
	"number_of_seats": 1,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 13:00:26,070       37080 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:00:26,109       37119 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:00:31,032       42042 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:00:31,067       42077 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:00:31,067       42077 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@10a6723

2012-09-11 13:00:31,068       42078 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 13:00:31,068       42078 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 13:00:31,068       42078 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-11 13:00:31,068       42078 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-11 13:00:31,068       42078 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-11 13:00:31,068       42078 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 13:00:33,290       44300 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 13:00:33,466       44476 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:00:33,468       44478 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:00:36,034       47044 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:00:41,037       52047 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:00:46,039       57049 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:00:51,042       62052 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:00:56,044       67054 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:01:00,004       71014 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 13:01:00,004       71014 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 13:01:00,014       71024 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 13:01:00,015       71025 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 13:01:00,016       71026 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 13:01:00,016       71026 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 13:01:01,047       72057 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:03:02,900           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 13:03:04,040        1140 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 13:03:04,150        1250 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 13:03:04,152        1252 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 13:03:04,153        1253 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 13:03:04,156        1256 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 13:03:04,158        1258 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 13:03:04,159        1259 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 13:03:04,159        1259 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 13:03:27,486       24586 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 13:03:27,816       24916 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:03:27,818       24918 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:03:27,819       24919 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:03:27,820       24920 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:03:27,822       24922 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:03:27,822       24922 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:03:27,832       24932 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:03:27,833       24933 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:03:27,835       24935 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:03:27,836       24936 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:03:27,964       25064 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 13:03:27,964       25064 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 13:03:27,970       25070 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 13:03:27,971       25071 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 13:03:32,851       29951 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:03:37,854       34954 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:03:42,856       39956 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:03:43,011       40111 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:03:47,964       45064 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347447743,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
	"number_of_seats": 1,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 13:03:47,970       45070 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:03:47,983       45083 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:03:48,021       45121 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:03:52,950       50050 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:03:52,951       50051 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1826ac5

2012-09-11 13:03:52,951       50051 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 13:03:52,951       50051 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 13:03:52,951       50051 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-11 13:03:52,951       50051 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-11 13:03:52,951       50051 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-11 13:03:52,952       50052 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 13:03:53,023       50123 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:03:55,177       52277 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 13:03:55,378       52478 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:03:57,949       55049 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:03:58,130       55230 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:03:58,283       55383 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 13:03:58,343       55443 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 13:03:58,346       55446 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:04:00,002       57102 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 13:04:00,005       57105 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 13:04:00 IST 2012
2012-09-11 13:04:00,051       57151 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 13:04:00,051       57151 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 13:04:00,051       57151 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 13:04:00,062       57162 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 13:04:00,063       57163 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 13:04:00,063       57163 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 13:04:00,064       57164 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 13:04:03,154       60254 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:04:08,157       65257 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:04:13,158       70258 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:05:28,507           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 13:05:29,637        1130 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 13:05:29,749        1242 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 13:05:29,751        1244 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 13:05:29,752        1245 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 13:05:29,755        1248 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 13:05:29,757        1250 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 13:05:29,758        1251 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 13:05:29,758        1251 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 13:05:53,402       24895 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 13:05:53,752       25245 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:05:53,754       25247 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:05:53,755       25248 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:05:53,756       25249 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:05:53,758       25251 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:05:53,759       25252 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:05:53,761       25254 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:05:53,764       25257 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 13:05:53,787       25280 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:05:53,802       25295 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 13:05:53,886       25379 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 13:05:53,887       25380 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 13:05:53,890       25383 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 13:05:53,890       25383 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 13:05:58,716       30209 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:06:00,001       31494 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 13:06:00,001       31494 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 13:06:00,012       31505 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 13:06:00,013       31506 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 13:06:00,014       31507 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 13:06:00,014       31507 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 13:06:00,015       31508 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 13:06:00,018       31511 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 13:06:00 IST 2012
2012-09-11 13:06:00,169       31662 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 13:06:03,718       35211 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:06:03,862       35355 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347447743,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
	"number_of_seats": 4,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 13:06:03,872       35365 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:06:03,888       35381 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:06:03,968       35461 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:06:08,854       40347 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:06:08,854       40347 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1535ac

2012-09-11 13:06:08,854       40347 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 13:06:08,854       40347 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 13:06:08,854       40347 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-11 13:06:08,854       40347 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-11 13:06:08,855       40348 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats4
2012-09-11 13:06:08,855       40348 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 13:06:08,983       40476 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:06:11,316       42809 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 13:06:11,516       43009 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:06:13,848       45341 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:06:13,957       45450 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 13:06:14,013       45506 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 13:06:14,015       45508 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 13:06:14,195       45688 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:06:19,198       50691 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 13:06:24,200       55693 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:15:10,502           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 20:15:11,958        1456 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 20:15:12,072        1570 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 20:15:12,113        1611 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 20:15:12,113        1611 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 20:15:12,116        1614 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 20:15:12,118        1616 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 20:15:12,119        1617 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 20:15:12,119        1617 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 20:15:35,560       25058 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 20:15:35,933       25431 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:15:35,952       25450 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:15:35,957       25455 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:15:35,957       25455 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:15:35,966       25464 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:15:35,967       25465 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:15:35,969       25467 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:15:36,006       25504 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:15:36,007       25505 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:15:36,014       25512 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:15:36,102       25600 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 20:15:36,103       25601 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 20:15:36,105       25603 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 20:15:36,105       25603 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 20:15:40,934       30432 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:15:45,937       35435 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:15:50,939       40437 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:15:55,942       45440 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:00,001       49499 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:16:00,006       49504 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:16:00 IST 2012
2012-09-11 20:16:00,177       49675 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:16:00,178       49676 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:16:00,179       49677 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:16:00,189       49687 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:16:00,190       49688 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:16:00,192       49690 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:16:00,193       49691 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:16:00,944       50442 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:05,947       55445 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:10,953       60451 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:15,956       65454 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:20,958       70456 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:25,961       75459 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:26,303       75801 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:31,069       80567 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347384483,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 20:16:31,097       80595 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:16:31,126       80624 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:16:31,305       80803 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:36,064       85562 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:16:36,064       85562 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1785a09

2012-09-11 20:16:36,064       85562 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 20:16:36,064       85562 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 20:16:36,064       85562 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-11 20:16:36,065       85563 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-11 20:16:36,065       85563 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-11 20:16:36,065       85563 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 20:16:36,329       85827 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:38,339       87837 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 20:16:38,676       88174 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:16:41,053       90551 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:16:41,332       90830 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:41,461       90959 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 20:16:41,541       91039 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 20:16:41,544       91042 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:16:46,335       95833 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:51,337      100835 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:16:56,341      105839 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:17:00,004      109502 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:17:00,004      109502 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:17:00,006      109504 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:17:00,006      109504 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:17:00,007      109505 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:17:00,008      109506 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:17:01,342      110840 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:18:19,166           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 20:18:20,354        1188 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 20:18:20,469        1303 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 20:18:20,472        1306 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 20:18:20,472        1306 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 20:18:20,476        1310 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 20:18:20,478        1312 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 20:18:20,478        1312 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 20:18:20,479        1313 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 20:18:45,450       26284 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 20:18:45,801       26635 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:18:45,804       26638 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:18:45,806       26640 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:18:45,807       26641 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:18:45,808       26642 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:18:45,809       26643 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:18:45,808       26642 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:18:45,813       26647 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:18:45,817       26651 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:18:45,818       26652 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:18:45,909       26743 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 20:18:45,909       26743 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 20:18:45,914       26748 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 20:18:45,914       26748 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 20:18:50,816       31650 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:18:55,835       36669 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:18:55,977       36811 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347384483,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 20:18:55,982       36816 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:18:55,994       36828 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:18:56,052       36886 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:19:00,001       40835 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:19:00,001       40835 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:19:00,011       40845 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:19:00,012       40846 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:19:00,013       40847 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:19:00,013       40847 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:19:00,946       41780 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:19:00,946       41780 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@9036e

2012-09-11 20:19:00,946       41780 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 20:19:00,947       41781 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 20:19:00,947       41781 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-11 20:19:00,947       41781 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-11 20:19:00,947       41781 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-11 20:19:00,947       41781 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 20:19:01,054       41888 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:19:03,234       44068 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 20:19:03,426       44260 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:19:03,428       44262 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:19:06,057       46891 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:19:11,059       51893 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:19:16,062       56896 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:19:21,064       61898 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:19:26,067       66901 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:19:31,069       71903 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:24:13,633           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 20:24:14,753        1120 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 20:24:14,863        1230 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 20:24:14,866        1233 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 20:24:14,866        1233 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 20:24:14,870        1237 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 20:24:14,872        1239 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 20:24:14,873        1240 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 20:24:14,873        1240 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 20:24:38,139       24506 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 20:24:38,485       24852 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:24:38,487       24854 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:24:38,489       24856 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:24:38,490       24857 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:24:38,491       24858 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:24:38,492       24859 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:24:38,494       24861 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:24:38,497       24864 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:24:38,499       24866 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:24:38,499       24866 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:24:38,604       24971 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 20:24:38,604       24971 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 20:24:38,608       24975 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 20:24:38,608       24975 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 20:24:43,475       29842 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:24:48,477       34844 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:24:53,481       39848 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:24:58,483       44850 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:25:00,002       46369 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:25:00,002       46369 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:25:00,014       46381 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:25:00,015       46382 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:25:00,016       46383 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:25:00,017       46384 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:25:03,486       49853 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:25:03,591       49958 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:25:03,645       50012 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347384483,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 20:25:03,650       50017 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:25:03,661       50028 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:25:08,593       54960 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:25:08,624       54991 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:25:08,624       54991 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1c6c480

2012-09-11 20:25:08,624       54991 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 20:25:08,624       54991 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 20:25:08,624       54991 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-11 20:25:08,625       54992 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-11 20:25:08,625       54992 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-11 20:25:08,625       54992 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 20:25:10,853       57220 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 20:25:11,067       57434 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:25:13,596       59963 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:25:13,637       60004 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:25:13,983       60350 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 20:25:14,044       60411 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 20:25:14,046       60413 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:25:18,598       64965 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:25:23,601       69968 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:25:28,603       74970 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:26:52,724           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 20:26:53,847        1123 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 20:26:53,957        1233 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 20:26:53,960        1236 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 20:26:53,961        1237 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 20:26:53,964        1240 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 20:26:53,966        1242 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 20:26:53,967        1243 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 20:26:53,967        1243 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 20:27:17,228       24504 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 20:27:17,578       24854 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:27:17,579       24855 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:27:17,582       24858 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:27:17,582       24858 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:27:17,584       24860 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:27:17,585       24861 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:27:17,587       24863 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:27:17,589       24865 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:27:17,594       24870 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:27:17,595       24871 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:27:17,718       24994 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 20:27:17,719       24995 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 20:27:17,722       24998 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 20:27:17,722       24998 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 20:27:22,554       29830 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:27:27,557       34833 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:27:27,692       34968 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347384483,
  	"number_of_seats": 4,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 20:27:27,699       34975 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:27:27,777       35053 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:27:27,778       35054 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:27:32,672       39948 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:27:32,673       39949 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1a66c87

2012-09-11 20:27:32,673       39949 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 20:27:32,673       39949 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 20:27:32,673       39949 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-11 20:27:32,673       39949 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-11 20:27:32,673       39949 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats4
2012-09-11 20:27:32,673       39949 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 20:27:32,809       40085 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:27:34,938       42214 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 20:27:35,138       42414 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:27:37,696       44972 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:27:37,811       45087 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:27:38,036       45312 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 20:27:38,102       45378 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 20:27:38,104       45380 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:29:33,983           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 20:29:35,101        1118 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 20:29:35,210        1227 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 20:29:35,213        1230 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 20:29:35,214        1231 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 20:29:35,217        1234 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 20:29:35,219        1236 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 20:29:35,219        1236 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 20:29:35,220        1237 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 20:29:58,431       24448 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 20:29:58,777       24794 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:29:58,779       24796 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:29:58,785       24802 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:29:58,785       24802 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:29:58,787       24804 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:29:58,790       24807 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:29:58,791       24808 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:29:58,793       24810 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:29:58,795       24812 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:29:58,797       24814 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:29:58,901       24918 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 20:29:58,901       24918 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 20:29:58,905       24922 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 20:29:58,905       24922 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 20:30:00,001       26018 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:30:00,001       26018 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:30:00,013       26030 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:30:00,014       26031 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:30:00,015       26032 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:30:00,016       26033 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:30:00,016       26033 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:30:00,019       26036 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:30:00 IST 2012
2012-09-11 20:30:00,167       26184 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:30:00,167       26184 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-11 20:30:03,790       29807 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:08,792       34809 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:13,794       39811 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:18,796       44813 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:23,798       49815 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:23,925       49942 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:23,948       49965 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347384483,
  	"number_of_seats": 4,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 20:30:23,961       49978 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:30:23,962       49979 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:135) - Message is not actual. Its a group + grandFathered
2012-09-11 20:30:23,962       49979 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:30:28,930       54947 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:33,933       59950 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:38,934       64951 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:43,935       69952 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:48,936       74953 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:53,937       79954 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:58,938       84955 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:30:59,998       86015 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:30:59,998       86015 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:30:59,999       86016 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:31:00,000       86017 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:31:00,000       86017 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:31:00,001       86018 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:31:03,939       89956 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:42:26,305           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-11 20:42:27,418        1113 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-11 20:42:27,528        1223 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-11 20:42:27,531        1226 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-11 20:42:27,531        1226 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-11 20:42:27,535        1230 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-11 20:42:27,537        1232 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-11 20:42:27,537        1232 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-11 20:42:27,538        1233 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-11 20:42:50,821       24516 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-11 20:42:51,152       24847 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:42:51,154       24849 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:42:51,159       24854 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:42:51,160       24855 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:42:51,162       24857 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:42:51,164       24859 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:42:51,164       24859 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:42:51,167       24862 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:42:51,170       24865 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-11 20:42:51,171       24866 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-11 20:42:51,300       24995 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 20:42:51,301       24996 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 20:42:51,302       24997 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-11 20:42:51,302       24997 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-11 20:42:56,184       29879 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:00,001       33696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:43:00,001       33696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:43:00,012       33707 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:43:00,013       33708 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:43:00,014       33709 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:43:00,015       33710 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:43:01,188       34883 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:01,349       35044 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:06,266       39961 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:78) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347384483,
  	"number_of_seats": 4,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-11 20:43:06,270       39965 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:43:06,282       39977 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:43:06,352       40047 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:11,253       44948 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:43:11,253       44948 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@151a712

2012-09-11 20:43:11,253       44948 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-11 20:43:11,253       44948 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-11 20:43:11,253       44948 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-11 20:43:11,254       44949 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-11 20:43:11,254       44949 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats4
2012-09-11 20:43:11,254       44949 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-11 20:43:11,358       45053 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:13,494       47189 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-11 20:43:13,698       47393 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:43:16,253       49948 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:43:16,496       50191 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:16,590       50285 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-11 20:43:16,656       50351 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-11 20:43:16,658       50353 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-11 20:43:21,512       55207 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:26,515       60210 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:31,517       65212 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:36,520       70215 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:41,522       75217 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:46,525       80220 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:51,527       85222 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:43:56,529       90224 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:00,004       93699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:44:00,004       93699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:44:00,005       93700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:44:00,006       93701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:44:00,006       93701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:44:00,007       93702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:44:00,007       93702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:44:00,010       93705 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:44:00 IST 2012
2012-09-11 20:44:00,055       93750 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:44:01,530       95225 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:06,533      100228 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:11,535      105230 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:16,538      110233 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:21,540      115235 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:26,543      120238 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:31,550      125245 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:36,553      130248 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:41,555      135250 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:46,558      140253 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:51,560      145255 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:44:56,563      150258 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:00,004      153699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:45:00,004      153699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:45:00,005      153700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:45:00,006      153701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:45:00,006      153701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:45:00,007      153702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:45:01,565      155260 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:06,568      160263 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:11,569      165264 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:16,572      170267 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:21,574      175269 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:26,577      180272 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:31,579      185274 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:36,582      190277 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:41,583      195278 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:46,586      200281 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:51,587      205282 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:45:56,590      210285 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:00,004      213699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:46:00,004      213699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:46:00,005      213700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:46:00,006      213701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:46:00,007      213702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:46:00,007      213702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:46:00,007      213702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:46:00,008      213703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:46:00 IST 2012
2012-09-11 20:46:00,011      213706 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:46:01,592      215287 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:06,595      220290 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:11,597      225292 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:16,600      230295 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:21,601      235296 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:26,604      240299 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:31,605      245300 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:36,607      250302 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:41,609      255304 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:46,611      260306 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:51,612      265307 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:46:56,615      270310 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:00,005      273700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:47:00,005      273700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:47:00,006      273701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:47:00,006      273701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:47:00,007      273702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:47:00,008      273703 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:47:01,616      275311 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:06,619      280314 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:11,620      285315 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:16,622      290317 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:21,624      295319 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:26,626      300321 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:31,627      305322 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:36,630      310325 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:41,631      315326 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:46,633      320328 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:51,634      325329 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:47:56,636      330331 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:00,004      333699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:48:00,004      333699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:48:00,005      333700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:48:00,006      333701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:48:00,006      333701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:48:00,007      333702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:48:00,007      333702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:48:00,008      333703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:48:00 IST 2012
2012-09-11 20:48:00,011      333706 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:48:01,637      335332 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:06,640      340335 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:11,641      345336 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:16,643      350338 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:21,644      355339 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:26,647      360342 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:31,648      365343 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:36,650      370345 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:41,651      375346 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:46,653      380348 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:51,654      385349 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:48:56,656      390351 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:00,005      393700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:49:00,005      393700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:49:00,006      393701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:49:00,007      393702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:49:00,007      393702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:49:00,008      393703 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:49:01,657      395352 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:06,660      400355 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:11,661      405356 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:16,663      410358 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:21,664      415359 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:26,666      420361 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:31,667      425362 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:36,669      430364 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:41,671      435366 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:46,673      440368 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:51,674      445369 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:49:56,677      450372 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:00,004      453699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:50:00,004      453699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:50:00,005      453700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:50:00,005      453700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:50:00,006      453701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:50:00,006      453701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:50:00,007      453702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:50:00,007      453702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:50:00 IST 2012
2012-09-11 20:50:00,010      453705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:50:00,024      453719 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-11 20:50:01,678      455373 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:06,680      460375 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:11,681      465376 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:16,683      470378 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:21,684      475379 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:26,686      480381 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:31,687      485382 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:36,689      490384 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:41,690      495385 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:46,692      500387 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:51,693      505388 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:50:56,695      510390 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:00,004      513699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:51:00,004      513699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:51:00,005      513700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:51:00,005      513700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:51:00,006      513701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:51:00,006      513701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:51:01,696      515391 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:06,698      520393 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:11,699      525394 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:16,701      530396 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:21,703      535398 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:26,705      540400 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:31,707      545402 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:36,709      550404 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:41,710      555405 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:46,712      560407 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:51,713      565408 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:51:56,715      570410 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:00,004      573699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:52:00,004      573699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:52:00,005      573700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:52:00,005      573700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:52:00,006      573701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:52:00,007      573702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:52:00,007      573702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:52:00,007      573702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:52:00 IST 2012
2012-09-11 20:52:00,010      573705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:52:01,716      575411 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:06,718      580413 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:11,719      585414 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:16,721      590416 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:21,722      595417 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:26,724      600419 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:31,725      605420 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:36,728      610423 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:41,729      615424 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:46,731      620426 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:51,732      625427 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:52:56,734      630429 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:00,004      633699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:53:00,004      633699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:53:00,005      633700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:53:00,005      633700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:53:00,006      633701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:53:00,006      633701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:53:01,735      635430 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:06,737      640432 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:11,738      645433 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:16,740      650435 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:21,741      655436 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:26,743      660438 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:31,744      665439 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:36,746      670441 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:41,748      675443 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:46,750      680445 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:51,777      685472 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:53:56,779      690474 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:00,004      693699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:54:00,004      693699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:54:00,005      693700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:54:00,005      693700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:54:00,006      693701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:54:00,006      693701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:54:00,006      693701 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:54:00,007      693702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:54:00 IST 2012
2012-09-11 20:54:00,010      693705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:54:01,780      695475 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:06,782      700477 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:11,784      705479 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:16,786      710481 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:21,787      715482 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:26,790      720485 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:31,805      725500 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:36,807      730502 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:41,809      735504 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:46,811      740506 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:51,812      745507 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:54:56,814      750509 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:00,005      753700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:55:00,005      753700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:55:00,006      753701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:55:00,006      753701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:55:00,007      753702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:55:00,007      753702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:55:01,816      755511 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:06,818      760513 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:11,820      765515 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:16,822      770517 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:21,823      775518 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:26,839      780534 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:31,841      785536 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:36,843      790538 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:41,844      795539 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:46,846      800541 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:51,848      805543 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:55:56,850      810545 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:00,004      813699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:56:00,004      813699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:56:00,005      813700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:56:00,005      813700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:56:00,006      813701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:56:00,007      813702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:56:00,007      813702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:56:00,007      813702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:56:00 IST 2012
2012-09-11 20:56:00,010      813705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:56:01,851      815546 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:06,853      820548 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:11,854      825549 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:16,856      830551 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:21,858      835553 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:26,860      840555 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:31,861      845556 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:36,863      850558 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:41,864      855559 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:46,866      860561 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:51,867      865562 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:56:56,869      870564 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:00,004      873699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:57:00,004      873699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:57:00,005      873700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:57:00,005      873700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:57:00,006      873701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:57:00,006      873701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:57:01,870      875565 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:06,872      880567 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:11,873      885568 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:16,875      890570 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:21,877      895572 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:26,883      900578 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:31,885      905580 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:36,887      910582 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:41,888      915583 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:46,890      920585 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:51,891      925586 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:57:56,893      930588 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:00,005      933700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:58:00,005      933700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:58:00,006      933701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:58:00,007      933702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:58:00,007      933702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:58:00,008      933703 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:58:00,008      933703 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 20:58:00,008      933703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 20:58:00 IST 2012
2012-09-11 20:58:00,011      933706 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 20:58:01,894      935589 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:06,896      940591 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:11,897      945592 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:16,899      950594 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:21,900      955595 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:26,902      960597 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:31,903      965598 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:36,905      970600 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:41,906      975601 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:46,908      980603 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:51,352      985047 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 20:58:51,352      985047 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 20:58:51,909      985604 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:58:56,911      990606 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:00,004      993699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 20:59:00,004      993699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 20:59:00,005      993700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 20:59:00,005      993700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 20:59:00,006      993701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 20:59:00,006      993701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 20:59:01,912      995607 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:06,914     1000609 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:11,915     1005610 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:16,917     1010612 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:21,918     1015613 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:26,920     1020615 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:31,921     1025616 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:36,923     1030618 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:41,924     1035619 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:46,926     1040621 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:51,928     1045623 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 20:59:56,930     1050625 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:00,004     1053699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:00:00,004     1053699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:00:00,005     1053700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:00:00,005     1053700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:00:00,006     1053701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:00:00,006     1053701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:00:00,007     1053702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:00:00,007     1053702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:00:00 IST 2012
2012-09-11 21:00:00,010     1053705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:00:00,032     1053727 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-11 21:00:01,931     1055626 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:06,936     1060631 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:11,937     1065632 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:16,939     1070634 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:21,940     1075635 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:26,942     1080637 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:31,943     1085638 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:36,945     1090640 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:41,946     1095641 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:46,948     1100643 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:51,949     1105644 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:00:56,951     1110646 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:00,004     1113699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:01:00,004     1113699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:01:00,005     1113700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:01:00,005     1113700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:01:00,006     1113701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:01:00,006     1113701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:01:01,952     1115647 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:06,954     1120649 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:11,965     1125660 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:16,967     1130662 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:21,968     1135663 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:26,970     1140665 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:31,971     1145666 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:36,973     1150668 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:41,974     1155669 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:46,976     1160671 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:51,977     1165672 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:01:56,978     1170673 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:00,003     1173698 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:02:00,003     1173698 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:02:00,004     1173699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:02:00,004     1173699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:02:00,005     1173700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:02:00,005     1173700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:02:00,007     1173702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:02:00,007     1173702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:02:00 IST 2012
2012-09-11 21:02:00,010     1173705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:02:01,979     1175674 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:06,980     1180675 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:11,981     1185676 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:16,982     1190677 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:21,983     1195678 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:26,984     1200679 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:31,985     1205680 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:36,986     1210681 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:41,987     1215682 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:46,988     1220683 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:51,989     1225684 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:56,990     1230685 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:02:59,998     1233693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:02:59,998     1233693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:02:59,999     1233694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:02:59,999     1233694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:03:00,000     1233695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:03:00,000     1233695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:03:01,991     1235686 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:06,992     1240687 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:11,993     1245688 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:16,994     1250689 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:21,995     1255690 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:26,996     1260691 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:31,997     1265692 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:36,998     1270693 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:41,999     1275694 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:47,000     1280695 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:52,002     1285697 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:57,003     1290698 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:03:59,996     1293691 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:03:59,996     1293691 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:03:59 IST 2012
2012-09-11 21:03:59,999     1293694 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:04:00,000     1293695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:04:00,000     1293695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:04:00,000     1293695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:04:00,001     1293696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:04:00,002     1293697 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:04:00,002     1293697 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:04:02,004     1295699 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:07,005     1300700 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:12,006     1305701 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:17,007     1310702 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:22,008     1315703 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:27,009     1320704 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:32,010     1325705 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:37,011     1330706 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:42,012     1335707 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:47,013     1340708 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:52,014     1345709 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:57,015     1350710 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:04:59,998     1353693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:04:59,998     1353693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:04:59,999     1353694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:04:59,999     1353694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:05:00,000     1353695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:05:00,000     1353695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:05:02,016     1355711 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:07,017     1360712 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:12,018     1365713 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:17,019     1370714 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:22,020     1375715 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:27,021     1380716 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:32,023     1385718 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:37,024     1390719 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:42,025     1395720 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:47,026     1400721 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:52,028     1405723 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:57,029     1410724 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:05:59,995     1413690 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:05:59,995     1413690 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:05:59 IST 2012
2012-09-11 21:05:59,999     1413694 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:05:59,999     1413694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:05:59,999     1413694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:06:00,000     1413695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:06:00,000     1413695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:06:00,001     1413696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:06:00,001     1413696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:06:02,030     1415725 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:07,031     1420726 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:12,032     1425727 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:17,034     1430729 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:22,035     1435730 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:27,036     1440731 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:32,037     1445732 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:37,038     1450733 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:42,040     1455735 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:47,041     1460736 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:52,042     1465737 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:57,043     1470738 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:06:59,998     1473693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:06:59,998     1473693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:06:59,999     1473694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:06:59,999     1473694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:07:00,000     1473695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:07:00,001     1473696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:07:02,044     1475739 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:07,046     1480741 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:12,047     1485742 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:17,049     1490744 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:22,050     1495745 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:27,051     1500746 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:32,053     1505748 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:37,054     1510749 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:42,055     1515750 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:47,056     1520751 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:52,057     1525752 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:57,063     1530758 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:07:59,995     1533690 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:07:59,995     1533690 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:07:59 IST 2012
2012-09-11 21:07:59,999     1533694 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:07:59,999     1533694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:07:59,999     1533694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:08:00,000     1533695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:08:00,000     1533695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:08:00,001     1533696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:08:00,001     1533696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:08:02,065     1535760 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:07,066     1540761 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:12,067     1545762 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:17,068     1550763 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:22,069     1555764 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:27,070     1560765 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:32,074     1565769 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:37,076     1570771 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:42,078     1575773 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:47,079     1580774 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:52,080     1585775 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:57,081     1590776 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:08:59,998     1593693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:08:59,998     1593693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:08:59,999     1593694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:08:59,999     1593694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:09:00,000     1593695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:09:00,000     1593695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:09:02,082     1595777 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:07,094     1600789 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:12,095     1605790 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:17,096     1610791 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:22,097     1615792 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:27,098     1620793 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:32,099     1625794 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:37,100     1630795 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:42,101     1635796 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:47,102     1640797 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:52,103     1645798 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:57,104     1650799 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:09:59,984     1653679 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-11 21:09:59,995     1653690 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:09:59,995     1653690 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:09:59 IST 2012
2012-09-11 21:09:59,998     1653693 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:09:59,999     1653694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:09:59,999     1653694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:09:59,999     1653694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:10:00,000     1653695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:10:00,000     1653695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:10:00,001     1653696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:10:02,105     1655800 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:07,107     1660802 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:12,108     1665803 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:17,110     1670805 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:22,111     1675806 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:27,112     1680807 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:32,113     1685808 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:37,114     1690809 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:42,115     1695810 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:47,116     1700811 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:52,117     1705812 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:57,119     1710814 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:10:59,998     1713693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:10:59,998     1713693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:10:59,999     1713694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:10:59,999     1713694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:11:00,000     1713695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:11:00,001     1713696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:11:02,120     1715815 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:07,121     1720816 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:12,122     1725817 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:17,123     1730818 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:22,125     1735820 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:27,126     1740821 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:32,127     1745822 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:37,128     1750823 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:42,129     1755824 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:47,130     1760825 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:52,131     1765826 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:57,132     1770827 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:11:59,995     1773690 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:11:59,997     1773692 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:11:59 IST 2012
2012-09-11 21:12:00,001     1773696 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:12:00,001     1773696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:12:00,001     1773696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:12:00,002     1773697 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:12:00,002     1773697 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:12:00,003     1773698 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:12:00,003     1773698 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:12:02,133     1775828 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:07,134     1780829 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:12,135     1785830 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:17,136     1790831 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:22,137     1795832 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:27,138     1800833 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:32,139     1805834 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:37,141     1810836 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:42,142     1815837 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:47,143     1820838 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:52,144     1825839 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:57,145     1830840 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:12:59,998     1833693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:12:59,998     1833693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:12:59,999     1833694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:12:59,999     1833694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:13:00,000     1833695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:13:00,001     1833696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:13:02,146     1835841 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:07,147     1840842 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:12,148     1845843 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:17,149     1850844 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:22,150     1855845 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:27,151     1860846 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:32,152     1865847 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:37,153     1870848 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:42,154     1875849 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:47,155     1880850 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:52,156     1885851 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:57,157     1890852 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:13:59,995     1893690 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:13:59,995     1893690 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:13:59 IST 2012
2012-09-11 21:13:59,999     1893694 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:13:59,999     1893694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:14:00,000     1893695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:14:00,000     1893695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:14:00,001     1893696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:14:00,001     1893696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:14:00,001     1893696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:14:02,158     1895853 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:07,159     1900854 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:12,160     1905855 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:17,171     1910866 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:22,172     1915867 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:27,173     1920868 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:32,174     1925869 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:37,175     1930870 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:42,176     1935871 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:47,177     1940872 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:51,325     1945020 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 21:14:51,325     1945020 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 21:14:52,178     1945873 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:57,179     1950874 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:14:59,998     1953693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:14:59,998     1953693 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:14:59,999     1953694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:14:59,999     1953694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:14:59,999     1953694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:15:00,000     1953695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:15:02,180     1955875 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:07,181     1960876 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:12,182     1965877 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:17,183     1970878 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:22,184     1975879 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:27,185     1980880 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:32,186     1985881 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:37,187     1990882 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:42,188     1995883 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:47,189     2000884 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:52,190     2005885 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:57,191     2010886 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:15:59,996     2013691 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:15:59,996     2013691 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:15:59 IST 2012
2012-09-11 21:15:59,999     2013694 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:16:00,000     2013695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:16:00,000     2013695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:16:00,000     2013695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:16:00,001     2013696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:16:00,001     2013696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:16:00,002     2013697 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:16:02,192     2015887 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:07,193     2020888 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:12,194     2025889 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:17,195     2030890 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:22,196     2035891 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:27,197     2040892 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:32,198     2045893 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:37,199     2050894 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:42,200     2055895 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:47,201     2060896 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:52,202     2065897 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:57,204     2070899 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:16:59,999     2073694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:16:59,999     2073694 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:17:00,000     2073695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:17:00,000     2073695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:17:00,000     2073695 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:17:00,001     2073696 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:17:02,205     2075900 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:07,207     2080902 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:12,208     2085903 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:17,210     2090905 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:22,217     2095912 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:27,219     2100914 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:32,220     2105915 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:37,222     2110917 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:42,223     2115918 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:47,225     2120920 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:52,227     2125922 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:17:57,229     2130924 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:00,002     2133697 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:18:00,002     2133697 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:18:00 IST 2012
2012-09-11 21:18:00,010     2133705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:18:00,011     2133706 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:18:00,011     2133706 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:18:00,012     2133707 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:18:00,014     2133709 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:18:00,015     2133710 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:18:00,016     2133711 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:18:02,230     2135925 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:07,232     2140927 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:12,233     2145928 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:17,235     2150930 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:22,236     2155931 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:27,256     2160951 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:32,260     2165955 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:37,262     2170957 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:42,263     2175958 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:47,273     2180968 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:52,274     2185969 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:18:57,279     2190974 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:00,004     2193699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:19:00,004     2193699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:19:00,005     2193700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:19:00,005     2193700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:19:00,006     2193701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:19:00,006     2193701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:19:02,280     2195975 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:07,283     2200978 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:12,285     2205980 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:17,289     2210984 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:22,290     2215985 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:27,292     2220987 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:32,293     2225988 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:37,295     2230990 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:42,296     2235991 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:47,298     2240993 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:52,299     2245994 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:57,301     2250996 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:19:59,991     2253686 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-11 21:20:00,004     2253699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:20:00,004     2253699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:20:00,005     2253700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:20:00,005     2253700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:20:00,006     2253701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:20:00,006     2253701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:20:00,006     2253701 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:20:00,007     2253702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:20:00 IST 2012
2012-09-11 21:20:00,010     2253705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:20:02,302     2255997 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:07,304     2260999 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:12,305     2266000 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:17,307     2271002 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:22,308     2276003 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:27,310     2281005 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:32,311     2286006 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:37,313     2291008 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:42,315     2296010 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:47,317     2301012 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:52,318     2306013 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:20:57,320     2311015 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:00,005     2313700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:21:00,005     2313700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:21:00,006     2313701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:21:00,006     2313701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:21:00,006     2313701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:21:00,007     2313702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:21:02,321     2316016 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:07,323     2321018 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:12,324     2326019 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:17,326     2331021 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:22,327     2336022 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:27,329     2341024 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:32,330     2346025 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:37,332     2351027 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:42,333     2356028 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:47,335     2361030 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:52,336     2366031 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:21:57,338     2371033 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:00,004     2373699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:22:00,004     2373699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:22:00,005     2373700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:22:00,005     2373700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:22:00,005     2373700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:22:00,006     2373701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:22:00,007     2373702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:22:00,007     2373702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:22:00 IST 2012
2012-09-11 21:22:00,010     2373705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:22:02,339     2376034 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:07,342     2381037 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:12,344     2386039 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:17,347     2391042 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:22,348     2396043 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:27,350     2401045 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:32,351     2406046 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:37,353     2411048 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:42,354     2416049 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:47,357     2421052 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:52,358     2426053 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:22:57,360     2431055 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:00,004     2433699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:23:00,004     2433699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:23:00,005     2433700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:23:00,005     2433700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:23:00,005     2433700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:23:00,006     2433701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:23:02,361     2436056 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:07,363     2441058 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:12,364     2446059 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:17,366     2451061 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:22,367     2456062 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:27,369     2461064 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:32,370     2466065 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:37,372     2471067 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:42,380     2476075 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:47,382     2481077 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:52,383     2486078 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:23:57,385     2491080 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:00,004     2493699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:24:00,004     2493699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:24:00,005     2493700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:24:00,005     2493700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:24:00,006     2493701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:24:00,006     2493701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:24:00,008     2493703 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:24:00,008     2493703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:24:00 IST 2012
2012-09-11 21:24:00,012     2493707 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:24:02,387     2496082 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:07,389     2501084 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:12,390     2506085 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:17,393     2511088 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:22,395     2516090 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:27,408     2521103 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:32,413     2526108 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:37,415     2531110 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:42,416     2536111 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:47,419     2541114 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:52,420     2546115 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:24:57,422     2551117 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:00,004     2553699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:25:00,004     2553699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:25:00,005     2553700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:25:00,005     2553700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:25:00,005     2553700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:25:00,006     2553701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:25:02,423     2556118 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:07,425     2561120 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:12,426     2566121 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:17,428     2571123 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:22,429     2576124 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:27,431     2581126 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:32,432     2586127 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:37,434     2591129 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:42,435     2596130 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:47,438     2601133 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:52,439     2606134 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:25:57,441     2611136 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:00,004     2613699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:26:00,004     2613699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:26:00,005     2613700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:26:00,005     2613700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:26:00,005     2613700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:26:00,006     2613701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:26:00,007     2613702 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:26:00,007     2613702 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:26:00 IST 2012
2012-09-11 21:26:00,010     2613705 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:26:02,442     2616137 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:07,444     2621139 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:12,445     2626140 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:17,447     2631142 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:22,448     2636143 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:27,451     2641146 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:32,452     2646147 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:37,454     2651149 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:42,455     2656150 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:47,457     2661152 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:52,458     2666153 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:26:57,460     2671155 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:00,004     2673699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:27:00,004     2673699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:27:00,005     2673700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:27:00,005     2673700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:27:00,005     2673700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:27:00,006     2673701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:27:02,461     2676156 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:07,463     2681158 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:12,464     2686159 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:17,466     2691161 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:22,467     2696162 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:27,469     2701164 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:32,470     2706165 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:37,472     2711167 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:42,473     2716168 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:47,475     2721170 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:52,476     2726171 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:27:57,478     2731173 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:00,004     2733699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:28:00,004     2733699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:28:00,005     2733700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:28:00,005     2733700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:28:00,005     2733700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:28:00,006     2733701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:28:00,008     2733703 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:28:00,008     2733703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:28:00 IST 2012
2012-09-11 21:28:00,011     2733706 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:28:02,479     2736174 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:07,481     2741176 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:12,482     2746177 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:17,484     2751179 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:22,485     2756180 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:27,487     2761182 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:32,488     2766183 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:37,490     2771185 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:42,491     2776186 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:47,493     2781188 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:52,494     2786189 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:28:57,496     2791191 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:00,004     2793699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:29:00,004     2793699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:29:00,005     2793700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:29:00,005     2793700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:29:00,005     2793700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:29:00,006     2793701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:29:02,497     2796192 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:07,499     2801194 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:12,500     2806195 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:17,502     2811197 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:22,503     2816198 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:27,505     2821200 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:32,506     2826201 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:37,508     2831203 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:42,509     2836204 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:47,511     2841206 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:52,512     2846207 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:29:57,514     2851209 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:00,004     2853699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:30:00,004     2853699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:30:00,005     2853700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:30:00,005     2853700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:30:00,005     2853700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:30:00,006     2853701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:30:00,008     2853703 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:30:00,008     2853703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:30:00 IST 2012
2012-09-11 21:30:00,011     2853706 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:30:00,033     2853728 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-11 21:30:02,515     2856210 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:07,517     2861212 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:12,518     2866213 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:17,520     2871215 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:22,521     2876216 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:27,523     2881218 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:32,524     2886219 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:37,526     2891221 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:42,536     2896231 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:47,538     2901233 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:51,364     2905059 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-11 21:30:51,364     2905059 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-11 21:30:52,539     2906234 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:30:57,542     2911237 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:00,004     2913699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:31:00,004     2913699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:31:00,005     2913700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:31:00,005     2913700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:31:00,005     2913700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:31:00,006     2913701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:31:02,543     2916238 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:07,545     2921240 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:12,546     2926241 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:17,549     2931244 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:22,550     2936245 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:27,552     2941247 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:32,553     2946248 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:37,555     2951250 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:42,556     2956251 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:47,558     2961253 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:52,559     2966254 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:31:57,561     2971256 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:00,004     2973699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:32:00,004     2973699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:32:00,006     2973701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:32:00,006     2973701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:32:00,007     2973702 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:32:00,008     2973703 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:32:00,008     2973703 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:32:00,008     2973703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:32:00 IST 2012
2012-09-11 21:32:00,012     2973707 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:32:02,562     2976257 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:07,564     2981259 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:12,565     2986260 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:17,568     2991263 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:22,569     2996264 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:27,572     3001267 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:32,573     3006268 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:37,575     3011270 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:42,576     3016271 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:47,578     3021273 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:52,579     3026274 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:32:57,581     3031276 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:00,004     3033699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:33:00,004     3033699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:33:00,005     3033700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:33:00,005     3033700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:33:00,005     3033700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:33:00,006     3033701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:33:02,582     3036277 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:07,584     3041279 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:12,586     3046281 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:17,588     3051283 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:22,589     3056284 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:27,591     3061286 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:32,592     3066287 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:37,595     3071290 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:42,596     3076291 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:47,598     3081293 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:52,599     3086294 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:33:57,601     3091296 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:00,004     3093699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:34:00,004     3093699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:34:00,005     3093700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:34:00,006     3093701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:34:00,006     3093701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:34:00,006     3093701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:34:00,008     3093703 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:34:00,008     3093703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:34:00 IST 2012
2012-09-11 21:34:00,011     3093706 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:34:02,602     3096297 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:07,605     3101300 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:12,606     3106301 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:17,609     3111304 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:22,610     3116305 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:27,612     3121307 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:32,613     3126308 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:37,615     3131310 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:42,616     3136311 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:47,618     3141313 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:52,619     3146314 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:34:57,621     3151316 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:00,004     3153699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:35:00,004     3153699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:35:00,005     3153700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:35:00,005     3153700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:35:00,005     3153700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:35:00,006     3153701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:35:02,622     3156317 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:07,624     3161319 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:12,625     3166320 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:17,627     3171322 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:22,628     3176323 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:27,630     3181325 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:32,631     3186326 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:37,633     3191328 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:42,634     3196329 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:47,636     3201331 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:52,637     3206332 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:35:57,640     3211335 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:36:00,004     3213699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-11 21:36:00,004     3213699 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-11 21:36:00,005     3213700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-11 21:36:00,005     3213700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-11 21:36:00,005     3213700 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-11 21:36:00,006     3213701 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-11 21:36:00,008     3213703 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-11 21:36:00,008     3213703 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Sat Aug 11 21:36:00 IST 2012
2012-09-11 21:36:00,011     3213706 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-11 21:36:02,641     3216336 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:36:07,642     3221337 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:36:12,643     3226338 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:36:17,644     3231339 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:36:22,645     3236340 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-11 21:36:27,677     3241372 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:37:40,123           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 14:37:41,839        1716 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 14:37:41,950        1827 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 14:37:41,953        1830 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 14:37:41,953        1830 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 14:37:41,956        1833 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 14:37:41,958        1835 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 14:37:41,959        1836 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 14:37:41,959        1836 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 14:38:08,339       28216 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 14:38:08,944       28821 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:38:08,966       28843 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:38:08,968       28845 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:38:08,967       28844 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:38:08,978       28855 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:38:08,978       28855 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:38:08,989       28866 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:38:08,990       28867 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:38:08,992       28869 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:38:08,992       28869 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:38:09,119       28996 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 14:38:09,120       28997 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 14:38:09,120       28997 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 14:38:09,120       28997 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 14:38:14,082       33959 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:19,084       38961 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:24,087       43964 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:24,287       44164 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:29,207       49084 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347384483,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:38:29,211       49088 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:246) - Skip message that is not actual.
2012-09-13 14:38:29,212       49089 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-13 14:38:29,289       49166 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:34,291       54168 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:39,293       59170 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:44,295       64172 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:49,297       69174 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:54,298       74175 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:59,299       79176 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:38:59,999       79876 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:38:59,999       79876 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:39:00,009       79886 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:39:00,010       79887 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:39:00,010       79887 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:39:00,011       79888 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:39:04,301       84178 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:39:47,335           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 14:39:48,459        1124 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 14:39:48,569        1234 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 14:39:48,572        1237 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 14:39:48,573        1238 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 14:39:48,576        1241 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 14:39:48,578        1243 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 14:39:48,579        1244 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 14:39:48,579        1244 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 14:40:13,170       25835 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 14:40:13,510       26175 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:40:13,512       26177 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:40:13,518       26183 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:40:13,519       26184 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:40:13,520       26185 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:40:13,522       26187 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:40:13,525       26190 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:40:13,525       26190 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:40:13,526       26191 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:40:13,530       26195 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:40:13,652       26317 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 14:40:13,654       26319 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 14:40:13,653       26318 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 14:40:13,654       26319 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 14:40:18,536       31201 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:40:23,538       36203 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:40:23,631       36296 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347528334,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:40:23,636       36301 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:40:23,662       36327 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:40:23,755       36420 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:40:28,633       41298 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:40:28,633       41298 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@14b2db7

2012-09-13 14:40:28,634       41299 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 14:40:28,757       41422 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:40:31,090       43755 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:40:33,626       46291 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:40:33,821       46486 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:40:34,062       46727 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 14:40:35,077       47742 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:40:35,077       47742 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-13 14:40:37,978       50643 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-13 14:40:37,979       50644 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 21 more
2012-09-13 14:40:37,989       50654 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #163 | exception org.springframework.mail.MailSendException
2012-09-13 14:40:38,853       51518 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:40:38,987       51652 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-13 14:40:40,499       53164 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-13 14:40:40,499       53164 [taskEmailExecutorThread] ERROR (CancelTaskExceptionHandler.java:27) - Exception catched
org.springframework.mail.MailSendException: Mail server connection failed; nested exception is javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect. Failed messages: javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect; message exception details (1) are:
Failed message 1:
javax.mail.MessagingException: Could not connect to SMTP host: localhost, port: 7777;
  nested exception is:
	java.net.ConnectException: Connection refused: connect
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1391)
	at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
	at javax.mail.Service.connect(Service.java:288)
	at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:340)
	at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:336)
	at com.rosettastone.succor.backgroundtask.impl.EmailSender.sendEmail(EmailSender.java:59)
	at com.rosettastone.succor.backgroundtask.impl.CancelTaskExceptionHandler.doHandleException(CancelTaskExceptionHandler.java:20)
	at com.rosettastone.succor.backgroundtask.impl.AbstractExceptionHandler.handleException(AbstractExceptionHandler.java:19)
	at com.rosettastone.succor.backgroundtask.impl.AbstractDelegatExceptionHandler.handleException(AbstractDelegatExceptionHandler.java:12)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.catchExecutionException(TaskExecutor.java:227)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:115)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
	at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
	at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
	... 17 more
2012-09-13 14:41:39,769           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 14:41:40,887        1118 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 14:41:40,998        1229 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 14:41:41,001        1232 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 14:41:41,001        1232 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 14:41:41,004        1235 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 14:41:41,006        1237 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 14:41:41,007        1238 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 14:41:41,007        1238 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 14:42:04,653       24884 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 14:42:04,990       25221 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:42:04,994       25225 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:42:04,995       25226 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:42:04,995       25226 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:42:04,995       25226 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:42:04,998       25229 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:42:05,005       25236 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:42:05,005       25236 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:42:05,047       25278 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:42:05,054       25285 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:42:05,131       25362 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 14:42:05,132       25363 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 14:42:05,135       25366 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 14:42:05,135       25366 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 14:42:10,009       30240 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:15,011       35242 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:15,119       35350 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:20,095       40326 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347528334,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:42:20,100       40331 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:42:20,116       40347 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:42:20,121       40352 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:25,089       45320 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:42:25,090       45321 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@b1406b

2012-09-13 14:42:25,090       45321 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 14:42:25,124       45355 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:27,490       47721 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:42:30,081       50312 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:42:30,146       50377 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:30,419       50650 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 14:42:30,554       50785 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 14:42:30,556       50787 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:42:35,148       55379 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:40,150       60381 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:45,152       65383 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:50,154       70385 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:55,159       75390 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:42:59,998       80229 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:42:59,998       80229 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:43:00,008       80239 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:43:00,009       80240 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:43:00,010       80241 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:43:00,011       80242 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:43:00,161       80392 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:05,171       85402 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:10,173       90404 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:15,175       95406 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:20,177      100408 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:25,223      105454 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:30,225      110456 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:35,226      115457 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:40,228      120459 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:45,231      125462 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:50,233      130464 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:55,235      135466 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:43:59,995      140226 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 14:43:59,998      140229 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 14:43:59 IST 2012
2012-09-13 14:44:00,101      140332 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 14:44:00,101      140332 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:44:00,102      140333 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:44:00,102      140333 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:44:00,103      140334 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:44:00,104      140335 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:44:00,105      140336 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:44:00,237      140468 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:05,249      145480 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:10,251      150482 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:15,253      155484 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:20,255      160486 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:25,257      165488 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:30,259      170490 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:30,315      170546 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:30,348      170579 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347528334,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:44:30,349      170580 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:44:30,355      170586 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:44:32,589      172820 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:44:32,590      172821 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@17ff759

2012-09-13 14:44:32,598      172829 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:44:35,316      175547 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:35,609      175840 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:44:35,611      175842 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 14:44:35,645      175876 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 14:44:35,646      175877 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:44:40,318      180549 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:45,319      185550 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:50,321      190552 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:55,323      195554 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:44:59,998      200229 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:44:59,998      200229 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:44:59,999      200230 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:45:00,000      200231 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:45:00,000      200231 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:45:00,001      200232 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:45:00,324      200555 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:05,326      205557 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:10,327      210558 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:15,328      215559 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:20,329      220560 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:25,330      225561 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:30,332      230563 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:35,333      235564 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:40,335      240566 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:45,337      245568 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:50,339      250570 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:45:55,340      255571 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:00,000      260231 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 14:46:00,000      260231 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 14:46:00 IST 2012
2012-09-13 14:46:00,004      260235 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 14:46:00,005      260236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:46:00,005      260236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:46:00,006      260237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:46:00,006      260237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:46:00,007      260238 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:46:00,008      260239 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:46:00,342      260573 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:05,343      265574 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:10,346      270577 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:15,347      275578 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:20,350      280581 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:25,352      285583 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:30,355      290586 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:35,357      295588 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:40,360      300591 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:45,364      305595 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:50,369      310600 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:46:55,373      315604 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:00,004      320235 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:47:00,004      320235 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:47:00,005      320236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:47:00,005      320236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:47:00,006      320237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:47:00,007      320238 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:47:00,376      320607 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:05,378      325609 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:10,382      330613 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:15,384      335615 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:20,387      340618 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:25,393      345624 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:30,401      350632 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:35,403      355634 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:40,406      360637 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:45,410      365641 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:50,412      370643 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:47:55,416      375647 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:00,004      380235 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:48:00,004      380235 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:48:00,005      380236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:48:00,006      380237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:48:00,007      380238 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:48:00,007      380238 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:48:00,007      380238 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 14:48:00,008      380239 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 14:48:00 IST 2012
2012-09-13 14:48:00,012      380243 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 14:48:00,418      380649 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:05,421      385652 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:10,424      390655 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:15,425      395656 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:20,429      400660 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:25,431      405662 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:30,433      410664 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:35,435      415666 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:40,437      420668 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:45,438      425669 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:50,440      430671 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:48:55,441      435672 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:00,005      440236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:49:00,005      440236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:49:00,006      440237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:49:00,006      440237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:49:00,007      440238 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:49:00,007      440238 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:49:00,444      440675 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:05,462      445693 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:05,512      445743 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:05,534      445765 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347528334,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:49:05,535      445766 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:49:05,539      445770 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:49:07,728      447959 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:49:07,728      447959 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@13be416

2012-09-13 14:49:07,737      447968 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:49:10,514      450745 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:10,764      450995 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:49:10,767      450998 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 14:49:10,814      451045 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 14:49:10,815      451046 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:49:15,515      455746 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:20,517      460748 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:25,519      465750 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:30,521      470752 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:35,522      475753 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:40,524      480755 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:45,526      485757 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:50,528      490759 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:49:55,529      495760 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:00,004      500235 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:50:00,004      500235 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:50:00,005      500236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:50:00,005      500236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:50:00,006      500237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:50:00,006      500237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:50:00,007      500238 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-13 14:50:00,044      500275 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 14:50:00,044      500275 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 14:50:00 IST 2012
2012-09-13 14:50:00,048      500279 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 14:50:00,531      500762 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:05,532      505763 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:10,536      510767 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:15,538      515769 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:20,541      520772 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:25,543      525774 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:30,545      530776 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:35,546      535777 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:40,548      540779 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:45,549      545780 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:50,551      550782 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:50:55,552      555783 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:00,004      560235 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:51:00,004      560235 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:51:00,005      560236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:51:00,005      560236 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:51:00,006      560237 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:51:00,007      560238 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:51:00,571      560802 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:05,572      565803 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:10,574      570805 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:15,575      575806 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:20,577      580808 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:20,642      580873 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:20,666      580897 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347528334,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:51:20,667      580898 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:51:20,671      580902 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:51:22,834      583065 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:51:22,834      583065 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@116a3de

2012-09-13 14:51:22,842      583073 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:51:25,643      585874 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:25,893      586124 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:51:25,895      586126 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 14:51:25,926      586157 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 14:51:25,927      586158 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:51:30,646      590877 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:51:38,946           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 14:51:40,201        1255 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 14:51:40,315        1369 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 14:51:40,317        1371 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 14:51:40,318        1372 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 14:51:40,321        1375 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 14:51:40,323        1377 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 14:51:40,324        1378 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 14:51:40,324        1378 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 14:52:03,939       24993 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 14:52:04,286       25340 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:52:04,287       25341 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:52:04,289       25343 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:52:04,290       25344 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:52:04,291       25345 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:52:04,292       25346 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:52:04,295       25349 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:52:04,296       25350 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:52:04,297       25351 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:52:04,297       25351 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:52:04,396       25450 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 14:52:04,396       25450 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 14:52:04,401       25455 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 14:52:04,401       25455 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 14:52:09,283       30337 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:14,285       35339 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:19,288       40342 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:24,290       45344 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:29,293       50347 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:29,428       50482 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:29,442       50496 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347528334,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:52:29,448       50502 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:52:29,468       50522 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:52:34,439       55493 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:52:34,440       55494 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@93afc6

2012-09-13 14:52:34,440       55494 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 14:52:34,440       55494 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-13 14:52:34,440       55494 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-13 14:52:34,440       55494 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-13 14:52:34,441       55495 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-13 14:52:34,441       55495 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 14:52:34,443       55497 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:36,687       57741 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-13 14:52:36,898       57952 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:52:39,443       60497 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:52:39,446       60500 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:39,852       60906 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 14:52:39,899       60953 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 14:52:39,901       60955 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:52:44,452       65506 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:49,455       70509 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:52:54,457       75511 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:55:02,779           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 14:55:03,904        1125 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 14:55:04,014        1235 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 14:55:04,017        1238 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 14:55:04,017        1238 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 14:55:04,020        1241 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 14:55:04,022        1243 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 14:55:04,023        1244 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 14:55:04,023        1244 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 14:55:33,029       30250 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 14:55:33,358       30579 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:55:33,362       30583 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:55:33,367       30588 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:55:33,368       30589 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:55:33,370       30591 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:55:33,371       30592 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:55:33,373       30594 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:55:33,374       30595 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:55:33,378       30599 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:55:33,378       30599 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:55:33,483       30704 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 14:55:33,483       30704 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 14:55:33,486       30707 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 14:55:33,486       30707 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 14:55:38,385       35606 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:55:38,516       35737 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:55:38,516       35737 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347528334,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:55:38,520       35741 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:246) - Skip message that is not actual.
2012-09-13 14:55:38,522       35743 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-13 14:55:43,527       40748 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:55:48,530       45751 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:57:13,975           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 14:57:15,103        1128 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 14:57:15,213        1238 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 14:57:15,215        1240 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 14:57:15,216        1241 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 14:57:15,219        1244 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 14:57:15,221        1246 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 14:57:15,222        1247 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 14:57:15,222        1247 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 14:57:43,822       29847 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 14:57:44,142       30167 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:57:44,144       30169 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:57:44,145       30170 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:57:44,144       30169 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:57:44,147       30172 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:57:44,151       30176 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:57:44,154       30179 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:57:44,156       30181 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 14:57:44,156       30181 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:57:44,157       30182 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 14:57:44,289       30314 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 14:57:44,290       30315 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 14:57:44,291       30316 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 14:57:44,291       30316 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 14:57:49,221       35246 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:57:54,223       40248 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:57:54,466       40491 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:57:59,267       45292 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347548379,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 14:57:59,277       45302 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:57:59,278       45303 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:189) - Skip message that is not actual solo right absent.
2012-09-13 14:57:59,278       45303 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 14:57:59,469       45494 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 14:58:00,002       46027 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 14:58:00,002       46027 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 14:58:00,016       46041 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 14:58:00,017       46042 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 14:58:00,018       46043 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 14:58:00,018       46043 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 14:58:00,019       46044 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 14:58:00,022       46047 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 14:58:00 IST 2012
2012-09-13 14:58:00,161       46186 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 17:04:24,361           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 17:04:26,128        1767 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 17:04:26,240        1879 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 17:04:26,275        1914 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 17:04:26,275        1914 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 17:04:26,278        1917 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 17:04:26,280        1919 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 17:04:26,281        1920 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 17:04:26,281        1920 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 17:04:50,251       25890 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 17:04:50,638       26277 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:04:50,647       26286 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:04:50,649       26288 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:04:50,650       26289 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:04:50,660       26299 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:04:50,661       26300 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:04:50,665       26304 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:04:50,666       26305 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:04:50,667       26306 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:04:50,668       26307 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:04:50,773       26412 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 17:04:50,774       26413 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 17:04:50,778       26417 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 17:04:50,778       26417 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 17:04:55,650       31289 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:00,001       35640 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 17:05:00,001       35640 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 17:05:00,012       35651 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 17:05:00,013       35652 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 17:05:00,014       35653 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 17:05:00,015       35654 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 17:05:00,657       36296 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:05,659       41298 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:10,662       46301 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:15,664       51303 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:20,667       56306 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:25,669       61308 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:30,672       66311 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:35,674       71313 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:40,676       76315 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:41,067       76706 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:45,837       81476 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received:  {
  "customer_data": {
    "postal_code": null,
    "country_iso": 4,
    "first_name": "2ant30561",
    "contact_phone_number": null,
    "last_name": "ant30561",
    "support_language_iso": "en-US",
    "address_line_1": null,
    "contact_phone_country_code": null,
    "email": "2ant30561@rs.com",
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": true,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "time_zone": "America/New_York",
    "state_province": null
  },
  "header": {
    "created_at": 1326366072,
    "message_type": "studio_reminder_message",
    "hostname": "stgrun002",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ar",
    "hours": 24,
    "unit": 1,
    "session_id": 181559,
    "student_id": 10046,
    "rs_language_code": "ARA",
    "level": 1,
    "session_start_time": 1347535578,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "attendance_id": 28702
  },
  "license_data": {
    "creation_account_guid": "018450a3-6e3d-48ee-bab6-5d3d119896a8",
    "product_rights": [
      {
        "family": "application",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "eschool",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "premium_community",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      }
    ],
    "creation_account_type": "DateRangeCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 17:05:45,877       81516 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:246) - Skip message that is not actual.
2012-09-13 17:05:45,886       81525 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer null
2012-09-13 17:05:46,069       81708 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:05:51,082       86721 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:06:47,023           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 17:06:48,202        1179 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 17:06:48,313        1290 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 17:06:48,316        1293 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 17:06:48,316        1293 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 17:06:48,320        1297 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 17:06:48,322        1299 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 17:06:48,323        1300 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 17:06:48,323        1300 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 17:07:12,094       25071 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 17:07:12,461       25438 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:07:12,463       25440 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:07:12,464       25441 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:07:12,464       25441 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:07:12,465       25442 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:07:12,466       25443 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:07:12,468       25445 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:07:12,470       25447 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:07:12,475       25452 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:07:12,477       25454 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:07:12,645       25622 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 17:07:12,645       25622 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 17:07:12,649       25626 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 17:07:12,649       25626 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 17:07:12,674       25651 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:07:17,572       30549 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received:  {
  "customer_data": {
    "postal_code": null,
    "country_iso": 4,
    "first_name": "2ant30561",
    "contact_phone_number": null,
    "last_name": "ant30561",
    "support_language_iso": "en-US",
    "address_line_1": null,
    "contact_phone_country_code": null,
    "email": "2ant30561@rs.com",
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": true,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "time_zone": "America/New_York",
    "state_province": null
  },
  "header": {
    "created_at": 1326366072,
    "message_type": "studio_reminder_message",
    "hostname": "stgrun002",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ar",
    "hours": 24,
    "unit": 1,
    "session_id": 181559,
    "student_id": 10046,
    "rs_language_code": "ARA",
    "level": 1,
    "session_start_time": 1347565578,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "attendance_id": 28702
  },
  "license_data": {
    "creation_account_guid": "018450a3-6e3d-48ee-bab6-5d3d119896a8",
    "product_rights": [
      {
        "family": "application",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "eschool",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "premium_community",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      }
    ],
    "creation_account_type": "DateRangeCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 17:07:17,576       30553 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 17:07:17,606       30583 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 17:07:17,677       30654 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:07:22,586       35563 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 17:07:22,586       35563 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@10a4a32

2012-09-13 17:07:22,586       35563 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 17:07:22,586       35563 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[INST]
2012-09-13 17:07:22,586       35563 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-13 17:07:22,586       35563 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-13 17:07:22,587       35564 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseatsnull
2012-09-13 17:07:22,587       35564 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 17:07:22,679       35656 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:07:24,837       37814 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:109) - DRLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLL
package com.rosettastone.succor;
import com.rosettastone.succor.model.bandit.Event;
import com.rosettastone.succor.model.bandit.Message;
import com.rosettastone.succor.model.bandit.Customer;
import com.rosettastone.succor.model.bandit.LevelCompletionMessage;
import com.rosettastone.succor.model.bandit.LevelsCompletedMessage;
import com.rosettastone.succor.model.bandit.StudioReadinessMessage;
import com.rosettastone.succor.model.bandit.StudioReminderMessage;
import com.rosettastone.succor.model.bandit.FirstCompletedStudioSessionMessage;
import com.rosettastone.succor.model.bandit.StudioSessionCancellationMessage;
import com.rosettastone.succor.model.bandit.SessionCancelReason;
import com.rosettastone.succor.model.bandit.CommunityAbsenceMessage;
import com.rosettastone.succor.model.bandit.RWorldEncouragementMessage
import com.rosettastone.succor.model.bandit.ClaimedExtensionsMessage;
import com.rosettastone.succor.model.bandit.FollowUpWithLearnerMessage;
import com.rosettastone.succor.model.bandit.DiscoveryCallMessage;
import com.rosettastone.succor.model.bandit.StudioSatisfactionMessage;
import com.rosettastone.succor.model.bandit.ExpiringSubscriptionMessage;
import com.rosettastone.succor.model.bandit.InitialProfileSetupMessage;
global com.rosettastone.succor.service.EventService eventService;

rule "test s22 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S3") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "24"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 713l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 1 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "true") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 707l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 2 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "false") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 706l;
		$event.internalSuccorData.ignoreDoNotContact = false;
		eventService.sendEmail($event);

end

rule "Rule 3 EN"
	dialect "mvel"
	when
		$event : Event( eval(message is StudioReminderMessage) && (customer.productNames contains "S5") && (internalSuccorData.supportLocale.language == "en") && (message.solo == "false") && (license.grandfathered == "true") && (message.hours == "48"))
	then
		$event.internalSuccorData.updateSuperTicket = false;
		eventService.findSuperTicketId($event);
		$event.internalSuccorData.ruleId = 74l;
		$event.internalSuccorData.ignoreDoNotContact = true;
		eventService.sendEmail($event);

end



2012-09-13 17:07:25,040       38017 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:94) - No rule invoked for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 17:07:25,042       38019 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 17:07:27,716       40693 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:07:32,718       45695 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:07:37,721       50698 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:08:40,128           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 17:08:41,453        1325 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 17:08:41,571        1443 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 17:08:41,575        1447 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 17:08:41,575        1447 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 17:08:41,579        1451 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 17:08:41,582        1454 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 17:08:41,583        1455 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 17:08:41,583        1455 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 17:09:05,297       25169 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 17:09:05,638       25510 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:09:05,641       25513 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:09:05,642       25514 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:09:05,642       25514 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:09:05,644       25516 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:09:05,647       25519 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:09:05,649       25521 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:09:05,650       25522 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:09:05,654       25526 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 17:09:05,655       25527 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 17:09:05,814       25686 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 17:09:05,815       25687 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 17:09:05,817       25689 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 17:09:05,817       25689 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 17:09:05,842       25714 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:09:10,765       30637 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received:  {
  "customer_data": {
    "postal_code": null,
    "country_iso": 4,
    "first_name": "2ant30561",
    "contact_phone_number": null,
    "last_name": "ant30561",
    "support_language_iso": "en-US",
    "address_line_1": null,
    "contact_phone_country_code": null,
    "email": "2ant30561@rs.com",
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "time_zone": "America/New_York",
    "state_province": null
  },
  "header": {
    "created_at": 1326366072,
    "message_type": "studio_reminder_message",
    "hostname": "stgrun002",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ar",
    "hours": 24,
    "unit": 1,
    "session_id": 181559,
    "student_id": 10046,
    "rs_language_code": "ARA",
    "level": 1,
    "session_start_time": 1347565578,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "attendance_id": 28702
  },
  "license_data": {
    "creation_account_guid": "018450a3-6e3d-48ee-bab6-5d3d119896a8",
    "product_rights": [
      {
        "family": "application",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "eschool",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "premium_community",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      }
    ],
    "creation_account_type": "DateRangeCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 17:09:10,770       30642 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 17:09:10,845       30717 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:09:11,328       31200 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 17:09:11,329       31201 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-13 17:09:13,979       33851 [taskPrepareExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-13 17:09:13,980       33852 [taskPrepareExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
com.rosettastone.succor.exception.ObjectNotFoundException: Customer entity for license id = 65558e5a-e201-4019-9e79-99e4443fdaee does not exist.
	at com.rosettastone.succor.service.CustomerSynchronizationService.synchronizeWithBAW(CustomerSynchronizationService.java:59)
	at com.rosettastone.succor.mdp.MessagePreProcessor.prepareMessage(MessagePreProcessor.java:119)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
2012-09-13 17:09:14,019       33891 [taskPrepareExecutorThread] ERROR (EaterExceptionHandler.java:18) - Hanlde exception, task:PREPARE#184
2012-09-13 17:09:15,860       35732 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:09:20,863       40735 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:09:25,865       45737 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:09:30,869       50741 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:09:35,871       55743 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 17:09:40,874       60746 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:06:56,190           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:06:58,097        1907 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:06:58,215        2025 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:06:58,254        2064 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:06:58,254        2064 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:06:58,257        2067 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:06:58,260        2070 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:06:58,261        2071 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:06:58,261        2071 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:07:24,067       27877 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:07:24,448       28258 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:07:24,469       28279 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:07:24,479       28289 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:07:24,479       28289 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:07:24,481       28291 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:07:24,483       28293 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:07:24,487       28297 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:07:24,488       28298 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:07:24,493       28303 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:07:24,494       28304 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:07:24,685       28495 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:07:24,685       28495 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:07:24,689       28499 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:07:24,689       28499 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:07:24,709       28519 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:07:29,628       33438 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received:  {
  "customer_data": {
    "postal_code": null,
    "country_iso": 4,
    "first_name": "2ant30561",
    "contact_phone_number": null,
    "last_name": "ant30561",
    "support_language_iso": "en-US",
    "address_line_1": null,
    "contact_phone_country_code": null,
    "email": "2ant30561@rs.com",
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "time_zone": "America/New_York",
    "state_province": null
  },
  "header": {
    "created_at": 1326366072,
    "message_type": "studio_reminder_message",
    "hostname": "stgrun002",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ar",
    "hours": 24,
    "unit": 1,
    "session_id": 181559,
    "student_id": 10046,
    "rs_language_code": "ARA",
    "level": 1,
    "session_start_time": 1347549741,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "attendance_id": 28702
  },
  "license_data": {
    "creation_account_guid": "018450a3-6e3d-48ee-bab6-5d3d119896a8",
    "product_rights": [
      {
        "family": "application",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "eschool",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "premium_community",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:07:29,706       33516 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:07:29,712       33522 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:07:29,720       33530 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:07:34,645       38455 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:07:34,645       38455 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@93fd01

2012-09-13 18:07:34,646       38456 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:07:34,724       38534 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:07:37,255       41065 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:07:39,594       43404 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:07:39,737       43547 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:07:39,792       43602 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:07:39,793       43603 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-13 18:07:42,536       46346 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-13 18:07:42,537       46347 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
java.lang.NullPointerException
	at com.rosettastone.succor.utils.EmailBodyGenerator.buildCancelBeforeTime(EmailBodyGenerator.java:141)
	at com.rosettastone.succor.utils.EmailBodyGenerator.prepareDataModel(EmailBodyGenerator.java:123)
	at com.rosettastone.succor.utils.EmailBodyGenerator.generateEmailBody(EmailBodyGenerator.java:78)
	at com.rosettastone.succor.service.AbstractEmailService.populateMessage(AbstractEmailService.java:85)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
2012-09-13 18:07:42,553       46363 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #187 | exception java.lang.NullPointerException
2012-09-13 18:07:44,739       48549 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:07:49,742       53552 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:07:54,744       58554 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:07:59,747       63557 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:08:00,003       63813 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 18:08:00,003       63813 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 18:08:00,014       63824 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 18:08:00,014       63824 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 18:08:00,015       63825 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 18:08:00,016       63826 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 18:08:00,016       63826 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 18:08:00,018       63828 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 18:08:00 IST 2012
2012-09-13 18:08:00,084       63894 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 18:08:04,749       68559 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:08:09,751       73561 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:08:14,752       78562 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:08:19,755       83565 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:08:24,757       88567 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:12:24,702           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:12:25,830        1128 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:12:25,945        1243 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:12:25,947        1245 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:12:25,948        1246 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:12:25,951        1249 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:12:25,953        1251 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:12:25,954        1252 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:12:25,954        1252 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:12:49,976       25274 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:12:50,337       25635 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:12:50,338       25636 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:12:50,340       25638 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:12:50,341       25639 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:12:50,342       25640 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:12:50,343       25641 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:12:50,347       25645 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:12:50,350       25648 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:12:50,352       25650 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:12:50,352       25650 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:12:50,460       25758 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:12:50,460       25758 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:12:50,463       25761 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:12:50,464       25762 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:12:55,310       30608 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:13:00,002       35300 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 18:13:00,002       35300 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 18:13:00,013       35311 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 18:13:00,015       35313 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 18:13:00,015       35313 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 18:13:00,016       35314 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 18:13:00,314       35612 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:13:00,429       35727 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:13:00,487       35785 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received:  {
  "customer_data": {
    "postal_code": null,
    "country_iso": 4,
    "first_name": "2ant30561",
    "contact_phone_number": null,
    "last_name": "ant30561",
    "support_language_iso": "en-US",
    "address_line_1": null,
    "contact_phone_country_code": null,
    "email": "2ant30561@rs.com",
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "time_zone": "America/New_York",
    "state_province": null
  },
  "header": {
    "created_at": 1326366072,
    "message_type": "studio_reminder_message",
    "hostname": "stgrun002",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ar",
    "hours": 24,
    "unit": 1,
    "session_id": 181559,
    "student_id": 10046,
    "rs_language_code": "ARA",
    "level": 1,
    "session_start_time": 1347549741,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "attendance_id": 28702
  },
  "license_data": {
    "creation_account_guid": "018450a3-6e3d-48ee-bab6-5d3d119896a8",
    "product_rights": [
      {
        "family": "application",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "eschool",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "premium_community",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:13:00,491       35789 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:13:00,540       35838 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:13:05,430       40728 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:13:05,469       40767 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:13:05,470       40768 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@163c5bb

2012-09-13 18:13:05,470       40768 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:13:07,905       43203 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:13:10,456       45754 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:13:10,469       45767 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:13:10,599       45897 [taskEmailExecutorThread] DEBUG (EmailBodyGenerator.java:141) - PPPPPPPPPPPPPPPPnull
2012-09-13 18:13:10,600       45898 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:13:10,600       45898 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:38) - Inside notifyingHopToad  method===============>>>>>>>>>>>>
2012-09-13 18:13:11,982       47280 [taskEmailExecutorThread] DEBUG (HoptoadNotificationService.java:54) - ====>>>>enjoy200>>>>>>>>>http://hoptoad.rosettastone.com>>>>>>>>>50ff98d5ee3c7de6e53cf2ab21ccbdee
2012-09-13 18:13:11,983       47281 [taskEmailExecutorThread] ERROR (TaskExecutor.java:214) - Catch exception
java.lang.NullPointerException
	at com.rosettastone.succor.utils.EmailBodyGenerator.buildCancelBeforeTime(EmailBodyGenerator.java:142)
	at com.rosettastone.succor.utils.EmailBodyGenerator.prepareDataModel(EmailBodyGenerator.java:123)
	at com.rosettastone.succor.utils.EmailBodyGenerator.generateEmailBody(EmailBodyGenerator.java:78)
	at com.rosettastone.succor.service.AbstractEmailService.populateMessage(AbstractEmailService.java:85)
	at com.rosettastone.succor.service.AbstractEmailService.sendEmail(AbstractEmailService.java:54)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:186)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeMethod(TaskExecutor.java:165)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.invokeBean(TaskExecutor.java:148)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.doExecute(TaskExecutor.java:125)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.executeTask(TaskExecutor.java:108)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.access$2(TaskExecutor.java:103)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:87)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor$1.doInTransaction(TaskExecutor.java:1)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:130)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutor.execute(TaskExecutor.java:81)
	at com.rosettastone.succor.backgroundtask.impl.TaskExecutorThread.run(TaskExecutorThread.java:90)
2012-09-13 18:13:11,985       47283 [taskEmailExecutorThread] DEBUG (EmailSender.java:34) - Notify admin: task id #190 | exception java.lang.NullPointerException
2012-09-13 18:21:49,277           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:21:50,465        1188 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:21:50,577        1300 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:21:50,580        1303 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:21:50,580        1303 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:21:50,584        1307 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:21:50,586        1309 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:21:50,587        1310 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:21:50,587        1310 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:22:17,794       28517 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:22:18,147       28870 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:22:18,150       28873 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:22:18,151       28874 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:22:18,151       28874 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:22:18,153       28876 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:22:18,154       28877 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:22:18,156       28879 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:22:18,158       28881 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:22:18,164       28887 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:22:18,165       28888 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:22:18,311       29034 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:22:18,318       29041 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:22:18,314       29037 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:22:18,318       29041 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:22:18,409       29132 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:22:23,307       34030 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received:  {
  "customer_data": {
    "postal_code": null,
    "country_iso": 4,
    "first_name": "2ant30561",
    "contact_phone_number": null,
    "last_name": "ant30561",
    "support_language_iso": "en-US",
    "address_line_1": null,
    "contact_phone_country_code": null,
    "email": "2ant30561@rs.com",
    "address_line_2": null,
    "last_viewed_locale": "en-US",
    "city": null,
    "institutional": false,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "time_zone": "America/New_York",
    "state_province": null
  },
  "header": {
    "created_at": 1326366072,
    "message_type": "studio_reminder_message",
    "hostname": "stgrun002",
    "schema_version": 1
  },
  "message": {
    "iso_language_code": "ar",
    "hours": 24,
    "unit": 1,
    "session_id": 181559,
    "student_id": 10046,
    "rs_language_code": "ARA",
    "level": 1,
    "session_start_time": 1347549741,
    "guid": "65558e5a-e201-4019-9e79-99e4443fdaee",
    "attendance_id": 28702
  },
  "license_data": {
    "creation_account_guid": "018450a3-6e3d-48ee-bab6-5d3d119896a8",
    "product_rights": [
      {
        "family": "application",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "eschool",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      },
      {
        "family": "premium_community",
        "rs_language_code": "ARA",
        "content_ranges": [
          "1-12"
        ]
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:22:23,321       34044 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:22:23,332       34055 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:22:23,419       34142 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:22:28,304       39027 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:22:28,304       39027 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@8d539f

2012-09-13 18:22:28,304       39027 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:22:28,423       39146 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:22:30,758       41481 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:22:33,290       44013 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:22:33,471       44194 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:22:33,639       44362 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:22:33,701       44424 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:22:33,703       44426 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer 65558e5a-e201-4019-9e79-99e4443fdaee
2012-09-13 18:22:38,500       49223 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:22:43,504       54227 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:22:48,507       59230 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:27:52,576           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:27:53,732        1156 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:27:53,846        1270 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:27:53,849        1273 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:27:53,849        1273 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:27:53,853        1277 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:27:53,855        1279 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:27:53,856        1280 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:27:53,857        1281 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:28:18,076       25500 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:28:18,486       25910 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:28:18,490       25914 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:28:18,492       25916 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:28:18,493       25917 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:28:18,495       25919 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:28:18,496       25920 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:28:18,504       25928 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:28:18,505       25929 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:28:18,508       25932 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:28:18,509       25933 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:28:18,692       26116 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:28:18,692       26116 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:28:18,697       26121 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:28:18,698       26122 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:28:18,796       26220 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:28:23,633       31057 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347948379,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:28:23,638       31062 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:28:23,662       31086 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:28:23,799       31223 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:28:28,625       36049 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:28:28,625       36049 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1c7510d

2012-09-13 18:28:28,626       36050 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:28:28,806       36230 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:28:31,285       38709 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:28:33,619       41043 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:28:33,971       41395 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:28:34,057       41481 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:28:34,151       41575 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:28:34,153       41577 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:28:38,974       46398 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:28:43,980       51404 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:28:48,988       56412 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:28:53,990       61414 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:28:58,993       66417 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:00,003       67427 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 18:29:00,004       67428 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 18:29:00,016       67440 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 18:29:00,017       67441 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 18:29:00,020       67444 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 18:29:00,021       67445 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 18:29:04,008       71432 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:09,011       76435 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:14,013       81437 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:19,016       86440 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:24,018       91442 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:29,029       96453 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:34,031      101455 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:39,034      106458 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:44,036      111460 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:49,039      116463 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:54,040      121464 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:29:59,043      126467 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:00,004      127428 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 18:30:00,004      127428 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 18:30:00,005      127429 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 18:30:00,006      127430 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 18:30:00,007      127431 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 18:30:00,008      127432 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 18:30:00,008      127432 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-13 18:30:00,026      127450 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 18:30:00,030      127454 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 18:30:00 IST 2012
2012-09-13 18:30:00,082      127506 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 18:30:04,053      131477 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:09,056      136480 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:14,059      141483 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:19,062      146486 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:19,146      146570 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:23,793      151217 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347948379,
  	"number_of_seats": 4,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:30:23,795      151219 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:30:23,801      151225 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:30:24,148      151572 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:26,400      153824 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:30:26,400      153824 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@102bdd0

2012-09-13 18:30:26,409      153833 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:30:29,151      156575 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:29,308      156732 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:30:29,311      156735 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:30:29,348      156772 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:30:29,349      156773 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:30:34,152      161576 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:39,155      166579 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:44,157      171581 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:49,160      176584 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:54,161      181585 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:30:59,164      186588 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:31:00,004      187428 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 18:31:00,004      187428 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 18:31:00,005      187429 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 18:31:00,006      187430 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 18:31:00,006      187430 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 18:31:00,007      187431 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 18:31:04,166      191590 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:31:09,169      196593 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:31:14,171      201595 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:31:19,174      206598 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:31:24,175      211599 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:31:29,178      216602 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:31:34,180      221604 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:32:18,617           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:32:19,801        1184 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:32:19,920        1303 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:32:19,923        1306 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:32:19,923        1306 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:32:19,926        1309 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:32:19,928        1311 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:32:19,929        1312 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:32:19,929        1312 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:32:46,553       27936 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:32:46,911       28294 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:32:46,913       28296 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:32:46,916       28299 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:32:46,919       28302 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:32:46,919       28302 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:32:46,919       28302 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:32:46,926       28309 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:32:46,927       28310 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:32:46,930       28313 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:32:46,931       28314 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:32:47,112       28495 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:32:47,112       28495 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:32:47,115       28498 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:32:47,116       28499 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:32:47,149       28532 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:32:52,038       33421 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347948379,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:32:52,043       33426 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:32:52,055       33438 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:32:52,151       33534 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:32:57,032       38415 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:32:57,032       38415 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1d626a4

2012-09-13 18:32:57,032       38415 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 18:32:57,032       38415 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-13 18:32:57,032       38415 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-13 18:32:57,033       38416 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-13 18:32:57,033       38416 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-13 18:32:57,033       38416 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:32:57,155       38538 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:32:59,541       40924 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:33:00,002       41385 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 18:33:00,003       41386 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 18:33:00,017       41400 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 18:33:00,018       41401 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 18:33:00,019       41402 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 18:33:00,020       41403 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 18:33:02,021       43404 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:33:02,204       43587 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:33:02,362       43745 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:33:02,422       43805 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:33:02,424       43807 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:33:07,216       48599 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:34:56,396           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:34:57,587        1191 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:34:57,697        1301 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:34:57,700        1304 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:34:57,701        1305 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:34:57,705        1309 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:34:57,708        1312 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:34:57,709        1313 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:34:57,709        1313 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:35:22,488       26092 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:35:22,838       26442 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:35:22,840       26444 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:35:22,840       26444 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:35:22,843       26447 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:35:22,842       26446 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:35:22,844       26448 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:35:22,849       26453 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:35:22,850       26454 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:35:22,854       26458 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:35:22,855       26459 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:35:23,010       26614 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:35:23,010       26614 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:35:23,011       26615 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:35:23,011       26615 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:35:23,083       26687 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:35:27,971       31575 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "ENG",
    "level": 1,
    "session_start_time": 1347948379,
  	"number_of_seats": 4,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:35:27,977       31581 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:35:27,993       31597 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:35:28,085       31689 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:35:32,954       36558 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:35:32,954       36558 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@e59895

2012-09-13 18:35:32,954       36558 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 18:35:32,955       36559 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-13 18:35:32,955       36559 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredfalse
2012-09-13 18:35:32,955       36559 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-13 18:35:32,955       36559 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats4
2012-09-13 18:35:32,955       36559 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:35:33,115       36719 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:35:35,476       39080 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:35:37,956       41560 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:35:38,246       41850 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:35:38,306       41910 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:35:38,362       41966 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:35:38,364       41968 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:41:21,102           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:41:22,314        1212 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:41:22,430        1328 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:41:22,433        1331 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:41:22,433        1331 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:41:22,437        1335 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:41:22,439        1337 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:41:22,440        1338 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:41:22,440        1338 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:41:50,171       29069 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:41:50,523       29421 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:41:50,525       29423 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:41:50,528       29426 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:41:50,528       29426 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:41:50,531       29429 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:41:50,532       29430 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:41:50,537       29435 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:41:50,537       29435 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:41:50,544       29442 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:41:50,590       29488 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:41:50,703       29601 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:41:50,704       29602 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:41:50,707       29605 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:41:50,707       29605 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:41:50,785       29683 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:41:55,637       34535 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347948379,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:41:55,642       34540 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:41:55,658       34556 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:41:55,787       34685 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:42:00,003       38901 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 18:42:00,003       38901 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 18:42:00,014       38912 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 18:42:00,015       38913 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 18:42:00,016       38914 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 18:42:00,016       38914 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 18:42:00,017       38915 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 18:42:00,020       38918 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 18:42:00 IST 2012
2012-09-13 18:42:00,161       39059 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 18:42:00,619       39517 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:42:00,619       39517 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@5f387c

2012-09-13 18:42:00,620       39518 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 18:42:00,620       39518 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-13 18:42:00,620       39518 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-13 18:42:00,620       39518 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-13 18:42:00,620       39518 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-13 18:42:00,620       39518 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:42:00,887       39785 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:42:03,218       42116 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:42:54,887           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:42:56,039        1152 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:42:56,158        1271 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:42:56,160        1273 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:42:56,161        1274 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:42:56,164        1277 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:42:56,166        1279 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:42:56,167        1280 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:42:56,167        1280 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:43:31,802       36915 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:43:32,045       37158 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:43:32,048       37161 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:43:32,048       37161 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:43:32,049       37162 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:43:32,050       37163 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:43:32,053       37166 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:43:32,058       37171 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:43:32,059       37172 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:43:32,062       37175 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:43:32,062       37175 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:43:32,175       37288 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:43:32,175       37288 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:43:32,181       37294 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:43:32,181       37294 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:43:32,286       37399 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:43:32,392       37505 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:43:32,496       37609 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:43:32,691       37804 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:43:32,693       37806 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:43:37,207       42320 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347948379,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:43:37,224       42337 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:43:37,233       42346 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:43:37,395       42508 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:43:42,212       47325 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:43:42,212       47325 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@f0b51d

2012-09-13 18:43:42,212       47325 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 18:43:42,213       47326 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-13 18:43:42,213       47326 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-13 18:43:42,213       47326 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-13 18:43:42,213       47326 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-13 18:43:42,213       47326 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:43:42,400       47513 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:43:44,676       49789 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:43:47,460       52573 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:43:47,739       52852 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:43:47,741       52854 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:43:47,767       52880 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:43:47,768       52881 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:45:36,650           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:45:37,828        1178 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:45:37,939        1289 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:45:37,942        1292 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:45:37,942        1292 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:45:37,946        1296 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:45:37,948        1298 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:45:37,949        1299 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:45:37,949        1299 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:46:02,550       25900 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:46:02,894       26244 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:46:02,897       26247 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:46:02,898       26248 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:46:02,900       26250 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:46:02,900       26250 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:46:02,901       26251 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:46:02,905       26255 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:46:02,906       26256 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:46:02,912       26262 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:46:02,913       26263 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:46:03,064       26414 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:46:03,066       26416 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:46:03,070       26420 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:46:03,070       26420 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:46:03,111       26461 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:46:08,009       31359 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347948379,
  	"number_of_seats": 1,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:46:08,018       31368 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:46:08,032       31382 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:46:08,114       31464 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:46:13,005       36355 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:46:13,005       36355 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1d48043

2012-09-13 18:46:13,006       36356 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 18:46:13,006       36356 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-13 18:46:13,006       36356 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-13 18:46:13,006       36356 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solotrue
2012-09-13 18:46:13,006       36356 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats1
2012-09-13 18:46:13,006       36356 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:46:13,212       36562 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:46:15,586       38936 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:46:17,994       41344 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:46:18,279       41629 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:46:18,340       41690 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:46:18,396       41746 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:46:18,398       41748 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:46:41,544           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:46:42,716        1172 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:46:42,828        1284 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:46:42,831        1287 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:46:42,831        1287 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:46:42,834        1290 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:46:42,836        1292 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:46:42,837        1293 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:46:42,837        1293 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:47:08,793       27249 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:47:09,136       27592 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:47:09,138       27594 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:47:09,140       27596 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:47:09,143       27599 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:47:09,144       27600 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:47:09,146       27602 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:47:09,149       27605 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:47:09,151       27607 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:47:09,152       27608 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:47:09,151       27607 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:47:09,321       27777 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:47:09,321       27777 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:47:09,325       27781 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:47:09,325       27781 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:47:09,347       27803 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:47:14,249       32705 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347948379,
  	"number_of_seats": 4,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:47:14,258       32714 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:47:14,272       32728 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:47:14,349       32805 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:47:19,241       37697 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:47:19,241       37697 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1be996d

2012-09-13 18:47:19,242       37698 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 18:47:19,242       37698 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-13 18:47:19,243       37699 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-13 18:47:19,243       37699 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-13 18:47:19,243       37699 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseats4
2012-09-13 18:47:19,243       37699 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:47:19,408       37864 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:47:21,706       40162 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:47:24,249       42705 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:47:24,531       42987 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:47:24,590       43046 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:47:24,637       43093 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:47:24,640       43096 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:49:23,255           0 [main] INFO  (SpringLauncher.java:15) - Loading application context
2012-09-13 18:49:24,423        1168 [main] INFO  (TicketSerializer.java:42) - Initialize xstream
2012-09-13 18:49:24,535        1280 [main] INFO  (TicketSerializer.java:92) - Register converters
2012-09-13 18:49:24,537        1282 [main] INFO  (TicketSerializer.java:68) - Register aliases
2012-09-13 18:49:24,538        1283 [main] INFO  (TicketSerializer.java:48) - Initialize xstream - finished
2012-09-13 18:49:24,541        1286 [main] INFO  (ActionSerializer.java:33) - Initialize xstream
2012-09-13 18:49:24,543        1288 [main] INFO  (ActionSerializer.java:61) - Register converters
2012-09-13 18:49:24,544        1289 [main] INFO  (ActionSerializer.java:55) - Register aliases
2012-09-13 18:49:24,544        1289 [main] INFO  (ActionSerializer.java:37) - Initialize xstream - finished
2012-09-13 18:49:52,884       29629 [rabbitMqListener] DEBUG (RabbitMqListener.java:113) - Main loop started
2012-09-13 18:49:53,240       29985 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:49:53,242       29987 [taskPrepareExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:49:53,244       29989 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:49:53,246       29991 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:49:53,247       29992 [taskSMSExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:49:53,248       29993 [taskEmailExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:49:53,253       29998 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:49:53,253       29998 [taskRuleExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:49:53,259       30004 [main] INFO  (TaskExecutorThread.java:47) - init
2012-09-13 18:49:53,261       30006 [taskDiscoveryCallExecutorThread] INFO  (TaskExecutorThread.java:83) - Started
2012-09-13 18:49:53,424       30169 [annotationScheduler-1] DEBUG (EmailReportTimer.java:61) - checkFailureTimer
2012-09-13 18:49:53,424       30169 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:63) - checkFailureTimer
2012-09-13 18:49:53,427       30172 [main] INFO  (SpringLauncher.java:28) - Loading application context - Done
2012-09-13 18:49:53,427       30172 [main] INFO  (SpringLauncher.java:29) - Application started
2012-09-13 18:49:53,496       30241 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:49:58,375       35120 [taskPrepareExecutorThread] DEBUG (MessagePreProcessor.java:79) - Received: {
  "customer_data": {
    "postal_code": "",
    "country_iso": 840,
    "first_name": "naman",
    "contact_phone_number": "",
    "last_name": "naman",
    "support_language_iso": "en-US",
    "address_line_1": "",
    "email": "engnamn@rs.com",
    "contact_phone_country_code": "",
    "address_line_2": "",
    "last_viewed_locale": "en-US",
    "city": "",
    "institutional": false,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
    "time_zone": "America/New_York",
    "state_province": ""
  },
  "header": {
    "created_at": 1346187696,
    "hostname": "stgrun001",
    "message_type": "studio_reminder_message",
    "schema_version": 1
  },
  "message": {
    "eschool_session_id": 267155,
    "iso_language_code": "en-US",
    "hours": 48,
    "unit": 1,
    "session_id": 267155,
    "student_id": 21988,
    "rs_language_code": "CHI",
    "level": 1,
    "session_start_time": 1347948379,
    "guid": "f6a17653-21c3-4948-b466-5495d26d3a6e",
	"cancellation_window_in_seconds": 86400,
    "attendance_id": 36467
  },
  "license_data": {
    "creation_account_guid": "35db3747-bddd-4275-9965-d61074fdb11f",
    "product_rights": [
      {
        "family": "application",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "family": "eschool",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_group_sessions"
      },
      {
        "rs_language_code": "ENG",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool_one_on_one_sessions"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
       "family": "eschool_one_on_one_sessions"
      },
      {
        "family": "premium_community",
        "content_ranges": [
          "1-20"
        ],
        "rs_language_code": "ENG"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "application"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "eschool"
      },
      {
        "rs_language_code": "CHI",
        "content_ranges": [
          "1-20"
        ],
        "family": "premium_community"
      }
    ],
    "creation_account_type": "FamilyCreationAccount",
    "test_license": true,
    "upgraded_at": 0
  }
}

2012-09-13 18:49:58,380       35125 [taskPrepareExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:49:58,396       35141 [taskPrepareExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:49:58,499       35244 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:50:00,001       36746 [annotationScheduler-1] DEBUG (ResetNextRunTimer.java:30) - Inside resetNextRun method
2012-09-13 18:50:00,103       36848 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:50) - mainTimer
2012-09-13 18:50:00,105       36850 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:77) - Load list of postal information
2012-09-13 18:50:00,115       36860 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'en'
2012-09-13 18:50:00,116       36861 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ja'
2012-09-13 18:50:00,116       36861 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'es'
2012-09-13 18:50:00,117       36862 [annotationScheduler-1] DEBUG (SendPostalBatchTimer.java:99) - There are '0' unprocessed entities for locale 'ko'
2012-09-13 18:50:00,117       36862 [annotationScheduler-1] DEBUG (RemoveOldParatureTaskAndHistoryTimer.java:30) - Inside cleanDB method
2012-09-13 18:50:00,121       36866 [annotationScheduler-1] DEBUG (TaskDao.java:153) - Delete old data --- Mon Aug 13 18:50:00 IST 2012
2012-09-13 18:50:00,174       36919 [annotationScheduler-1] DEBUG (TaskDao.java:171) - Old messages were removed: 0
2012-09-13 18:50:03,370       40115 [taskRuleExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:50:03,370       40115 [taskRuleExecutorThread] DEBUG (RabbitMqMessageProcessor.java:28) - Received: com.rosettastone.succor.model.bandit.Event@1535ac

2012-09-13 18:50:03,370       40115 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:75) - 11111111111111class com.rosettastone.succor.model.bandit.StudioReminderMessage
2012-09-13 18:50:03,370       40115 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:80) - 4444444444444444product[S5]
2012-09-13 18:50:03,370       40115 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:81) - 5555555555555555Grandfatheredtrue
2012-09-13 18:50:03,370       40115 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:82) - 6666666666666666solofalse
2012-09-13 18:50:03,371       40116 [taskRuleExecutorThread] DEBUG (RulesInvoker.java:83) - 7777777777777777numberofseatsnull
2012-09-13 18:50:03,371       40116 [taskRuleExecutorThread] INFO  (RulesInvoker.java:106) - Update drools rules.
2012-09-13 18:50:03,638       40383 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:50:05,986       42731 [taskRuleExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:50:08,358       45103 [taskEmailExecutorThread] DEBUG (EventScope.java:93) - Initialize scope for event f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:50:08,460       45205 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:55) - sending email
2012-09-13 18:50:08,516       45261 [taskEmailExecutorThread] DEBUG (AbstractEmailService.java:57) - sending email done
2012-09-13 18:50:08,518       45263 [taskEmailExecutorThread] DEBUG (EventScope.java:107) - Destroy scope for customer f6a17653-21c3-4948-b466-5495d26d3a6e
2012-09-13 18:50:08,642       45387 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:50:13,661       50406 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:50:18,663       55408 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:50:23,665       60410 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
2012-09-13 18:50:28,668       65413 [rabbitMqListener] INFO  (RabbitMqListener.java:116) - RMQ alive
